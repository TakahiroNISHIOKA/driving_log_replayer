{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Driving Log Replayer Documentation Driving Log Replayer \u65e5\u672c\u8a9e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 About Driving Log Replayer Driving Log Replayer is a ROS package that evaluates the functionality of Autoware.Universe Getting started Introduction Scenario Format Result Format Use Case","title":"Driving Log Replayer Documentation"},{"location":"#driving-log-replayer-documentation","text":"Driving Log Replayer \u65e5\u672c\u8a9e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8","title":"Driving Log Replayer Documentation"},{"location":"#about-driving-log-replayer","text":"Driving Log Replayer is a ROS package that evaluates the functionality of Autoware.Universe","title":"About Driving Log Replayer"},{"location":"#getting-started","text":"Introduction Scenario Format Result Format Use Case","title":"Getting started"},{"location":"introduction/","text":"\u306f\u3058\u3081\u306b Driving Log Replayer \u306f\u3001log(rosbag2)\u3092\u7528\u3044\u3066 Autoware \u306e open loop simulation \u3092\u5b9f\u884c\u3057\u3001\u305d\u306e\u7d50\u679c\u3092\u8a55\u4fa1\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u3067\u3042\u308b\u3002 Sensing, Localization, Perception \u306e\u6027\u80fd\u78ba\u8a8d\u3068\u3001\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u30ea\u30b0\u30ec\u30c3\u30b7\u30e7\u30f3\u30c6\u30b9\u30c8\u306b\u4f7f\u7528\u3059\u308b\u3002 \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3 \u56f3\u306b\u793a\u3059\u3088\u3046\u306b\u3001Autoware \u306e\u6a19\u6e96\u6a5f\u80fd\u306b Driving Log Replayer \u56fa\u6709\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u884c\u6a5f\u80fd\u3068\u8a55\u4fa1\u6a5f\u80fd\u3092\u4ed8\u52a0\u3057\u305f\u69cb\u6210\u3068\u306a\u3063\u3066\u3044\u308b\u3002 \u95a2\u9023\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 AutowareDocumentation WebAutoDocumentation \u95a2\u9023\u30ea\u30dd\u30b8\u30c8\u30ea ros2bag_extensions perception_eval","title":"\u306f\u3058\u3081\u306b"},{"location":"introduction/#_1","text":"Driving Log Replayer \u306f\u3001log(rosbag2)\u3092\u7528\u3044\u3066 Autoware \u306e open loop simulation \u3092\u5b9f\u884c\u3057\u3001\u305d\u306e\u7d50\u679c\u3092\u8a55\u4fa1\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u3067\u3042\u308b\u3002 Sensing, Localization, Perception \u306e\u6027\u80fd\u78ba\u8a8d\u3068\u3001\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u30ea\u30b0\u30ec\u30c3\u30b7\u30e7\u30f3\u30c6\u30b9\u30c8\u306b\u4f7f\u7528\u3059\u308b\u3002","title":"\u306f\u3058\u3081\u306b"},{"location":"introduction/#_2","text":"\u56f3\u306b\u793a\u3059\u3088\u3046\u306b\u3001Autoware \u306e\u6a19\u6e96\u6a5f\u80fd\u306b Driving Log Replayer \u56fa\u6709\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u884c\u6a5f\u80fd\u3068\u8a55\u4fa1\u6a5f\u80fd\u3092\u4ed8\u52a0\u3057\u305f\u69cb\u6210\u3068\u306a\u3063\u3066\u3044\u308b\u3002","title":"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3"},{"location":"introduction/#_3","text":"AutowareDocumentation WebAutoDocumentation","title":"\u95a2\u9023\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8"},{"location":"introduction/#_4","text":"ros2bag_extensions perception_eval","title":"\u95a2\u9023\u30ea\u30dd\u30b8\u30c8\u30ea"},{"location":"introduction/overview/","text":"\u30d1\u30c3\u30b1\u30fc\u30b8\u6982\u8981 Driving Log Replayer \u306f\u3001\u8a55\u4fa1\u306e\u6761\u4ef6\u304c\u8a18\u8f09\u3055\u308c\u305f\u30b7\u30ca\u30ea\u30aa\u3092\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u8aad\u307f\u53d6\u308a\u3001autoware \u3092\u8d77\u52d5\u3057\u3001\u8a55\u4fa1\u7d50\u679c\u3092 jsonl \u30d5\u30a1\u30a4\u30eb\u5f62\u5f0f\u3067\u51fa\u529b\u3059\u308b\u3068\u3044\u3046\u52d5\u4f5c\u3092\u884c\u3046\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u306a\u3063\u3066\u3044\u308b\u3002 \u6982\u8981\u3092\u56f3\u306b\u793a\u3059\u3002 \u958b\u767a\u74b0\u5883 autoware.universe \u304c\u52d5\u4f5c\u3059\u308b\u74b0\u5883\u3067\u4ee5\u4e0b\u306e\u901a\u308a\u3068\u3059\u308b\u3002 Ubuntu 20.04 / 22.04 ROS galactic / humble Python 3.8 / 3.10 \u5b9f\u884c\u74b0\u5883 \u958b\u767a\u74b0\u5883\u3068\u540c\u3058\u3002 \u5229\u7528\u30d5\u30ed\u30fc \u8a55\u4fa1\u7528\u306e bag \u3092\u5b9f\u8eca\u3067\u53d6\u5f97\u3059\u308b \u53d6\u5f97\u3057\u305f bag \u3092\u5fc5\u8981\u306a\u6642\u9593\u3001topic \u3060\u3051\u6b8b\u308b\u3088\u3046\u306b\u30d5\u30a3\u30eb\u30bf\u3059\u308b ROS2 \u306e\u5834\u5408\u306f galactic \u3067\u3082\u672a\u3060\u306b filter \u30b3\u30de\u30f3\u30c9\u304c\u5b9f\u88c5\u3055\u308c\u3066\u3044\u306a\u3044\u306e\u3067 tier4 \u3067\u958b\u767a\u3057\u305f ros2bag_extensions \u3092\u4f7f\u7528\u3059\u308b \u53ce\u9332\u6642\u306b autoware \u304c\u51fa\u529b\u3057\u305f\u30c8\u30d4\u30c3\u30af\u3092\u843d\u3068\u3057\u3066\u30bb\u30f3\u30b5\u30fc\u30c8\u30d4\u30c3\u30af\u3060\u3051\u3092\u6b8b\u3059 \u8d70\u884c\u524d\u3084\u8d70\u884c\u5f8c\u306e\u8a55\u4fa1\u306b\u4e0d\u8981\u306a\u6642\u9593\u3092\u30ab\u30c3\u30c8\u3059\u308b(\u305f\u3060\u3057\u3001\u521d\u671f\u4f4d\u7f6e\u4f4d\u7f6e\u5408\u308f\u305b\u306b\u8eca\u4e21\u304c\u9759\u6b62\u3057\u3066\u3044\u308b\u6642\u9593\u304c 3 \u79d2\u4ee5\u4e0a\u5fc5\u8981\u306a\u306e\u3067\u8d70\u884c\u958b\u59cb\u524d\u306e 10 \u79d2\u7a0b\u5ea6\u306f\u6b8b\u3057\u3066\u304a\u304f) \u30b7\u30ca\u30ea\u30aa\u3092\u4f5c\u6210\u3059\u308b sample \u30d5\u30a9\u30eb\u30c0\u5185\u306b\u30b7\u30ca\u30ea\u30aa\u306e\u4f8b\u3042\u308a \u8a18\u8ff0\u65b9\u6cd5\u306f\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u5b9a\u7fa9\u3092\u53c2\u7167 \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u304c obstacle_segmentation, perception \u306e\u5834\u5408\u3001t4_dataset \u3078\u306e\u5909\u63db\u306b\u5bfe\u5fdc\u3057\u305f\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u30c4\u30fc\u30eb\u3067\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u65bd\u3059\u308b\u3002 t4_dataset \u5909\u63db\u30c4\u30fc\u30eb\u306f\u516c\u958b\u6e96\u5099\u4e2d \u8a55\u4fa1\u3092\u5b9f\u884c\u3059\u308b\u3002","title":"\u30d1\u30c3\u30b1\u30fc\u30b8\u6982\u8981"},{"location":"introduction/overview/#_1","text":"Driving Log Replayer \u306f\u3001\u8a55\u4fa1\u306e\u6761\u4ef6\u304c\u8a18\u8f09\u3055\u308c\u305f\u30b7\u30ca\u30ea\u30aa\u3092\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u8aad\u307f\u53d6\u308a\u3001autoware \u3092\u8d77\u52d5\u3057\u3001\u8a55\u4fa1\u7d50\u679c\u3092 jsonl \u30d5\u30a1\u30a4\u30eb\u5f62\u5f0f\u3067\u51fa\u529b\u3059\u308b\u3068\u3044\u3046\u52d5\u4f5c\u3092\u884c\u3046\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u306a\u3063\u3066\u3044\u308b\u3002 \u6982\u8981\u3092\u56f3\u306b\u793a\u3059\u3002","title":"\u30d1\u30c3\u30b1\u30fc\u30b8\u6982\u8981"},{"location":"introduction/overview/#_2","text":"autoware.universe \u304c\u52d5\u4f5c\u3059\u308b\u74b0\u5883\u3067\u4ee5\u4e0b\u306e\u901a\u308a\u3068\u3059\u308b\u3002 Ubuntu 20.04 / 22.04 ROS galactic / humble Python 3.8 / 3.10","title":"\u958b\u767a\u74b0\u5883"},{"location":"introduction/overview/#_3","text":"\u958b\u767a\u74b0\u5883\u3068\u540c\u3058\u3002","title":"\u5b9f\u884c\u74b0\u5883"},{"location":"introduction/overview/#_4","text":"\u8a55\u4fa1\u7528\u306e bag \u3092\u5b9f\u8eca\u3067\u53d6\u5f97\u3059\u308b \u53d6\u5f97\u3057\u305f bag \u3092\u5fc5\u8981\u306a\u6642\u9593\u3001topic \u3060\u3051\u6b8b\u308b\u3088\u3046\u306b\u30d5\u30a3\u30eb\u30bf\u3059\u308b ROS2 \u306e\u5834\u5408\u306f galactic \u3067\u3082\u672a\u3060\u306b filter \u30b3\u30de\u30f3\u30c9\u304c\u5b9f\u88c5\u3055\u308c\u3066\u3044\u306a\u3044\u306e\u3067 tier4 \u3067\u958b\u767a\u3057\u305f ros2bag_extensions \u3092\u4f7f\u7528\u3059\u308b \u53ce\u9332\u6642\u306b autoware \u304c\u51fa\u529b\u3057\u305f\u30c8\u30d4\u30c3\u30af\u3092\u843d\u3068\u3057\u3066\u30bb\u30f3\u30b5\u30fc\u30c8\u30d4\u30c3\u30af\u3060\u3051\u3092\u6b8b\u3059 \u8d70\u884c\u524d\u3084\u8d70\u884c\u5f8c\u306e\u8a55\u4fa1\u306b\u4e0d\u8981\u306a\u6642\u9593\u3092\u30ab\u30c3\u30c8\u3059\u308b(\u305f\u3060\u3057\u3001\u521d\u671f\u4f4d\u7f6e\u4f4d\u7f6e\u5408\u308f\u305b\u306b\u8eca\u4e21\u304c\u9759\u6b62\u3057\u3066\u3044\u308b\u6642\u9593\u304c 3 \u79d2\u4ee5\u4e0a\u5fc5\u8981\u306a\u306e\u3067\u8d70\u884c\u958b\u59cb\u524d\u306e 10 \u79d2\u7a0b\u5ea6\u306f\u6b8b\u3057\u3066\u304a\u304f) \u30b7\u30ca\u30ea\u30aa\u3092\u4f5c\u6210\u3059\u308b sample \u30d5\u30a9\u30eb\u30c0\u5185\u306b\u30b7\u30ca\u30ea\u30aa\u306e\u4f8b\u3042\u308a \u8a18\u8ff0\u65b9\u6cd5\u306f\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u5b9a\u7fa9\u3092\u53c2\u7167 \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u304c obstacle_segmentation, perception \u306e\u5834\u5408\u3001t4_dataset \u3078\u306e\u5909\u63db\u306b\u5bfe\u5fdc\u3057\u305f\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u30c4\u30fc\u30eb\u3067\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u65bd\u3059\u308b\u3002 t4_dataset \u5909\u63db\u30c4\u30fc\u30eb\u306f\u516c\u958b\u6e96\u5099\u4e2d \u8a55\u4fa1\u3092\u5b9f\u884c\u3059\u308b\u3002","title":"\u5229\u7528\u30d5\u30ed\u30fc"},{"location":"introduction/preparation/","text":"\u6e96\u5099 driving_log_replayer \u3092\u5229\u7528\u3059\u308b\u306b\u306f\u4ee5\u4e0b\u306e\u4f5c\u696d\u304c\u5fc5\u8981\u3068\u306a\u308b\u3002 driving_log_replayer \u3092 autoware \u3068\u4e00\u7dd2\u306b\u30d3\u30eb\u30c9\u3059\u308b driving_log_replayer_cli \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b cli \u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b \u8a55\u4fa1\u7528\u306e\u30b7\u30ca\u30ea\u30aa\u3068\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3092\u6307\u5b9a\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u914d\u7f6e\u3059\u308b driving_log_replayer \u30d1\u30c3\u30b1\u30fc\u30b8\u30d3\u30eb\u30c9 \u672c\u30d1\u30c3\u30b1\u30fc\u30b8\u306f Autoware \u306e\u6a5f\u80fd\u3092\u4f7f\u7528\u3059\u308b\u306e\u3067\u3001Autoware \u3068\u4e00\u7dd2\u306b\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3059\u308b\u3002 autoware \u306e\u30eb\u30fc\u30c8\u306b\u3042\u308b simulator.repos \u306b driving_log_replayer \u3068 driving_log_replayer \u304c\u4f9d\u5b58\u3059\u308b perception_eval\u3001ros2_numpy \u3092\u8ffd\u52a0\u3057\u3001autoware \u3068\u4e00\u7dd2\u306b\u30d3\u30eb\u30c9\u3059\u308b\u3002 simulator/driving_log_replayer: type: git url: https://github.com/tier4/driving_log_replayer.git version: main simulator/perception_eval: type: git url: https://github.com/tier4/autoware_perception_evaluation.git version: main simulator/vendor/ros2_numpy: type: git url: https://github.com/Box-Robotics/ros2_numpy.git version: humble cli \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb driving_log_replayer \u306f\u3001\u30b7\u30ca\u30ea\u30aa\u306b\u8a18\u8ff0\u3057\u305f\u30d1\u30e9\u30e1\u30fc\u30bf\u3092 launch \u306e\u5f15\u6570\u306b\u8a2d\u5b9a\u3057\u3066\u8d77\u52d5\u3059\u308b\u4ed5\u7d44\u307f\u306b\u306a\u3063\u3066\u3044\u308b\u3002 cli \u304c\u30b7\u30ca\u30ea\u30aa\u3092\u30d1\u30fc\u30b9\u3057\u3066 launch \u306e\u5f15\u6570\u3092\u30bb\u30c3\u30c8\u3057\u3066\u5b9f\u884c\u3057\u3066\u304f\u308c\u308b\u306e\u3067 cli \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308b\u3002 \u5b9f\u969b\u306b\u53e9\u3044\u3066\u308b ros2 launch \u306e\u30b3\u30de\u30f3\u30c9\u306f\u30bf\u30fc\u30df\u30ca\u30eb\u306b\u8868\u793a\u3055\u308c\u3001\u307e\u305f\u7d50\u679c\u306e\u51fa\u529b\u5148\u30d5\u30a9\u30eb\u30c0\u306b run.bash \u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u540d\u3067\u5b9f\u884c\u3057\u305f\u30b3\u30de\u30f3\u30c9\u304c\u30d5\u30a1\u30a4\u30eb\u3067\u4fdd\u5b58\u3055\u308c\u308b\u3002 pipx install git+https://github.com/tier4/driving_log_replayer.git cli \u8a2d\u5b9a driving_log_replayer_cli \u3067\u306f\u3001cli \u306b\u6e21\u3059\u5f15\u6570\u3092\u5c11\u306a\u304f\u3059\u308b\u305f\u3081\u306b\u5f15\u6570\u306b\u6307\u5b9a\u3059\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u8f09\u3057\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u8aad\u307f\u8fbc\u3080\u5f62\u5f0f\u3092\u53d6\u308b\u3002 \u3088\u3063\u3066 cli \u3092\u4f7f\u3046\u524d\u306b\u4ee5\u4e0b\u306e\u5f62\u5f0f\u3067$HOME/.driving_log_replayer.config.toml \u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066\u304a\u304f\u3002 \u624b\u52d5\u3067\u4f5c\u6210\u3001\u3082\u3057\u304f\u306f driving_log_replayer configure \u30b3\u30de\u30f3\u30c9\u3067\u4f5c\u6210\u3059\u308b\u3002 profile \u306f\u6700\u4f4e 1 \u3064\u5fc5\u8981\u3067\u30011 \u3064\u306f default \u3068\u3044\u3046\u540d\u524d\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002 \u4ee5\u964d\u3067\u8aac\u660e\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3067-p ${profile}\u3067 profile \u540d\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306b\u6307\u5b9a\u3057\u305f\u8a2d\u5b9a\u304c\u8aad\u307f\u8fbc\u307e\u308c\u308b\u3002 \u8907\u6570\u306e autoware \u3092\u5207\u308a\u66ff\u3048\u3066\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u3001\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3092\u4f55\u3082\u6307\u5b9a\u3057\u306a\u3044\u5834\u5408\u306f default \u304c\u4f7f\u7528\u3055\u308c\u308b\u3002 [profile_name] data_directory = \"\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u5165\u529b\u306b\u4f7f\u3046\u30c7\u30fc\u30bf\u30d5\u30a9\u30eb\u30c0\u306e\u30d1\u30b9\" output_directory = \"\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u7d50\u679c\u3092\u51fa\u529b\u3059\u308b\u30d5\u30a9\u30eb\u30c0\u306e\u30d1\u30b9\" autoware_path = \"autoware\u306eproj\u30d5\u30a9\u30eb\u30c0\u306e\u30d1\u30b9\" \u8a2d\u5b9a\u4f8b # default\u306f\u5fc5\u305a\u5fc5\u8981\u3001profile\u540d\u3092\u7701\u7565\u3057\u305f\u3068\u304d\u306b\u9078\u629e\u3055\u308c\u308b [default] data_directory = \"$HOME/driving_log_replayer_data/default\" output_directory = \"$HOME/driving_log_replayer_output/default\" autoware_path = \"$HOME/autoware\" [localization] data_directory = \"$HOME/driving_log_replayer_data/localization\" output_directory = \"$HOME/driving_log_replayer_output/localization\" autoware_path = \"$HOME/autoware\" [obstacle_segmentation] data_directory = \"$HOME/driving_log_replayer_data/obstacle_segmentation\" output_directory = \"$HOME/driving_log_replayer_output/obstacle_segmentation\" autoware_path = \"$HOME/autoware\" [perception] data_directory = \"$HOME/driving_log_replayer_data/perception\" output_directory = \"$HOME/driving_log_replayer_output/perception\" autoware_path = \"$HOME/autoware\" \u30d5\u30a9\u30eb\u30c0\u69cb\u6210\u3001\u30d5\u30a1\u30a4\u30eb\u547d\u540d\u898f\u5247 driving_log_replayer \u304c\u671f\u5f85\u3059\u308b\u30d5\u30a9\u30eb\u30c0\u69cb\u6210\u3001\u30d5\u30a1\u30a4\u30eb\u547d\u540d\u898f\u5247\u306b\u3064\u3044\u3066\u89e3\u8aac\u3059\u308b\u3002 ROS2 \u7248 driving_log_replayer \u3067\u306f\u3001\u30d5\u30a9\u30eb\u30c0\u69cb\u6210\u3001\u30d5\u30a1\u30a4\u30eb\u540d\u306a\u3069\u3092\u56fa\u5b9a\u306b\u3059\u308b\u3053\u3068\u3067\u3001\u30b7\u30ca\u30ea\u30aa\u306b\u8a18\u8ff0\u3059\u308b\u30d1\u30b9\u3084\u3001\u30b3\u30de\u30f3\u30c9\u306b\u6e21\u3059\u5f15\u6570\u3092\u5c11\u306a\u304f\u3057\u3066\u3044\u308b\u3002\u307e\u305f\u3001\u30c6\u30b9\u30c8\u3092\u9023\u7d9a\u3067\u56de\u305b\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u3002 \u30c7\u30fc\u30bf\u30d5\u30a9\u30eb\u30c0 \u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u5b9f\u884c\u6642\u306b\u4f7f\u7528\u3059\u308b\u30ea\u30bd\u30fc\u30b9\u3092\u4fdd\u5b58\u3057\u3066\u304a\u304f\u30d5\u30a9\u30eb\u30c0\u3002 \u5404\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u6bce\u306b\u3001\u30b7\u30ca\u30ea\u30aa\u3068\u3001bag\u3001dataset \u3092\u914d\u7f6e\u3059\u308b\u3002 localization, performance_diag \u306e\u30c7\u30fc\u30bf\u30d5\u30a9\u30eb\u30c0\u69cb\u6210 driving_log_replayer_data // \u8907\u6570\u500b\u306e\u30b7\u30ca\u30ea\u30aa\u3092\u53ce\u3081\u305f\u89aa\u30c7\u30a3\u30ec\u30af\u30c8\u30ea \u4efb\u610f\u306e\u540d\u79f0\u3092\u3064\u3051\u3066\u3088\u3044 \u2502 \u251c\u2500\u2500 S001 // \u30b7\u30ca\u30ea\u30aa\u30c7\u30a3\u30ec\u30af\u30c8\u30ea \u4efb\u610f\u306e\u540d\u79f0\u3092\u3064\u3051\u3066\u3088\u3044 \u2502 \u251c\u2500\u2500 scenario.yaml // \u30b7\u30ca\u30ea\u30aa \u2502 \u2514\u2500\u2500 input_bag // \u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u304c\u53ce\u9332\u3055\u308c\u305f\u5165\u529b\u7528\u306ebag \u2502 \u251c\u2500\u2500 input_bag_0.db3 // bag\u306e\u5b9f\u614b \u2502 \u2514\u2500\u2500 metadata.yaml // bag\u306emetadata \u2502 \u251c\u2500\u2500 S002 // \u30b7\u30ca\u30ea\u30aa\u30c7\u30a3\u30ec\u30af\u30c8\u30ea S001\u3068\u69cb\u6210\u306f\u540c\u3058 ... obstacle_segmentation, perception \u306e\u30c7\u30fc\u30bf\u30d5\u30a9\u30eb\u30c0\u69cb\u6210 driving_log_replayer_data // \u8907\u6570\u500b\u306e\u30b7\u30ca\u30ea\u30aa\u3092\u53ce\u3081\u305f\u89aa\u30c7\u30a3\u30ec\u30af\u30c8\u30ea \u4efb\u610f\u306e\u540d\u79f0\u3092\u3064\u3051\u3066\u3088\u3044 \u2502 \u251c\u2500\u2500 S001 // \u30b7\u30ca\u30ea\u30aa\u30c7\u30a3\u30ec\u30af\u30c8\u30ea \u4efb\u610f\u306e\u540d\u79f0\u3092\u3064\u3051\u3066\u3088\u3044 \u2502 \u251c\u2500\u2500 scenario.yaml // \u30b7\u30ca\u30ea\u30aa \u2502 \u2514\u2500\u2500 t4_dataset \u2502 \u251c\u2500\u2500 T4D001 // t4_dataset\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3001sensing\u306e\u5834\u5408\u306f1\u500b \u2502 \u2502 \u251c\u2500\u2500 annotation \u2502 \u2502 \u251c\u2500\u2500 data \u2502 \u2502 \u2502 \u251c\u2500\u2500 CAM_BACK \u2502 \u2502 \u2502 \u251c\u2500\u2500 CAM_BACK_LEFT \u2502 \u2502 \u2502 \u251c\u2500\u2500 CAM_BACK_RIGHT \u2502 \u2502 \u2502 \u251c\u2500\u2500 CAM_FRONT \u2502 \u2502 \u2502 \u251c\u2500\u2500 CAM_FRONT_LEFT \u2502 \u2502 \u2502 \u251c\u2500\u2500 CAM_FRONT_RIGHT \u2502 \u2502 \u2502 \u2514\u2500\u2500 LIDAR_CONCAT \u2502 \u2502 \u2514\u2500\u2500 input_bag \u2502 \u2514\u2500\u2500 T4D002 // t4_dataset\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3001perception\u306e\u5834\u5408\u306f\u8907\u6570\u500b\u6301\u3066\u308b \u2502 \u251c\u2500\u2500 annotation \u2502 \u251c\u2500\u2500 data \u2502 \u2502 \u251c\u2500\u2500 CAM_BACK \u2502 \u2502 \u251c\u2500\u2500 CAM_BACK_LEFT \u2502 \u2502 \u251c\u2500\u2500 CAM_BACK_RIGHT \u2502 \u2502 \u251c\u2500\u2500 CAM_FRONT \u2502 \u2502 \u251c\u2500\u2500 CAM_FRONT_LEFT \u2502 \u2502 \u251c\u2500\u2500 CAM_FRONT_RIGHT \u2502 \u2502 \u2514\u2500\u2500 LIDAR_CONCAT \u2502 \u2514\u2500\u2500 input_bag \u2502 ... \u2502 \u251c\u2500\u2500 S002 // \u30b7\u30ca\u30ea\u30aa\u30c7\u30a3\u30ec\u30af\u30c8\u30ea S001\u3068\u69cb\u6210\u306f\u540c\u3058 \u30de\u30c3\u30d7\u30d5\u30a9\u30eb\u30c0 \u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u5b9f\u884c\u6642\u306b\u4f7f\u7528\u3059\u308b\u5730\u56f3\u3092\u307e\u3068\u3081\u3066\u4fdd\u5b58\u3057\u3066\u304a\u304f\u30d5\u30a9\u30eb\u30c0\u3002 autoware_map \u2502 \u251c\u2500\u2500 LocalMapPathName // \u30ed\u30fc\u30ab\u30eb\u3067\u306e\u4efb\u610f\u306e\u30d5\u30a9\u30eb\u30c0\u540d \u2502 \u251c\u2500\u2500 lanelet2_map.osm // lanelet\u30d5\u30a1\u30a4\u30eb \u2502 \u2514\u2500\u2500 pointcloud_map.pcd // pcd\u30d5\u30a1\u30a4\u30eb","title":"\u6e96\u5099"},{"location":"introduction/preparation/#_1","text":"driving_log_replayer \u3092\u5229\u7528\u3059\u308b\u306b\u306f\u4ee5\u4e0b\u306e\u4f5c\u696d\u304c\u5fc5\u8981\u3068\u306a\u308b\u3002 driving_log_replayer \u3092 autoware \u3068\u4e00\u7dd2\u306b\u30d3\u30eb\u30c9\u3059\u308b driving_log_replayer_cli \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b cli \u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b \u8a55\u4fa1\u7528\u306e\u30b7\u30ca\u30ea\u30aa\u3068\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3092\u6307\u5b9a\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u914d\u7f6e\u3059\u308b","title":"\u6e96\u5099"},{"location":"introduction/preparation/#driving_log_replayer","text":"\u672c\u30d1\u30c3\u30b1\u30fc\u30b8\u306f Autoware \u306e\u6a5f\u80fd\u3092\u4f7f\u7528\u3059\u308b\u306e\u3067\u3001Autoware \u3068\u4e00\u7dd2\u306b\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3059\u308b\u3002 autoware \u306e\u30eb\u30fc\u30c8\u306b\u3042\u308b simulator.repos \u306b driving_log_replayer \u3068 driving_log_replayer \u304c\u4f9d\u5b58\u3059\u308b perception_eval\u3001ros2_numpy \u3092\u8ffd\u52a0\u3057\u3001autoware \u3068\u4e00\u7dd2\u306b\u30d3\u30eb\u30c9\u3059\u308b\u3002 simulator/driving_log_replayer: type: git url: https://github.com/tier4/driving_log_replayer.git version: main simulator/perception_eval: type: git url: https://github.com/tier4/autoware_perception_evaluation.git version: main simulator/vendor/ros2_numpy: type: git url: https://github.com/Box-Robotics/ros2_numpy.git version: humble","title":"driving_log_replayer \u30d1\u30c3\u30b1\u30fc\u30b8\u30d3\u30eb\u30c9"},{"location":"introduction/preparation/#cli","text":"driving_log_replayer \u306f\u3001\u30b7\u30ca\u30ea\u30aa\u306b\u8a18\u8ff0\u3057\u305f\u30d1\u30e9\u30e1\u30fc\u30bf\u3092 launch \u306e\u5f15\u6570\u306b\u8a2d\u5b9a\u3057\u3066\u8d77\u52d5\u3059\u308b\u4ed5\u7d44\u307f\u306b\u306a\u3063\u3066\u3044\u308b\u3002 cli \u304c\u30b7\u30ca\u30ea\u30aa\u3092\u30d1\u30fc\u30b9\u3057\u3066 launch \u306e\u5f15\u6570\u3092\u30bb\u30c3\u30c8\u3057\u3066\u5b9f\u884c\u3057\u3066\u304f\u308c\u308b\u306e\u3067 cli \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308b\u3002 \u5b9f\u969b\u306b\u53e9\u3044\u3066\u308b ros2 launch \u306e\u30b3\u30de\u30f3\u30c9\u306f\u30bf\u30fc\u30df\u30ca\u30eb\u306b\u8868\u793a\u3055\u308c\u3001\u307e\u305f\u7d50\u679c\u306e\u51fa\u529b\u5148\u30d5\u30a9\u30eb\u30c0\u306b run.bash \u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u540d\u3067\u5b9f\u884c\u3057\u305f\u30b3\u30de\u30f3\u30c9\u304c\u30d5\u30a1\u30a4\u30eb\u3067\u4fdd\u5b58\u3055\u308c\u308b\u3002 pipx install git+https://github.com/tier4/driving_log_replayer.git","title":"cli \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"introduction/preparation/#cli_1","text":"driving_log_replayer_cli \u3067\u306f\u3001cli \u306b\u6e21\u3059\u5f15\u6570\u3092\u5c11\u306a\u304f\u3059\u308b\u305f\u3081\u306b\u5f15\u6570\u306b\u6307\u5b9a\u3059\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u8f09\u3057\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u8aad\u307f\u8fbc\u3080\u5f62\u5f0f\u3092\u53d6\u308b\u3002 \u3088\u3063\u3066 cli \u3092\u4f7f\u3046\u524d\u306b\u4ee5\u4e0b\u306e\u5f62\u5f0f\u3067$HOME/.driving_log_replayer.config.toml \u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066\u304a\u304f\u3002 \u624b\u52d5\u3067\u4f5c\u6210\u3001\u3082\u3057\u304f\u306f driving_log_replayer configure \u30b3\u30de\u30f3\u30c9\u3067\u4f5c\u6210\u3059\u308b\u3002 profile \u306f\u6700\u4f4e 1 \u3064\u5fc5\u8981\u3067\u30011 \u3064\u306f default \u3068\u3044\u3046\u540d\u524d\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002 \u4ee5\u964d\u3067\u8aac\u660e\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3067-p ${profile}\u3067 profile \u540d\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306b\u6307\u5b9a\u3057\u305f\u8a2d\u5b9a\u304c\u8aad\u307f\u8fbc\u307e\u308c\u308b\u3002 \u8907\u6570\u306e autoware \u3092\u5207\u308a\u66ff\u3048\u3066\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u3001\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3092\u4f55\u3082\u6307\u5b9a\u3057\u306a\u3044\u5834\u5408\u306f default \u304c\u4f7f\u7528\u3055\u308c\u308b\u3002 [profile_name] data_directory = \"\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u5165\u529b\u306b\u4f7f\u3046\u30c7\u30fc\u30bf\u30d5\u30a9\u30eb\u30c0\u306e\u30d1\u30b9\" output_directory = \"\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u7d50\u679c\u3092\u51fa\u529b\u3059\u308b\u30d5\u30a9\u30eb\u30c0\u306e\u30d1\u30b9\" autoware_path = \"autoware\u306eproj\u30d5\u30a9\u30eb\u30c0\u306e\u30d1\u30b9\" \u8a2d\u5b9a\u4f8b # default\u306f\u5fc5\u305a\u5fc5\u8981\u3001profile\u540d\u3092\u7701\u7565\u3057\u305f\u3068\u304d\u306b\u9078\u629e\u3055\u308c\u308b [default] data_directory = \"$HOME/driving_log_replayer_data/default\" output_directory = \"$HOME/driving_log_replayer_output/default\" autoware_path = \"$HOME/autoware\" [localization] data_directory = \"$HOME/driving_log_replayer_data/localization\" output_directory = \"$HOME/driving_log_replayer_output/localization\" autoware_path = \"$HOME/autoware\" [obstacle_segmentation] data_directory = \"$HOME/driving_log_replayer_data/obstacle_segmentation\" output_directory = \"$HOME/driving_log_replayer_output/obstacle_segmentation\" autoware_path = \"$HOME/autoware\" [perception] data_directory = \"$HOME/driving_log_replayer_data/perception\" output_directory = \"$HOME/driving_log_replayer_output/perception\" autoware_path = \"$HOME/autoware\"","title":"cli \u8a2d\u5b9a"},{"location":"introduction/preparation/#_2","text":"driving_log_replayer \u304c\u671f\u5f85\u3059\u308b\u30d5\u30a9\u30eb\u30c0\u69cb\u6210\u3001\u30d5\u30a1\u30a4\u30eb\u547d\u540d\u898f\u5247\u306b\u3064\u3044\u3066\u89e3\u8aac\u3059\u308b\u3002 ROS2 \u7248 driving_log_replayer \u3067\u306f\u3001\u30d5\u30a9\u30eb\u30c0\u69cb\u6210\u3001\u30d5\u30a1\u30a4\u30eb\u540d\u306a\u3069\u3092\u56fa\u5b9a\u306b\u3059\u308b\u3053\u3068\u3067\u3001\u30b7\u30ca\u30ea\u30aa\u306b\u8a18\u8ff0\u3059\u308b\u30d1\u30b9\u3084\u3001\u30b3\u30de\u30f3\u30c9\u306b\u6e21\u3059\u5f15\u6570\u3092\u5c11\u306a\u304f\u3057\u3066\u3044\u308b\u3002\u307e\u305f\u3001\u30c6\u30b9\u30c8\u3092\u9023\u7d9a\u3067\u56de\u305b\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u3002","title":"\u30d5\u30a9\u30eb\u30c0\u69cb\u6210\u3001\u30d5\u30a1\u30a4\u30eb\u547d\u540d\u898f\u5247"},{"location":"introduction/preparation/#_3","text":"\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u5b9f\u884c\u6642\u306b\u4f7f\u7528\u3059\u308b\u30ea\u30bd\u30fc\u30b9\u3092\u4fdd\u5b58\u3057\u3066\u304a\u304f\u30d5\u30a9\u30eb\u30c0\u3002 \u5404\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u6bce\u306b\u3001\u30b7\u30ca\u30ea\u30aa\u3068\u3001bag\u3001dataset \u3092\u914d\u7f6e\u3059\u308b\u3002","title":"\u30c7\u30fc\u30bf\u30d5\u30a9\u30eb\u30c0"},{"location":"introduction/preparation/#localization-performance_diag","text":"driving_log_replayer_data // \u8907\u6570\u500b\u306e\u30b7\u30ca\u30ea\u30aa\u3092\u53ce\u3081\u305f\u89aa\u30c7\u30a3\u30ec\u30af\u30c8\u30ea \u4efb\u610f\u306e\u540d\u79f0\u3092\u3064\u3051\u3066\u3088\u3044 \u2502 \u251c\u2500\u2500 S001 // \u30b7\u30ca\u30ea\u30aa\u30c7\u30a3\u30ec\u30af\u30c8\u30ea \u4efb\u610f\u306e\u540d\u79f0\u3092\u3064\u3051\u3066\u3088\u3044 \u2502 \u251c\u2500\u2500 scenario.yaml // \u30b7\u30ca\u30ea\u30aa \u2502 \u2514\u2500\u2500 input_bag // \u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u304c\u53ce\u9332\u3055\u308c\u305f\u5165\u529b\u7528\u306ebag \u2502 \u251c\u2500\u2500 input_bag_0.db3 // bag\u306e\u5b9f\u614b \u2502 \u2514\u2500\u2500 metadata.yaml // bag\u306emetadata \u2502 \u251c\u2500\u2500 S002 // \u30b7\u30ca\u30ea\u30aa\u30c7\u30a3\u30ec\u30af\u30c8\u30ea S001\u3068\u69cb\u6210\u306f\u540c\u3058 ...","title":"localization, performance_diag \u306e\u30c7\u30fc\u30bf\u30d5\u30a9\u30eb\u30c0\u69cb\u6210"},{"location":"introduction/preparation/#obstacle_segmentation-perception","text":"driving_log_replayer_data // \u8907\u6570\u500b\u306e\u30b7\u30ca\u30ea\u30aa\u3092\u53ce\u3081\u305f\u89aa\u30c7\u30a3\u30ec\u30af\u30c8\u30ea \u4efb\u610f\u306e\u540d\u79f0\u3092\u3064\u3051\u3066\u3088\u3044 \u2502 \u251c\u2500\u2500 S001 // \u30b7\u30ca\u30ea\u30aa\u30c7\u30a3\u30ec\u30af\u30c8\u30ea \u4efb\u610f\u306e\u540d\u79f0\u3092\u3064\u3051\u3066\u3088\u3044 \u2502 \u251c\u2500\u2500 scenario.yaml // \u30b7\u30ca\u30ea\u30aa \u2502 \u2514\u2500\u2500 t4_dataset \u2502 \u251c\u2500\u2500 T4D001 // t4_dataset\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3001sensing\u306e\u5834\u5408\u306f1\u500b \u2502 \u2502 \u251c\u2500\u2500 annotation \u2502 \u2502 \u251c\u2500\u2500 data \u2502 \u2502 \u2502 \u251c\u2500\u2500 CAM_BACK \u2502 \u2502 \u2502 \u251c\u2500\u2500 CAM_BACK_LEFT \u2502 \u2502 \u2502 \u251c\u2500\u2500 CAM_BACK_RIGHT \u2502 \u2502 \u2502 \u251c\u2500\u2500 CAM_FRONT \u2502 \u2502 \u2502 \u251c\u2500\u2500 CAM_FRONT_LEFT \u2502 \u2502 \u2502 \u251c\u2500\u2500 CAM_FRONT_RIGHT \u2502 \u2502 \u2502 \u2514\u2500\u2500 LIDAR_CONCAT \u2502 \u2502 \u2514\u2500\u2500 input_bag \u2502 \u2514\u2500\u2500 T4D002 // t4_dataset\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3001perception\u306e\u5834\u5408\u306f\u8907\u6570\u500b\u6301\u3066\u308b \u2502 \u251c\u2500\u2500 annotation \u2502 \u251c\u2500\u2500 data \u2502 \u2502 \u251c\u2500\u2500 CAM_BACK \u2502 \u2502 \u251c\u2500\u2500 CAM_BACK_LEFT \u2502 \u2502 \u251c\u2500\u2500 CAM_BACK_RIGHT \u2502 \u2502 \u251c\u2500\u2500 CAM_FRONT \u2502 \u2502 \u251c\u2500\u2500 CAM_FRONT_LEFT \u2502 \u2502 \u251c\u2500\u2500 CAM_FRONT_RIGHT \u2502 \u2502 \u2514\u2500\u2500 LIDAR_CONCAT \u2502 \u2514\u2500\u2500 input_bag \u2502 ... \u2502 \u251c\u2500\u2500 S002 // \u30b7\u30ca\u30ea\u30aa\u30c7\u30a3\u30ec\u30af\u30c8\u30ea S001\u3068\u69cb\u6210\u306f\u540c\u3058","title":"obstacle_segmentation, perception \u306e\u30c7\u30fc\u30bf\u30d5\u30a9\u30eb\u30c0\u69cb\u6210"},{"location":"introduction/preparation/#_4","text":"\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u5b9f\u884c\u6642\u306b\u4f7f\u7528\u3059\u308b\u5730\u56f3\u3092\u307e\u3068\u3081\u3066\u4fdd\u5b58\u3057\u3066\u304a\u304f\u30d5\u30a9\u30eb\u30c0\u3002 autoware_map \u2502 \u251c\u2500\u2500 LocalMapPathName // \u30ed\u30fc\u30ab\u30eb\u3067\u306e\u4efb\u610f\u306e\u30d5\u30a9\u30eb\u30c0\u540d \u2502 \u251c\u2500\u2500 lanelet2_map.osm // lanelet\u30d5\u30a1\u30a4\u30eb \u2502 \u2514\u2500\u2500 pointcloud_map.pcd // pcd\u30d5\u30a1\u30a4\u30eb","title":"\u30de\u30c3\u30d7\u30d5\u30a9\u30eb\u30c0"},{"location":"introduction/run/","text":"\u8d77\u52d5\u65b9\u6cd5 driving_log_replayer \u3092\u8d77\u52d5\u3059\u308b\u306b\u306f\u3001autoware \u306e\u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9\u306e\u30d3\u30eb\u30c9\u3001cli \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3001\u53ca\u3073\u3001\u8a55\u4fa1\u3059\u308b\u30c7\u30fc\u30bf\u306e\u6e96\u5099\u3092\u4e8b\u524d\u306b\u6e08\u307e\u305b\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002 \u30b3\u30de\u30f3\u30c9 driving_log_replayer_cli \u306e\u30b3\u30de\u30f3\u30c9\u306b\u3064\u3044\u3066\u89e3\u8aac\u3059\u308b\u3002 driving_log_replayer_cli \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u3001\u30bf\u30fc\u30df\u30ca\u30eb\u3067 driving_log_replayer \u3068\u3044\u3046\u30b3\u30de\u30f3\u30c9\u304c\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u3002 driving_log_replayer \u30b3\u30de\u30f3\u30c9\u306f\u3001\u30b5\u30d6\u30b3\u30de\u30f3\u30c9\u3092\u6301\u3063\u3066\u3044\u308b\u3002 \u5404\u30b3\u30de\u30f3\u30c9\u306b\u5fc5\u8981\u306a\u5f15\u6570\u306f--help \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u3068\u8868\u793a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u3002 # driving_log_replayer top level help driving_log_replayer --help # show version driving_log_replayer --version # show subcommand help driving_log_replayer subcommand --help # show subsubcommand help driving_log_replayer subcommand subsubcommand --help cli \u30b5\u30d6\u30b3\u30de\u30f3\u30c9 \u30b5\u30d6\u30b3\u30de\u30f3\u30c9\u3068\u3057\u3066\u4ee5\u4e0b\u304c\u5b58\u5728\u3059\u308b configure simulation driving_log_replayer configure \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb.driving_log_replayer.config.toml \u3092\u64cd\u4f5c\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3002 # -p\u3067\u6307\u5b9a\u3057\u305fprofile\u540d\u30c7\u30d5\u30a9\u30eb\u30c8\u5024default\u306bdata_directory\u3001output_directory\u3001autoware_path\u3092\u8a2d\u5b9a\u3059\u308b driving_log_replayer configure register -d ${data_directory} -o ${output_directory} -a ${autoware_path} [-p ${profile}] driving_log_replayer simulation simulation \u5b9f\u884c\u306b\u5229\u7528\u3059\u308b\u3002 # simulation \u5b9f\u884c\u3001jsonl\u3068json\u306e\u4e21\u65b9\u306e\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u304c\u51fa\u529b\u3055\u308c\u308b driving_log_replayer simulation run -p ${profile} # simulation \u5b9f\u884c\u3001jsonl\u3092json\u306b\u5909\u63db\u3057\u306a\u3044 driving_log_replayer simulation run -p ${profile} --no-json # \u7d50\u679c\u306e\u78ba\u8a8d\u3001output_directory\u4ee5\u4e0b\u306e\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u306e\u30b5\u30de\u30ea\u30fc\u3092\u8868\u793a\u3059\u308b driving_log_replayer simulation show-result ${output_directory} # \u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u3092json\u5909\u63db\u3001\u30af\u30e9\u30a6\u30c9\u3067\u5b9f\u884c\u3057\u305fjsonl\u3084no-json\u3067\u5b9f\u884c\u3057\u305f\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u3092\u5909\u63db\u3059\u308b driving_log_replayer simulation convert-result ${output_directory} wasim \u306b\u3088\u308b driving_log_replayer \u5b9f\u884c TIER IV \u304c\u63d0\u4f9b\u3057\u3066\u3044\u308b Autoware Evaluator \u3078 \u30a2\u30af\u30bb\u30b9\u6a29\u304c\u3042\u308b\u5834\u5408\u306f wasim \u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u308b\u3002 \u4f7f\u3044\u65b9\u306f \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30b5\u30a4\u30c8 \u3092\u53c2\u7167\u3002 wasim \u306f Autoware Evaluator \u306b\u767b\u9332\u6e08\u307f\u306e\u30b7\u30ca\u30ea\u30aa\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u5b9f\u884c\u3059\u308b\u306e\u3067\u3001\u30af\u30e9\u30a6\u30c9\u74b0\u5883\u306b\u767b\u9332\u6e08\u307f\u306e\u30b7\u30ca\u30ea\u30aa\u3057\u304b\u5b9f\u884c\u51fa\u6765\u306a\u3044\u3002 \u30af\u30e9\u30a6\u30c9\u306b\u767b\u9332\u3057\u3066\u306a\u3044\u30b7\u30ca\u30ea\u30aa\u306f driving_log_replayer_cli \u3092\u4f7f\u7528\u3059\u308b\u3002","title":"\u8d77\u52d5\u65b9\u6cd5"},{"location":"introduction/run/#_1","text":"driving_log_replayer \u3092\u8d77\u52d5\u3059\u308b\u306b\u306f\u3001autoware \u306e\u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9\u306e\u30d3\u30eb\u30c9\u3001cli \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3001\u53ca\u3073\u3001\u8a55\u4fa1\u3059\u308b\u30c7\u30fc\u30bf\u306e\u6e96\u5099\u3092\u4e8b\u524d\u306b\u6e08\u307e\u305b\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002","title":"\u8d77\u52d5\u65b9\u6cd5"},{"location":"introduction/run/#_2","text":"driving_log_replayer_cli \u306e\u30b3\u30de\u30f3\u30c9\u306b\u3064\u3044\u3066\u89e3\u8aac\u3059\u308b\u3002 driving_log_replayer_cli \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u3001\u30bf\u30fc\u30df\u30ca\u30eb\u3067 driving_log_replayer \u3068\u3044\u3046\u30b3\u30de\u30f3\u30c9\u304c\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u3002 driving_log_replayer \u30b3\u30de\u30f3\u30c9\u306f\u3001\u30b5\u30d6\u30b3\u30de\u30f3\u30c9\u3092\u6301\u3063\u3066\u3044\u308b\u3002 \u5404\u30b3\u30de\u30f3\u30c9\u306b\u5fc5\u8981\u306a\u5f15\u6570\u306f--help \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u3068\u8868\u793a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u3002 # driving_log_replayer top level help driving_log_replayer --help # show version driving_log_replayer --version # show subcommand help driving_log_replayer subcommand --help # show subsubcommand help driving_log_replayer subcommand subsubcommand --help","title":"\u30b3\u30de\u30f3\u30c9"},{"location":"introduction/run/#cli","text":"\u30b5\u30d6\u30b3\u30de\u30f3\u30c9\u3068\u3057\u3066\u4ee5\u4e0b\u304c\u5b58\u5728\u3059\u308b configure simulation","title":"cli \u30b5\u30d6\u30b3\u30de\u30f3\u30c9"},{"location":"introduction/run/#driving_log_replayer-configure","text":"\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb.driving_log_replayer.config.toml \u3092\u64cd\u4f5c\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3002 # -p\u3067\u6307\u5b9a\u3057\u305fprofile\u540d\u30c7\u30d5\u30a9\u30eb\u30c8\u5024default\u306bdata_directory\u3001output_directory\u3001autoware_path\u3092\u8a2d\u5b9a\u3059\u308b driving_log_replayer configure register -d ${data_directory} -o ${output_directory} -a ${autoware_path} [-p ${profile}]","title":"driving_log_replayer configure"},{"location":"introduction/run/#driving_log_replayer-simulation","text":"simulation \u5b9f\u884c\u306b\u5229\u7528\u3059\u308b\u3002 # simulation \u5b9f\u884c\u3001jsonl\u3068json\u306e\u4e21\u65b9\u306e\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u304c\u51fa\u529b\u3055\u308c\u308b driving_log_replayer simulation run -p ${profile} # simulation \u5b9f\u884c\u3001jsonl\u3092json\u306b\u5909\u63db\u3057\u306a\u3044 driving_log_replayer simulation run -p ${profile} --no-json # \u7d50\u679c\u306e\u78ba\u8a8d\u3001output_directory\u4ee5\u4e0b\u306e\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u306e\u30b5\u30de\u30ea\u30fc\u3092\u8868\u793a\u3059\u308b driving_log_replayer simulation show-result ${output_directory} # \u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u3092json\u5909\u63db\u3001\u30af\u30e9\u30a6\u30c9\u3067\u5b9f\u884c\u3057\u305fjsonl\u3084no-json\u3067\u5b9f\u884c\u3057\u305f\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u3092\u5909\u63db\u3059\u308b driving_log_replayer simulation convert-result ${output_directory}","title":"driving_log_replayer simulation"},{"location":"introduction/run/#wasim-driving_log_replayer","text":"TIER IV \u304c\u63d0\u4f9b\u3057\u3066\u3044\u308b Autoware Evaluator \u3078 \u30a2\u30af\u30bb\u30b9\u6a29\u304c\u3042\u308b\u5834\u5408\u306f wasim \u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u308b\u3002 \u4f7f\u3044\u65b9\u306f \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30b5\u30a4\u30c8 \u3092\u53c2\u7167\u3002 wasim \u306f Autoware Evaluator \u306b\u767b\u9332\u6e08\u307f\u306e\u30b7\u30ca\u30ea\u30aa\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u5b9f\u884c\u3059\u308b\u306e\u3067\u3001\u30af\u30e9\u30a6\u30c9\u74b0\u5883\u306b\u767b\u9332\u6e08\u307f\u306e\u30b7\u30ca\u30ea\u30aa\u3057\u304b\u5b9f\u884c\u51fa\u6765\u306a\u3044\u3002 \u30af\u30e9\u30a6\u30c9\u306b\u767b\u9332\u3057\u3066\u306a\u3044\u30b7\u30ca\u30ea\u30aa\u306f driving_log_replayer_cli \u3092\u4f7f\u7528\u3059\u308b\u3002","title":"wasim \u306b\u3088\u308b driving_log_replayer \u5b9f\u884c"},{"location":"result_format/","text":"Driving Log Replayer \u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8 driving_log_replayer \u3067\u51fa\u529b\u3055\u308c\u308b\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u3064\u3044\u3066\u8ff0\u3079\u308b\u3002 1 \u884c\u6bce\u306b json \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u6587\u5b57\u5217\u304c\u5165\u3063\u3066\u3044\u308b jsonl \u30d5\u30a1\u30a4\u30eb\u5f62\u5f0f\u3068\u306a\u3063\u3066\u3044\u308b\u3002 \u8a55\u4fa1\u30e2\u30b8\u30e5\u30fc\u30eb\u6bce\u306b\u8a55\u4fa1\u5185\u5bb9\u304c\u9055\u3046\u306e\u3067\u3001\u51fa\u529b\u3055\u308c\u308b\u5185\u5bb9\u306f\u7570\u306a\u308b\u304c\u5927\u67a0\u3092\u63c3\u3048\u308b\u3053\u3068\u3067\u307f\u3084\u3059\u3055\u3084\u3001\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u306e\u52a0\u5de5\u3057\u3084\u3059\u304f\u3059\u308b\u3002 \u30d5\u30a9\u30fc\u30de\u30c3\u30c8 \u5404\u884c\u4ee5\u4e0b\u306e\u5f62\u5f0f\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u51fa\u529b\u3055\u308c\u308b\u3002 \u5b9f\u969b\u306b\u306f\u4e00\u884c\u306e\u6587\u5b57\u5217\u3060\u304c\u307f\u3084\u3059\u3055\u306e\u305f\u3081\u306b\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3057\u3066\u3044\u308b\u3002 { \"Result\": { \"Success\": \"true or false\", \"Summary\": \"\u8a55\u4fa1\u3057\u305f\u7d50\u679c\u306e\u8981\u7d04\" }, \"Stamp\": { \"System\": \"\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u306e\u6642\u523b UNIX_TIME\", \"ROS\": \"\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u6642\u523b\" }, \"Frame\": { \"Ego\": { \"TransformStamped\": \"map\u304b\u3089base_link\u3078\u306etransform_stamped\" }, \"\u8a55\u4fa1\u6bce\u306b\u69cb\u6210\u304c\u7570\u306a\u308b\": \"...\" } } Result: \u5b9f\u884c\u3057\u305f\u30b7\u30ca\u30ea\u30aa\u306e\u8a55\u4fa1\u7d50\u679c Stamp: \u8a55\u4fa1\u3057\u305f\u6642\u523b Frame: \u53d7\u3051\u53d6\u3063\u305f frame(topic)1 \u56de\u5206\u306e\u8a55\u4fa1\u7d50\u679c\u3068\u3001\u5224\u5b9a\u306b\u4f7f\u7528\u3057\u305f\u5024\u306a\u3069\u306e\u4ed8\u5c5e\u60c5\u5831 Frame \u306e\u4e2d\u8eab\u306e\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001\u5404\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306e\u8a55\u4fa1\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u53c2\u7167\u3002 json \u30d5\u30a1\u30a4\u30eb\u306e\u51fa\u529b \u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u308b\u90fd\u5408\u3067\u3001\u8ffd\u8a18\u53ef\u80fd\u3067\u6271\u3044\u3084\u3059\u3044\u30d5\u30a1\u30fc\u30de\u30c3\u30c8\u3068\u3057\u3066 jsonl \u3092\u63a1\u7528\u3057\u3066\u3044\u308b\u3002 \u3057\u304b\u3057\u3001\u4eba\u304c\u76ee\u3067\u898b\u3066\u7d50\u679c\u3092\u78ba\u8a8d\u3059\u308b\u5834\u5408\u306f\u3001json \u5f62\u5f0f\u306b\u3057\u3066 vscode \u7b49\u3067\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3057\u3066\u69cb\u9020\u5316\u3057\u305f\u307b\u3046\u304c\u7406\u89e3\u3057\u3084\u3059\u3044\u3002 \u305d\u306e\u305f\u3081\u3001driving_log_replayer_cli \u3092\u7528\u3044\u3066\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u5b9f\u884c\u3057\u305f\u5834\u5408\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067 jsonl \u30d5\u30a1\u30a4\u30eb\u3092 json \u306b\u5909\u63db\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u3082\u51fa\u529b\u3055\u308c\u308b\u3002 \u4e00\u65b9\u3001\u30ed\u30fc\u30ab\u30eb\u3067 wasim \u3067\u5b9f\u884c\u3057\u305f\u5834\u5408\u3084\u3001\u30af\u30e9\u30a6\u30c9\u3067\u5b9f\u884c\u3057\u305f\u5834\u5408\u306f jsonl \u30d5\u30a1\u30a4\u30eb\u3057\u304b\u4f5c\u3089\u308c\u306a\u3044\u3002 jsonl \u30d5\u30a1\u30a4\u30eb\u3092 json \u306b\u51fa\u529b\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u5909\u63db\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002 # \u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u306e\u5909\u63db\u3001output_directory\u4ee5\u4e0b\u306eresult.jsonl\u3092result.json\u306b\u5909\u63db\u3059\u308b driving_log_replayer simulation convert-result ${output_directory} \u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u306e\u5206\u6790 json \u51fa\u529b\u306e\u9805\u76ee\u3067\u3082\u8ff0\u3079\u305f\u901a\u308a\u3001json \u30d5\u30a1\u30a4\u30eb\u306e\u51fa\u529b\u306f\u30ed\u30fc\u30ab\u30eb\u3067 driving_log_replayer_cli \u3092\u7528\u3044\u305f\u5834\u5408\u306e\u307f\u51fa\u529b\u3055\u308c\u308b\u3002 \u306a\u306e\u3067\u3001\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u3092\u30b0\u30e9\u30d5\u5316\u3059\u308b\u306a\u3069\u306e\u89e3\u6790\u4f5c\u696d\u3092\u884c\u3046\u5834\u5408\u306f\u3001jsonl \u306e\u307e\u307e\u6271\u3048\u308b\u3088\u3046\u306b\u3059\u308b\u3068\u5909\u63db\u306e\u624b\u9593\u304c\u6e1b\u3089\u305b\u308b\u3002 python \u3092\u7528\u3044\u308b\u5834\u5408\u306f\u3001 pandas \u3092\u4f7f\u7528\u3059\u308b\u3068 jsonl \u3092\u306e\u305d\u306e\u307e\u307e\u8aad\u307f\u8fbc\u3080\u3053\u3068\u304c\u3067\u304d\u308b","title":"Driving Log Replayer \u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8"},{"location":"result_format/#driving-log-replayer","text":"driving_log_replayer \u3067\u51fa\u529b\u3055\u308c\u308b\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u3064\u3044\u3066\u8ff0\u3079\u308b\u3002 1 \u884c\u6bce\u306b json \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u6587\u5b57\u5217\u304c\u5165\u3063\u3066\u3044\u308b jsonl \u30d5\u30a1\u30a4\u30eb\u5f62\u5f0f\u3068\u306a\u3063\u3066\u3044\u308b\u3002 \u8a55\u4fa1\u30e2\u30b8\u30e5\u30fc\u30eb\u6bce\u306b\u8a55\u4fa1\u5185\u5bb9\u304c\u9055\u3046\u306e\u3067\u3001\u51fa\u529b\u3055\u308c\u308b\u5185\u5bb9\u306f\u7570\u306a\u308b\u304c\u5927\u67a0\u3092\u63c3\u3048\u308b\u3053\u3068\u3067\u307f\u3084\u3059\u3055\u3084\u3001\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u306e\u52a0\u5de5\u3057\u3084\u3059\u304f\u3059\u308b\u3002","title":"Driving Log Replayer \u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8"},{"location":"result_format/#_1","text":"\u5404\u884c\u4ee5\u4e0b\u306e\u5f62\u5f0f\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u51fa\u529b\u3055\u308c\u308b\u3002 \u5b9f\u969b\u306b\u306f\u4e00\u884c\u306e\u6587\u5b57\u5217\u3060\u304c\u307f\u3084\u3059\u3055\u306e\u305f\u3081\u306b\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3057\u3066\u3044\u308b\u3002 { \"Result\": { \"Success\": \"true or false\", \"Summary\": \"\u8a55\u4fa1\u3057\u305f\u7d50\u679c\u306e\u8981\u7d04\" }, \"Stamp\": { \"System\": \"\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u306e\u6642\u523b UNIX_TIME\", \"ROS\": \"\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u6642\u523b\" }, \"Frame\": { \"Ego\": { \"TransformStamped\": \"map\u304b\u3089base_link\u3078\u306etransform_stamped\" }, \"\u8a55\u4fa1\u6bce\u306b\u69cb\u6210\u304c\u7570\u306a\u308b\": \"...\" } } Result: \u5b9f\u884c\u3057\u305f\u30b7\u30ca\u30ea\u30aa\u306e\u8a55\u4fa1\u7d50\u679c Stamp: \u8a55\u4fa1\u3057\u305f\u6642\u523b Frame: \u53d7\u3051\u53d6\u3063\u305f frame(topic)1 \u56de\u5206\u306e\u8a55\u4fa1\u7d50\u679c\u3068\u3001\u5224\u5b9a\u306b\u4f7f\u7528\u3057\u305f\u5024\u306a\u3069\u306e\u4ed8\u5c5e\u60c5\u5831 Frame \u306e\u4e2d\u8eab\u306e\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001\u5404\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306e\u8a55\u4fa1\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u53c2\u7167\u3002","title":"\u30d5\u30a9\u30fc\u30de\u30c3\u30c8"},{"location":"result_format/#json","text":"\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u308b\u90fd\u5408\u3067\u3001\u8ffd\u8a18\u53ef\u80fd\u3067\u6271\u3044\u3084\u3059\u3044\u30d5\u30a1\u30fc\u30de\u30c3\u30c8\u3068\u3057\u3066 jsonl \u3092\u63a1\u7528\u3057\u3066\u3044\u308b\u3002 \u3057\u304b\u3057\u3001\u4eba\u304c\u76ee\u3067\u898b\u3066\u7d50\u679c\u3092\u78ba\u8a8d\u3059\u308b\u5834\u5408\u306f\u3001json \u5f62\u5f0f\u306b\u3057\u3066 vscode \u7b49\u3067\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3057\u3066\u69cb\u9020\u5316\u3057\u305f\u307b\u3046\u304c\u7406\u89e3\u3057\u3084\u3059\u3044\u3002 \u305d\u306e\u305f\u3081\u3001driving_log_replayer_cli \u3092\u7528\u3044\u3066\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u5b9f\u884c\u3057\u305f\u5834\u5408\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067 jsonl \u30d5\u30a1\u30a4\u30eb\u3092 json \u306b\u5909\u63db\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u3082\u51fa\u529b\u3055\u308c\u308b\u3002 \u4e00\u65b9\u3001\u30ed\u30fc\u30ab\u30eb\u3067 wasim \u3067\u5b9f\u884c\u3057\u305f\u5834\u5408\u3084\u3001\u30af\u30e9\u30a6\u30c9\u3067\u5b9f\u884c\u3057\u305f\u5834\u5408\u306f jsonl \u30d5\u30a1\u30a4\u30eb\u3057\u304b\u4f5c\u3089\u308c\u306a\u3044\u3002 jsonl \u30d5\u30a1\u30a4\u30eb\u3092 json \u306b\u51fa\u529b\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u5909\u63db\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002 # \u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u306e\u5909\u63db\u3001output_directory\u4ee5\u4e0b\u306eresult.jsonl\u3092result.json\u306b\u5909\u63db\u3059\u308b driving_log_replayer simulation convert-result ${output_directory}","title":"json \u30d5\u30a1\u30a4\u30eb\u306e\u51fa\u529b"},{"location":"result_format/#_2","text":"json \u51fa\u529b\u306e\u9805\u76ee\u3067\u3082\u8ff0\u3079\u305f\u901a\u308a\u3001json \u30d5\u30a1\u30a4\u30eb\u306e\u51fa\u529b\u306f\u30ed\u30fc\u30ab\u30eb\u3067 driving_log_replayer_cli \u3092\u7528\u3044\u305f\u5834\u5408\u306e\u307f\u51fa\u529b\u3055\u308c\u308b\u3002 \u306a\u306e\u3067\u3001\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u3092\u30b0\u30e9\u30d5\u5316\u3059\u308b\u306a\u3069\u306e\u89e3\u6790\u4f5c\u696d\u3092\u884c\u3046\u5834\u5408\u306f\u3001jsonl \u306e\u307e\u307e\u6271\u3048\u308b\u3088\u3046\u306b\u3059\u308b\u3068\u5909\u63db\u306e\u624b\u9593\u304c\u6e1b\u3089\u305b\u308b\u3002 python \u3092\u7528\u3044\u308b\u5834\u5408\u306f\u3001 pandas \u3092\u4f7f\u7528\u3059\u308b\u3068 jsonl \u3092\u306e\u305d\u306e\u307e\u307e\u8aad\u307f\u8fbc\u3080\u3053\u3068\u304c\u3067\u304d\u308b","title":"\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u306e\u5206\u6790"},{"location":"scenario_format/","text":"Driving Log Replayer \u30b7\u30ca\u30ea\u30aa\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u5b9a\u7fa9 driving_log_replayer \u3067\u7528\u3044\u308b\u30b7\u30ca\u30ea\u30aa\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u3064\u3044\u3066\u8ff0\u3079\u308b\u3002 \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u95a2\u3059\u308b\u6ce8\u610f\u4e8b\u9805 \u30ad\u30fc\u306f CamelCase \u306b\u3066\u5b9a\u7fa9\u3059\u308b\u3002 \u5ea7\u6a19\u7cfb\u306b\u95a2\u3057\u3066\u306f\u3001\u7279\u306b\u6307\u5b9a\u306a\u3051\u308c\u3070 Lanelet2 \u3068\u540c\u3058\u5ea7\u6a19\u7cfb\u306b\u3066\u8a18\u8ff0\u3002\u30de\u30c3\u30d7\u5ea7\u6a19\u7cfb\u3002 \u5358\u4f4d\u7cfb\u306b\u95a2\u3057\u3066\u306f\u3001\u7279\u306b\u6307\u5b9a\u304c\u306a\u3051\u308c\u3070\u4ee5\u4e0b\u3092\u4f7f\u7528\u3059\u308b\u3002 \u8ddd\u96e2: m \u901f\u5ea6: m/s \u52a0\u901f\u5ea6: m/s^2 \u6642\u9593: s \u6642\u523b: UNIX TIME \u30b5\u30f3\u30d7\u30eb \u30b7\u30ca\u30ea\u30aa\u306e\u30b5\u30f3\u30d7\u30eb\u3092 docs/sample \u30d5\u30a9\u30eb\u30c0\u306b\u683c\u7d0d\u3057\u3066\u3044\u308b\u3002 \u30d5\u30a9\u30fc\u30de\u30c3\u30c8 \u57fa\u672c\u69cb\u9020\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002\u3053\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u5143\u306b\u3001\u4ee5\u4e0b\u3067\u8aac\u660e\u3059\u308b\u578b\u3092\u7528\u3044\u3066\u3001\u5177\u4f53\u7684\u306a\u30b7\u30ca\u30ea\u30aa\u3092\u8a18\u8ff0\u3057\u3066\u3044\u304f\u3002 ScenarioFormatVersion: 2.2.0 ScenarioName: String ScenarioDescription: String # vehicle setup SensorModel: String VehicleModel: String VehicleId: String # map LocalMapPath: String Evaluation: UseCaseName: String UseCaseFormatVersion: String Conditions: Dictionary # refer use case ScenarioFormatVersion \u30b7\u30ca\u30ea\u30aa\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u60c5\u5831\u3092\u8a18\u8ff0\u3059\u308b\u3002\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u7528\u3044\u308b\u3002 \u73fe\u30d0\u30fc\u30b8\u30e7\u30f3\u306f 2.2.0 \u3067\u3001\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u66f4\u65b0\u306e\u5ea6\u306b\u30de\u30a4\u30ca\u30fc\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u66f4\u65b0\u3059\u308b\u3002 ScenarioName \u30b7\u30ca\u30ea\u30aa\u306e\u540d\u524d\u3092\u8a18\u8ff0\u3059\u308b\u3002Autoware Evaluator \u4e0a\u3067\u30b7\u30ca\u30ea\u30aa\u306e\u8868\u793a\u540d\u3068\u3057\u3066\u4f7f\u7528\u3055\u308c\u308b\u3002 ScenarioDescription \u30b7\u30ca\u30ea\u30aa\u306e\u8aac\u660e\u3092\u8a18\u8ff0\u3059\u308b\u3002Autoware Evaluator \u4e0a\u3067\u30b7\u30ca\u30ea\u30aa\u306e\u8aac\u660e\u3068\u3057\u3066\u4f7f\u7528\u3055\u308c\u308b\u3002 SensorModel autoware_launch/launch/logging_simulator.launch.xml \u306e\u5f15\u6570\u306e sensor_model \u3092\u6307\u5b9a\u3059\u308b VehicleModel autoware_launch/launch/logging_simulator.launch.xml \u306e\u5f15\u6570\u306e vehicle_model \u3092\u6307\u5b9a\u3059\u308b VehicleId autoware_launch/launch/logging_simulator.launch.xml \u306e\u5f15\u6570\u306e vehicle_id \u3092\u6307\u5b9a\u3059\u308b\u3002 \u8eca\u4e21 ID \u306e\u6307\u5b9a\u304c\u306a\u3044\u5834\u5408\u306f\u3001default \u3092\u6307\u5b9a\u3059\u308b\u3002 LocalMapPath(2.1.0 \u3067\u5c0e\u5165) \u30ed\u30fc\u30ab\u30eb\u74b0\u5883\u3067\u4f7f\u7528\u3059\u308b\u5730\u56f3\u306e\u30d5\u30a9\u30eb\u30c0\u306e\u30d1\u30b9\u3092\u8a18\u8ff0\u3059\u308b\u3002 $HOME \u306e\u3088\u3046\u306a\u74b0\u5883\u5909\u6570\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u308b\u3002 Evaluation \u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u7d50\u679c\u3092\u8a55\u4fa1\u3059\u308b\u6761\u4ef6\u3092\u5b9a\u7fa9\u3059\u308b\u3002 UseCaseName \u8a55\u4fa1\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u6307\u5b9a\u3059\u308b\u3002 \u8a3a\u65ad\u6a5f\u80fd\uff1a performance_diag \u81ea\u5df1\u4f4d\u7f6e\uff1a localization \u306a\u3069\u8a55\u4fa1\u3057\u305f\u3044\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3092\u6307\u5b9a\u3059\u308b\u3002 \u3053\u3053\u3067\u6307\u5b9a\u3055\u308c\u305f\u540d\u524d\u3068\u540c\u3058\u540d\u524d\u306e\u8a55\u4fa1\u7528 launch \u3092\u547c\u3073\u51fa\u3059\u3053\u3068\u3067\u8a55\u4fa1\u304c\u5b9f\u884c\u3055\u308c\u308b\u3002 driving_log_replayer/launch \u306b\u6307\u5b9a\u3057\u305f\u540d\u79f0\u3068\u540c\u3058\u540d\u79f0\u306e launch.py \u30d5\u30a1\u30a4\u30eb\u304c\u5b58\u5728\u3057\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002 \u8a55\u4fa1\u7528\u30ce\u30fc\u30c9\u3092\u8ffd\u52a0\u3057\u3066\u3001driving_log_replayer/launch \u306b launch \u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u3067\u3001\u8a55\u4fa1\u3067\u304d\u308b\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u6570\u3092\u5897\u3084\u305b\u308b\u3002 UseCaseFormatVersion \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u60c5\u5831\u3092\u8a18\u8ff0\u3059\u308b\u3002\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u7528\u3044\u308b\u3002 \u30e1\u30b8\u30e3\u30fc\u30d0\u30fc\u30b8\u30e7\u30f3\u304c 1 \u306b\u306a\u308b\u307e\u3067\u306f\u3001\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u66f4\u65b0\u306e\u5ea6\u306b\u30de\u30a4\u30ca\u30fc\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u66f4\u65b0\u3059\u308b\u3002\u521d\u671f\u30d0\u30fc\u30b8\u30e7\u30f3\u306f 0.1.0\u3002 \u30b7\u30ca\u30ea\u30aa\u3068\u8a55\u4fa1\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u4e21\u65b9\u306b format \u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u57cb\u3081\u8fbc\u307f\u3001\u8a55\u4fa1\u30d7\u30ed\u30b0\u30e9\u30e0\u3068\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u4e00\u81f4\u3057\u3066\u3044\u308b\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u3002 Conditions \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u6bce\u306b\u8a2d\u5b9a\u3067\u304d\u308b\u6761\u4ef6\u3092\u6307\u5b9a\u3059\u308b\u3002 \u6307\u5b9a\u53ef\u80fd\u306a\u6761\u4ef6\u306f\u5404\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3092\u53c2\u7167\u3002","title":"Driving Log Replayer \u30b7\u30ca\u30ea\u30aa\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u5b9a\u7fa9"},{"location":"scenario_format/#driving-log-replayer","text":"driving_log_replayer \u3067\u7528\u3044\u308b\u30b7\u30ca\u30ea\u30aa\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u3064\u3044\u3066\u8ff0\u3079\u308b\u3002","title":"Driving Log Replayer \u30b7\u30ca\u30ea\u30aa\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u5b9a\u7fa9"},{"location":"scenario_format/#_1","text":"\u30ad\u30fc\u306f CamelCase \u306b\u3066\u5b9a\u7fa9\u3059\u308b\u3002 \u5ea7\u6a19\u7cfb\u306b\u95a2\u3057\u3066\u306f\u3001\u7279\u306b\u6307\u5b9a\u306a\u3051\u308c\u3070 Lanelet2 \u3068\u540c\u3058\u5ea7\u6a19\u7cfb\u306b\u3066\u8a18\u8ff0\u3002\u30de\u30c3\u30d7\u5ea7\u6a19\u7cfb\u3002 \u5358\u4f4d\u7cfb\u306b\u95a2\u3057\u3066\u306f\u3001\u7279\u306b\u6307\u5b9a\u304c\u306a\u3051\u308c\u3070\u4ee5\u4e0b\u3092\u4f7f\u7528\u3059\u308b\u3002 \u8ddd\u96e2: m \u901f\u5ea6: m/s \u52a0\u901f\u5ea6: m/s^2 \u6642\u9593: s \u6642\u523b: UNIX TIME","title":"\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u95a2\u3059\u308b\u6ce8\u610f\u4e8b\u9805"},{"location":"scenario_format/#_2","text":"\u30b7\u30ca\u30ea\u30aa\u306e\u30b5\u30f3\u30d7\u30eb\u3092 docs/sample \u30d5\u30a9\u30eb\u30c0\u306b\u683c\u7d0d\u3057\u3066\u3044\u308b\u3002","title":"\u30b5\u30f3\u30d7\u30eb"},{"location":"scenario_format/#_3","text":"\u57fa\u672c\u69cb\u9020\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002\u3053\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u5143\u306b\u3001\u4ee5\u4e0b\u3067\u8aac\u660e\u3059\u308b\u578b\u3092\u7528\u3044\u3066\u3001\u5177\u4f53\u7684\u306a\u30b7\u30ca\u30ea\u30aa\u3092\u8a18\u8ff0\u3057\u3066\u3044\u304f\u3002 ScenarioFormatVersion: 2.2.0 ScenarioName: String ScenarioDescription: String # vehicle setup SensorModel: String VehicleModel: String VehicleId: String # map LocalMapPath: String Evaluation: UseCaseName: String UseCaseFormatVersion: String Conditions: Dictionary # refer use case","title":"\u30d5\u30a9\u30fc\u30de\u30c3\u30c8"},{"location":"scenario_format/#scenarioformatversion","text":"\u30b7\u30ca\u30ea\u30aa\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u60c5\u5831\u3092\u8a18\u8ff0\u3059\u308b\u3002\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u7528\u3044\u308b\u3002 \u73fe\u30d0\u30fc\u30b8\u30e7\u30f3\u306f 2.2.0 \u3067\u3001\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u66f4\u65b0\u306e\u5ea6\u306b\u30de\u30a4\u30ca\u30fc\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u66f4\u65b0\u3059\u308b\u3002","title":"ScenarioFormatVersion"},{"location":"scenario_format/#scenarioname","text":"\u30b7\u30ca\u30ea\u30aa\u306e\u540d\u524d\u3092\u8a18\u8ff0\u3059\u308b\u3002Autoware Evaluator \u4e0a\u3067\u30b7\u30ca\u30ea\u30aa\u306e\u8868\u793a\u540d\u3068\u3057\u3066\u4f7f\u7528\u3055\u308c\u308b\u3002","title":"ScenarioName"},{"location":"scenario_format/#scenariodescription","text":"\u30b7\u30ca\u30ea\u30aa\u306e\u8aac\u660e\u3092\u8a18\u8ff0\u3059\u308b\u3002Autoware Evaluator \u4e0a\u3067\u30b7\u30ca\u30ea\u30aa\u306e\u8aac\u660e\u3068\u3057\u3066\u4f7f\u7528\u3055\u308c\u308b\u3002","title":"ScenarioDescription"},{"location":"scenario_format/#sensormodel","text":"autoware_launch/launch/logging_simulator.launch.xml \u306e\u5f15\u6570\u306e sensor_model \u3092\u6307\u5b9a\u3059\u308b","title":"SensorModel"},{"location":"scenario_format/#vehiclemodel","text":"autoware_launch/launch/logging_simulator.launch.xml \u306e\u5f15\u6570\u306e vehicle_model \u3092\u6307\u5b9a\u3059\u308b","title":"VehicleModel"},{"location":"scenario_format/#vehicleid","text":"autoware_launch/launch/logging_simulator.launch.xml \u306e\u5f15\u6570\u306e vehicle_id \u3092\u6307\u5b9a\u3059\u308b\u3002 \u8eca\u4e21 ID \u306e\u6307\u5b9a\u304c\u306a\u3044\u5834\u5408\u306f\u3001default \u3092\u6307\u5b9a\u3059\u308b\u3002","title":"VehicleId"},{"location":"scenario_format/#localmappath210","text":"\u30ed\u30fc\u30ab\u30eb\u74b0\u5883\u3067\u4f7f\u7528\u3059\u308b\u5730\u56f3\u306e\u30d5\u30a9\u30eb\u30c0\u306e\u30d1\u30b9\u3092\u8a18\u8ff0\u3059\u308b\u3002 $HOME \u306e\u3088\u3046\u306a\u74b0\u5883\u5909\u6570\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u308b\u3002","title":"LocalMapPath(2.1.0 \u3067\u5c0e\u5165)"},{"location":"scenario_format/#evaluation","text":"\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u7d50\u679c\u3092\u8a55\u4fa1\u3059\u308b\u6761\u4ef6\u3092\u5b9a\u7fa9\u3059\u308b\u3002","title":"Evaluation"},{"location":"scenario_format/#usecasename","text":"\u8a55\u4fa1\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u6307\u5b9a\u3059\u308b\u3002 \u8a3a\u65ad\u6a5f\u80fd\uff1a performance_diag \u81ea\u5df1\u4f4d\u7f6e\uff1a localization \u306a\u3069\u8a55\u4fa1\u3057\u305f\u3044\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3092\u6307\u5b9a\u3059\u308b\u3002 \u3053\u3053\u3067\u6307\u5b9a\u3055\u308c\u305f\u540d\u524d\u3068\u540c\u3058\u540d\u524d\u306e\u8a55\u4fa1\u7528 launch \u3092\u547c\u3073\u51fa\u3059\u3053\u3068\u3067\u8a55\u4fa1\u304c\u5b9f\u884c\u3055\u308c\u308b\u3002 driving_log_replayer/launch \u306b\u6307\u5b9a\u3057\u305f\u540d\u79f0\u3068\u540c\u3058\u540d\u79f0\u306e launch.py \u30d5\u30a1\u30a4\u30eb\u304c\u5b58\u5728\u3057\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002 \u8a55\u4fa1\u7528\u30ce\u30fc\u30c9\u3092\u8ffd\u52a0\u3057\u3066\u3001driving_log_replayer/launch \u306b launch \u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u3067\u3001\u8a55\u4fa1\u3067\u304d\u308b\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u6570\u3092\u5897\u3084\u305b\u308b\u3002","title":"UseCaseName"},{"location":"scenario_format/#usecaseformatversion","text":"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u60c5\u5831\u3092\u8a18\u8ff0\u3059\u308b\u3002\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u7528\u3044\u308b\u3002 \u30e1\u30b8\u30e3\u30fc\u30d0\u30fc\u30b8\u30e7\u30f3\u304c 1 \u306b\u306a\u308b\u307e\u3067\u306f\u3001\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u66f4\u65b0\u306e\u5ea6\u306b\u30de\u30a4\u30ca\u30fc\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u66f4\u65b0\u3059\u308b\u3002\u521d\u671f\u30d0\u30fc\u30b8\u30e7\u30f3\u306f 0.1.0\u3002 \u30b7\u30ca\u30ea\u30aa\u3068\u8a55\u4fa1\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u4e21\u65b9\u306b format \u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u57cb\u3081\u8fbc\u307f\u3001\u8a55\u4fa1\u30d7\u30ed\u30b0\u30e9\u30e0\u3068\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u4e00\u81f4\u3057\u3066\u3044\u308b\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u3002","title":"UseCaseFormatVersion"},{"location":"scenario_format/#conditions","text":"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u6bce\u306b\u8a2d\u5b9a\u3067\u304d\u308b\u6761\u4ef6\u3092\u6307\u5b9a\u3059\u308b\u3002 \u6307\u5b9a\u53ef\u80fd\u306a\u6761\u4ef6\u306f\u5404\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3092\u53c2\u7167\u3002","title":"Conditions"},{"location":"use_case/","text":"\u8a55\u4fa1\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9 driving_log_replayer \u3092\u7528\u3044\u3066\u3069\u306e\u3088\u3046\u306a\u8a55\u4fa1\u3092\u884c\u3048\u308b\u304b\u8ff0\u3079\u308b\u3002 Driving Log Replayer \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u4e00\u89a7 Localization Obstacle Segmentation Perception Performance Diag","title":"\u8a55\u4fa1\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9"},{"location":"use_case/#_1","text":"driving_log_replayer \u3092\u7528\u3044\u3066\u3069\u306e\u3088\u3046\u306a\u8a55\u4fa1\u3092\u884c\u3048\u308b\u304b\u8ff0\u3079\u308b\u3002","title":"\u8a55\u4fa1\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9"},{"location":"use_case/#driving-log-replayer","text":"Localization Obstacle Segmentation Perception Performance Diag","title":"Driving Log Replayer \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u4e00\u89a7"},{"location":"use_case/localization/","text":"\u81ea\u5df1\u4f4d\u7f6e\u63a8\u5b9a\u306e\u8a55\u4fa1 Autoware \u306e\u81ea\u5df1\u4f4d\u7f6e\u63a8\u5b9a(localization)\u304c\u5b89\u5b9a\u3057\u3066\u52d5\u4f5c\u3057\u3066\u3044\u308b\u304b\u3092\u8a55\u4fa1\u3059\u308b\u3002 Autoware \u3067\u306f\u81ea\u5df1\u4f4d\u7f6e\u63a8\u5b9a\u306e\u78ba\u304b\u3089\u3057\u3055\u3092\u793a\u3059\u4ee5\u4e0b\u306e\u6307\u6a19\u304c publish \u3055\u308c\u3066\u304a\u308a\u3001\u3053\u308c\u3089\u306e\u5024\u304c\u30b7\u30ca\u30ea\u30aa\u3067\u6307\u5b9a\u3057\u305f\u5024\u3088\u308a\u5927\u304d\u304b\u3069\u3046\u304b\u3067\u81ea\u5df1\u4f4d\u7f6e\u63a8\u5b9a\u304c\u5b89\u5b9a\u3057\u3066\u3044\u308b\u304b\u3092\u5224\u65ad\u3059\u308b\u3002 \u307e\u305f\u3001NDT Scan Matching \u304c\u53ce\u675f\u3057\u3066\u3044\u308b\u304b\u3092\u5224\u5b9a\u3059\u308b\u305f\u3081\u3001NDT \u3068 EKF \u3067\u8a08\u7b97\u3055\u308c\u305f pose \u306e\u6a2a\u65b9\u5411\u306e\u8ddd\u96e2\u8aa4\u5dee\u304c\u4e00\u5b9a\u4ee5\u5185\u306b\u53ce\u307e\u3063\u3066\u3044\u308b\u304b\u3092\u5224\u5b9a\u3059\u308b\u3002 \u8a55\u4fa1\u65b9\u6cd5 driving_log_replayer/launch/localization.launch.py \u3092\u7528\u3044\u3066\u3001\u8a55\u4fa1\u7528\u306e\u30ce\u30fc\u30c9\u3092 autoware_launch \u306e logging_simulator.launch \u3068\u4e00\u7dd2\u306b\u7acb\u3061\u4e0a\u3052\u308b\u3002 \u8a55\u4fa1\u30ce\u30fc\u30c9\u304c\u4f7f\u7528\u3059\u308b Topic \u3068\u30c7\u30fc\u30bf\u578b subscribe topic \u540d \u30c7\u30fc\u30bf\u578b /localization/pose_estimator/transform_probability tier4_debug_msgs::msg::Float32Stamped /localization/pose_estimator/nearest_voxel_transformation_likelihood tier4_debug_msgs::msg::Float32Stamped /localization/pose_estimator/pose geometry_msgs::msg::PoseStamped /localization/kinematic_state nav_msgs::msg::Odometry /tf tf2_msgs/msg/TFMessage /localization/util/downsample/pointcloud sensor_msgs::msg::PointCloud2 /localization/pose_estimator/points_aligned sensor_msgs::msg::PointCloud2 /localization/pose_estimator/exe_time_ms tier4_debug_msgs::msg::Float32Stamped /localization/pose_estimator/iteration_num tier4_debug_msgs::msg::Int32Stamped publish topic \u540d \u30c7\u30fc\u30bf\u578b /driving_log_replayer/localization/lateral_distance example_interfaces::msg::Float64 /initialpose geometry_msgs::msg::PoseWithCovarianceStamped logging_simulator.launch \u306b\u6e21\u3059\u5f15\u6570 autoware \u306e\u51e6\u7406\u3092\u8efd\u304f\u3059\u308b\u305f\u3081\u3001\u8a55\u4fa1\u306b\u95a2\u4fc2\u306e\u306a\u3044\u30e2\u30b8\u30e5\u30fc\u30eb\u306f launch \u306e\u5f15\u6570\u306b false \u3092\u6e21\u3059\u3053\u3068\u3067\u7121\u52b9\u5316\u3059\u308b\u3002\u4ee5\u4e0b\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u3002 planning: false control: false NDT \u306e\u4fe1\u983c\u5ea6\u3092\u4ee5\u4e0b\u306e 2 \u3064\u306e topic \u306e\u3046\u3061\u3001\u30b7\u30ca\u30ea\u30aa\u3067\u8a2d\u5b9a\u3057\u305f\u65b9\u5f0f\u3067\u8a55\u4fa1\u3059\u308b\u3002 /localization/pose_estimator/transform_probability /localization/pose_estimator/nearest_voxel_transformation_likelihood NDT \u306e\u53ce\u675f\u6027\u3092\u4ee5\u4e0b\u304b\u3089\u8a55\u4fa1\u3059\u308b /localization/pose_estimator/pose \u4e0a\u8a18\u306e\u30c8\u30d4\u30c3\u30af\u3092\u51e6\u7406\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u3044\u305a\u308c\u304b\u3068\u3057\u3066\u8a55\u4fa1\u3055\u308c\u308b\u3002 \u305f\u3060\u3057\u8a55\u4fa1\u958b\u59cb\u306f\u3001/localization/pose_estimator/transform_probability > 0 \u3082\u3057\u304f\u306f /localization/pose_estimator/nearest_voxel_transformation_likelihood > 0 \u306b\u306a\u3063\u305f\u6642\u70b9\u304b\u3089\u3068\u3059\u308b\u3002 \u4fe1\u983c\u5ea6\u6b63\u5e38 /localization/pose_estimator/transform_probability\u3001\u307e\u305f\u306f/localization/pose_estimator/nearest_voxel_transformation_likelihood \u306e data \u304c\u30b7\u30ca\u30ea\u30aa\u306b\u8a18\u8ff0\u3057\u305f AllowableLikelihood \u4ee5\u4e0a\u306e\u5834\u5408 \u4fe1\u983c\u5ea6\u7570\u5e38 /localization/pose_estimator/transform_probability\u3001\u307e\u305f\u306f/localization/pose_estimator/nearest_voxel_transformation_likelihood \u306e data \u304c\u30b7\u30ca\u30ea\u30aa\u306b\u8a18\u8ff0\u3057\u305f AllowableLikelihood \u672a\u6e80\u306e\u5834\u5408 \u53ce\u675f\u6b63\u5e38 \u4ee5\u4e0b\u306e 3 \u3064\u306e\u6761\u4ef6\u3092\u5168\u3066\u6e80\u305f\u3059\u5834\u5408 /localization/pose_estimator/pose \u3068 /localization/pose_twist_fusion_filter/pose \u304b\u3089\u6a2a\u65b9\u5411\u306e\u8ddd\u96e2\u3092\u8a08\u7b97\u3057\u3066\u3001\u30b7\u30ca\u30ea\u30aa\u306b\u8a18\u8ff0\u3057\u305f AllowableDistance \u4ee5\u4e0b /localization/pose_estimator/exe_time_ms \u304c\u3001\u30b7\u30ca\u30ea\u30aa\u306b\u8a18\u8ff0\u3057\u305f AllowableExeTimeMs \u4ee5\u4e0b /localization/pose_estimator/iteration_num \u304c\u3001\u30b7\u30ca\u30ea\u30aa\u306b\u8a18\u8ff0\u3057\u305f AllowableIterationNum \u4ee5\u4e0b \u53ce\u675f\u7570\u5e38 \u53ce\u675f\u6b63\u5e38\u306e\u6761\u4ef6\u3092\u6e80\u305f\u3055\u306a\u3044\u5834\u5408 \u8a55\u4fa1\u30d5\u30ed\u30fc launch \u3067\u8a55\u4fa1\u30ce\u30fc\u30c9(localization_evaluator_node)\u3068 logging_simulator.launch\u3001ros2 bag play \u3092\u7acb\u3061\u4e0a\u3052\u308b bag \u304b\u3089\u51fa\u529b\u3055\u308c\u305f\u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u3092 autoware \u304c\u53d7\u3051\u53d6\u3063\u3066\u3001\u81ea\u5df1\u4f4d\u7f6e\u63a8\u5b9a\u3092\u884c\u3046 \u8a55\u4fa1\u30ce\u30fc\u30c9\u304c/localization/pose_estimator/transform_probability\u3001\u307e\u305f\u306f/localization/pose_estimator/nearest_voxel_transformation_likelihood\u3001\u53ca\u3073/localization/pose_estimator/pose \u3092 subscribe \u3057\u3066\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3067\u8a55\u4fa1\u3092\u884c\u3046 simulation \u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u5b9f\u884c\u306b\u5fc5\u8981\u306a\u60c5\u5831\u3092\u8ff0\u3079\u308b\u3002 \u5165\u529b rosbag \u306b\u542b\u307e\u308c\u308b\u3079\u304d topic \u8eca\u4e21\u306e ECU \u306e CAN \u3068\u3001\u4f7f\u7528\u3057\u3066\u3044\u308b sensor \u306e topic \u304c\u5fc5\u8981 \u4ee5\u4e0b\u306f\u4f8b\u3067\u3042\u308a\u3001\u9055\u3046\u30bb\u30f3\u30b5\u30fc\u3092\u4f7f\u3063\u3066\u3044\u308b\u5834\u5408\u306f\u9069\u5b9c\u8aad\u307f\u66ff\u3048\u308b\u3002 LiDAR \u304c\u8907\u6570\u3064\u3044\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u3059\u3079\u3066\u306e LiDAR \u306e packets \u3092\u542b\u3081\u308b /sensing/gnss/ublox/fix_velocity /sensing/gnss/ublox/nav_sat_fix /sensing/gnss/ublox/navpvt /sensing/imu/tamagawa/imu_raw /sensing/lidar/*/velodyne_packets /gsm8/from_can_bus \u5165\u529b rosbag \u306b\u542b\u307e\u308c\u3066\u306f\u3044\u3051\u306a\u3044 topic /clock evaluation \u8a55\u4fa1\u306b\u5fc5\u8981\u306a\u60c5\u5831\u3092\u8ff0\u3079\u308b\u3002 \u30b7\u30ca\u30ea\u30aa\u30d5\u30a9\u30fc\u30de\u30c3\u30c8 Evaluation: UseCaseName: localization UseCaseFormatVersion: 1.2.0 Conditions: Convergence: # \u53ce\u675f\u6027\u8a55\u4fa1 AllowableDistance: 0.2 # \u76f4\u7dda\u8ddd\u96e2\u3067\u3053\u306e\u8ddd\u96e2\u4ee5\u5185\u3060\u3063\u305f\u3089\u53ce\u675f\u3068\u307f\u306a\u3059 AllowableExeTimeMs: 100.0 # NDT\u306e\u8a08\u7b97\u6642\u9593\u304c\u3053\u306e\u5024\u4ee5\u4e0b\u306a\u3089\u6210\u529f\u3068\u307f\u306a\u3059 AllowableIterationNum: 30 # NDT\u306e\u8a08\u7b97\u56de\u6570\u304c\u3053\u306e\u5024\u4ee5\u4e0b\u306a\u3089\u6210\u529f\u3068\u307f\u306a\u3059 PassRate: 95.0 # \u53ce\u675f\u6027\u306e\u8a55\u4fa1\u8a66\u884c\u56de\u6570\u306e\u5185\u3001\u3069\u306e\u7a0b\u5ea6(%)\u8a55\u4fa1\u6210\u529f\u3060\u3063\u305f\u3089\u6210\u529f\u3068\u3059\u308b\u304b Reliability: # \u4fe1\u983c\u5ea6\u8a55\u4fa1 Method: NVTL # NVTL or TP\u306e\u3069\u3061\u3089\u3067\u8a55\u4fa1\u3092\u884c\u3046\u304b AllowableLikelihood: 3.0 # \u3053\u306e\u5024\u4ee5\u4e0a\u306a\u3089\u4fe1\u983c\u5ea6\u306f\u6b63\u5e38\u3068\u307f\u306a\u3059 NGCount: 10 # \u4fe1\u983c\u5ea6\u7570\u5e38\u304c\u9023\u7d9a\u3067\u3053\u306e\u56de\u6570\u7d9a\u3044\u305f\u3089\u4fe1\u983c\u5ea6\u8a55\u4fa1\u5931\u6557\u3068\u307f\u306a\u3059 InitialPose: position: x: 16876.271484375 y: 36087.9453125 z: 0.0 orientation: x: 0.0 y: 0.0 z: 0.23490284404117467 w: 0.9720188546840887 \u8a55\u4fa1\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8 localization \u3067\u306f\u3001\u53ce\u675f\u6027\u3068\u4fe1\u983c\u5ea6\u306e 2 \u3064\u3092\u8a55\u4fa1\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u884c\u6bce\u306b\u53ce\u675f\u6027\u307e\u305f\u306f\u4fe1\u983c\u5ea6\u306e\u3069\u3061\u3089\u304b\u306e\u7d50\u679c\u304c\u5165\u3063\u3066\u3044\u308b\u3002 Result \u306f\u53ce\u675f\u6027\u3068\u4fe1\u983c\u5ea6\u4e21\u65b9\u306e\u30d1\u30b9\u3057\u3066\u3044\u308c\u3070 true \u3067\u305d\u308c\u4ee5\u5916\u306f false \u5931\u6557\u3068\u306a\u308b\u3002 \u4ee5\u4e0b\u306b\u3001\u305d\u308c\u305e\u308c\u306e\u8a55\u4fa1\u306e\u4f8b\u3092\u8a18\u8ff0\u3059\u308b\u3002 \u305f\u3060\u3057\u3001\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u89e3\u8aac\u6e08\u307f\u306e\u5171\u901a\u90e8\u5206\u306b\u3064\u3044\u3066\u306f\u7701\u7565\u3059\u308b\u3002 \u53ce\u675f\u6027\u306e\u7d50\u679c(Frame \u306e\u4e2d\u306b Convergence \u9805\u76ee\u304c\u3042\u308b\u5834\u5408) { \"Frame\": { \"Convergence\": { \"Result\": \"Success or Fail\", \"Info\": [ { \"LateralDistance\": \"\u8a55\u4fa1\u306b\u4f7f\u7528\u3057\u305fndt\u3068ekf\u306e\u6a2a\u65b9\u5411\u306e\u8ddd\u96e2\u5dee\", \"HorizontalDistance\": \"ndt\u3068ekf\u306e\u6c34\u5e73\u8ddd\u96e2\u3002\u53c2\u8003\u5024\", \"ExeTimeMs\": \"\u8a55\u4fa1\u306b\u4f7f\u7528\u3057\u305fndt\u306e\u8a08\u7b97\u306b\u304b\u304b\u3063\u305f\u6642\u9593\", \"IterationNum\": \"\u8a55\u4fa1\u306b\u4f7f\u7528\u3057\u305fndt\u306e\u518d\u8a08\u7b97\u56de\u6570\" } ] } } } \u4fe1\u983c\u5ea6\u306e\u7d50\u679c(Frame \u306b Reliability \u306e\u9805\u76ee\u304c\u3042\u308b\u5834\u5408) { \"Frame\": { \"Reliability\": { \"Result\": \"Success or Fail\", \"Info\": [ { \"Value\": \"\u8a55\u4fa1\u306b\u4f7f\u7528\u3057\u305fNVTL or TP\u306e\u5024\", \"Reference\": \"\u8a55\u4fa1\u306b\u4f7f\u7528\u3057\u306a\u304b\u3063\u305f\u5c24\u5ea6\u3002\u53c2\u8003\u5024\u3002Value\u304cNVTL\u306a\u3089TP\u304c\u5165\u308b\" } ] } } }","title":"\u81ea\u5df1\u4f4d\u7f6e\u63a8\u5b9a\u306e\u8a55\u4fa1"},{"location":"use_case/localization/#_1","text":"Autoware \u306e\u81ea\u5df1\u4f4d\u7f6e\u63a8\u5b9a(localization)\u304c\u5b89\u5b9a\u3057\u3066\u52d5\u4f5c\u3057\u3066\u3044\u308b\u304b\u3092\u8a55\u4fa1\u3059\u308b\u3002 Autoware \u3067\u306f\u81ea\u5df1\u4f4d\u7f6e\u63a8\u5b9a\u306e\u78ba\u304b\u3089\u3057\u3055\u3092\u793a\u3059\u4ee5\u4e0b\u306e\u6307\u6a19\u304c publish \u3055\u308c\u3066\u304a\u308a\u3001\u3053\u308c\u3089\u306e\u5024\u304c\u30b7\u30ca\u30ea\u30aa\u3067\u6307\u5b9a\u3057\u305f\u5024\u3088\u308a\u5927\u304d\u304b\u3069\u3046\u304b\u3067\u81ea\u5df1\u4f4d\u7f6e\u63a8\u5b9a\u304c\u5b89\u5b9a\u3057\u3066\u3044\u308b\u304b\u3092\u5224\u65ad\u3059\u308b\u3002 \u307e\u305f\u3001NDT Scan Matching \u304c\u53ce\u675f\u3057\u3066\u3044\u308b\u304b\u3092\u5224\u5b9a\u3059\u308b\u305f\u3081\u3001NDT \u3068 EKF \u3067\u8a08\u7b97\u3055\u308c\u305f pose \u306e\u6a2a\u65b9\u5411\u306e\u8ddd\u96e2\u8aa4\u5dee\u304c\u4e00\u5b9a\u4ee5\u5185\u306b\u53ce\u307e\u3063\u3066\u3044\u308b\u304b\u3092\u5224\u5b9a\u3059\u308b\u3002","title":"\u81ea\u5df1\u4f4d\u7f6e\u63a8\u5b9a\u306e\u8a55\u4fa1"},{"location":"use_case/localization/#_2","text":"driving_log_replayer/launch/localization.launch.py \u3092\u7528\u3044\u3066\u3001\u8a55\u4fa1\u7528\u306e\u30ce\u30fc\u30c9\u3092 autoware_launch \u306e logging_simulator.launch \u3068\u4e00\u7dd2\u306b\u7acb\u3061\u4e0a\u3052\u308b\u3002","title":"\u8a55\u4fa1\u65b9\u6cd5"},{"location":"use_case/localization/#topic","text":"subscribe topic \u540d \u30c7\u30fc\u30bf\u578b /localization/pose_estimator/transform_probability tier4_debug_msgs::msg::Float32Stamped /localization/pose_estimator/nearest_voxel_transformation_likelihood tier4_debug_msgs::msg::Float32Stamped /localization/pose_estimator/pose geometry_msgs::msg::PoseStamped /localization/kinematic_state nav_msgs::msg::Odometry /tf tf2_msgs/msg/TFMessage /localization/util/downsample/pointcloud sensor_msgs::msg::PointCloud2 /localization/pose_estimator/points_aligned sensor_msgs::msg::PointCloud2 /localization/pose_estimator/exe_time_ms tier4_debug_msgs::msg::Float32Stamped /localization/pose_estimator/iteration_num tier4_debug_msgs::msg::Int32Stamped publish topic \u540d \u30c7\u30fc\u30bf\u578b /driving_log_replayer/localization/lateral_distance example_interfaces::msg::Float64 /initialpose geometry_msgs::msg::PoseWithCovarianceStamped","title":"\u8a55\u4fa1\u30ce\u30fc\u30c9\u304c\u4f7f\u7528\u3059\u308b Topic \u3068\u30c7\u30fc\u30bf\u578b"},{"location":"use_case/localization/#logging_simulatorlaunch","text":"autoware \u306e\u51e6\u7406\u3092\u8efd\u304f\u3059\u308b\u305f\u3081\u3001\u8a55\u4fa1\u306b\u95a2\u4fc2\u306e\u306a\u3044\u30e2\u30b8\u30e5\u30fc\u30eb\u306f launch \u306e\u5f15\u6570\u306b false \u3092\u6e21\u3059\u3053\u3068\u3067\u7121\u52b9\u5316\u3059\u308b\u3002\u4ee5\u4e0b\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u3002 planning: false control: false NDT \u306e\u4fe1\u983c\u5ea6\u3092\u4ee5\u4e0b\u306e 2 \u3064\u306e topic \u306e\u3046\u3061\u3001\u30b7\u30ca\u30ea\u30aa\u3067\u8a2d\u5b9a\u3057\u305f\u65b9\u5f0f\u3067\u8a55\u4fa1\u3059\u308b\u3002 /localization/pose_estimator/transform_probability /localization/pose_estimator/nearest_voxel_transformation_likelihood NDT \u306e\u53ce\u675f\u6027\u3092\u4ee5\u4e0b\u304b\u3089\u8a55\u4fa1\u3059\u308b /localization/pose_estimator/pose \u4e0a\u8a18\u306e\u30c8\u30d4\u30c3\u30af\u3092\u51e6\u7406\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u3044\u305a\u308c\u304b\u3068\u3057\u3066\u8a55\u4fa1\u3055\u308c\u308b\u3002 \u305f\u3060\u3057\u8a55\u4fa1\u958b\u59cb\u306f\u3001/localization/pose_estimator/transform_probability > 0 \u3082\u3057\u304f\u306f /localization/pose_estimator/nearest_voxel_transformation_likelihood > 0 \u306b\u306a\u3063\u305f\u6642\u70b9\u304b\u3089\u3068\u3059\u308b\u3002","title":"logging_simulator.launch \u306b\u6e21\u3059\u5f15\u6570"},{"location":"use_case/localization/#_3","text":"/localization/pose_estimator/transform_probability\u3001\u307e\u305f\u306f/localization/pose_estimator/nearest_voxel_transformation_likelihood \u306e data \u304c\u30b7\u30ca\u30ea\u30aa\u306b\u8a18\u8ff0\u3057\u305f AllowableLikelihood \u4ee5\u4e0a\u306e\u5834\u5408","title":"\u4fe1\u983c\u5ea6\u6b63\u5e38"},{"location":"use_case/localization/#_4","text":"/localization/pose_estimator/transform_probability\u3001\u307e\u305f\u306f/localization/pose_estimator/nearest_voxel_transformation_likelihood \u306e data \u304c\u30b7\u30ca\u30ea\u30aa\u306b\u8a18\u8ff0\u3057\u305f AllowableLikelihood \u672a\u6e80\u306e\u5834\u5408","title":"\u4fe1\u983c\u5ea6\u7570\u5e38"},{"location":"use_case/localization/#_5","text":"\u4ee5\u4e0b\u306e 3 \u3064\u306e\u6761\u4ef6\u3092\u5168\u3066\u6e80\u305f\u3059\u5834\u5408 /localization/pose_estimator/pose \u3068 /localization/pose_twist_fusion_filter/pose \u304b\u3089\u6a2a\u65b9\u5411\u306e\u8ddd\u96e2\u3092\u8a08\u7b97\u3057\u3066\u3001\u30b7\u30ca\u30ea\u30aa\u306b\u8a18\u8ff0\u3057\u305f AllowableDistance \u4ee5\u4e0b /localization/pose_estimator/exe_time_ms \u304c\u3001\u30b7\u30ca\u30ea\u30aa\u306b\u8a18\u8ff0\u3057\u305f AllowableExeTimeMs \u4ee5\u4e0b /localization/pose_estimator/iteration_num \u304c\u3001\u30b7\u30ca\u30ea\u30aa\u306b\u8a18\u8ff0\u3057\u305f AllowableIterationNum \u4ee5\u4e0b","title":"\u53ce\u675f\u6b63\u5e38"},{"location":"use_case/localization/#_6","text":"\u53ce\u675f\u6b63\u5e38\u306e\u6761\u4ef6\u3092\u6e80\u305f\u3055\u306a\u3044\u5834\u5408","title":"\u53ce\u675f\u7570\u5e38"},{"location":"use_case/localization/#_7","text":"launch \u3067\u8a55\u4fa1\u30ce\u30fc\u30c9(localization_evaluator_node)\u3068 logging_simulator.launch\u3001ros2 bag play \u3092\u7acb\u3061\u4e0a\u3052\u308b bag \u304b\u3089\u51fa\u529b\u3055\u308c\u305f\u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u3092 autoware \u304c\u53d7\u3051\u53d6\u3063\u3066\u3001\u81ea\u5df1\u4f4d\u7f6e\u63a8\u5b9a\u3092\u884c\u3046 \u8a55\u4fa1\u30ce\u30fc\u30c9\u304c/localization/pose_estimator/transform_probability\u3001\u307e\u305f\u306f/localization/pose_estimator/nearest_voxel_transformation_likelihood\u3001\u53ca\u3073/localization/pose_estimator/pose \u3092 subscribe \u3057\u3066\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3067\u8a55\u4fa1\u3092\u884c\u3046","title":"\u8a55\u4fa1\u30d5\u30ed\u30fc"},{"location":"use_case/localization/#simulation","text":"\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u5b9f\u884c\u306b\u5fc5\u8981\u306a\u60c5\u5831\u3092\u8ff0\u3079\u308b\u3002","title":"simulation"},{"location":"use_case/localization/#rosbag-topic","text":"\u8eca\u4e21\u306e ECU \u306e CAN \u3068\u3001\u4f7f\u7528\u3057\u3066\u3044\u308b sensor \u306e topic \u304c\u5fc5\u8981 \u4ee5\u4e0b\u306f\u4f8b\u3067\u3042\u308a\u3001\u9055\u3046\u30bb\u30f3\u30b5\u30fc\u3092\u4f7f\u3063\u3066\u3044\u308b\u5834\u5408\u306f\u9069\u5b9c\u8aad\u307f\u66ff\u3048\u308b\u3002 LiDAR \u304c\u8907\u6570\u3064\u3044\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u3059\u3079\u3066\u306e LiDAR \u306e packets \u3092\u542b\u3081\u308b /sensing/gnss/ublox/fix_velocity /sensing/gnss/ublox/nav_sat_fix /sensing/gnss/ublox/navpvt /sensing/imu/tamagawa/imu_raw /sensing/lidar/*/velodyne_packets /gsm8/from_can_bus","title":"\u5165\u529b rosbag \u306b\u542b\u307e\u308c\u308b\u3079\u304d topic"},{"location":"use_case/localization/#rosbag-topic_1","text":"/clock","title":"\u5165\u529b rosbag \u306b\u542b\u307e\u308c\u3066\u306f\u3044\u3051\u306a\u3044 topic"},{"location":"use_case/localization/#evaluation","text":"\u8a55\u4fa1\u306b\u5fc5\u8981\u306a\u60c5\u5831\u3092\u8ff0\u3079\u308b\u3002","title":"evaluation"},{"location":"use_case/localization/#_8","text":"Evaluation: UseCaseName: localization UseCaseFormatVersion: 1.2.0 Conditions: Convergence: # \u53ce\u675f\u6027\u8a55\u4fa1 AllowableDistance: 0.2 # \u76f4\u7dda\u8ddd\u96e2\u3067\u3053\u306e\u8ddd\u96e2\u4ee5\u5185\u3060\u3063\u305f\u3089\u53ce\u675f\u3068\u307f\u306a\u3059 AllowableExeTimeMs: 100.0 # NDT\u306e\u8a08\u7b97\u6642\u9593\u304c\u3053\u306e\u5024\u4ee5\u4e0b\u306a\u3089\u6210\u529f\u3068\u307f\u306a\u3059 AllowableIterationNum: 30 # NDT\u306e\u8a08\u7b97\u56de\u6570\u304c\u3053\u306e\u5024\u4ee5\u4e0b\u306a\u3089\u6210\u529f\u3068\u307f\u306a\u3059 PassRate: 95.0 # \u53ce\u675f\u6027\u306e\u8a55\u4fa1\u8a66\u884c\u56de\u6570\u306e\u5185\u3001\u3069\u306e\u7a0b\u5ea6(%)\u8a55\u4fa1\u6210\u529f\u3060\u3063\u305f\u3089\u6210\u529f\u3068\u3059\u308b\u304b Reliability: # \u4fe1\u983c\u5ea6\u8a55\u4fa1 Method: NVTL # NVTL or TP\u306e\u3069\u3061\u3089\u3067\u8a55\u4fa1\u3092\u884c\u3046\u304b AllowableLikelihood: 3.0 # \u3053\u306e\u5024\u4ee5\u4e0a\u306a\u3089\u4fe1\u983c\u5ea6\u306f\u6b63\u5e38\u3068\u307f\u306a\u3059 NGCount: 10 # \u4fe1\u983c\u5ea6\u7570\u5e38\u304c\u9023\u7d9a\u3067\u3053\u306e\u56de\u6570\u7d9a\u3044\u305f\u3089\u4fe1\u983c\u5ea6\u8a55\u4fa1\u5931\u6557\u3068\u307f\u306a\u3059 InitialPose: position: x: 16876.271484375 y: 36087.9453125 z: 0.0 orientation: x: 0.0 y: 0.0 z: 0.23490284404117467 w: 0.9720188546840887","title":"\u30b7\u30ca\u30ea\u30aa\u30d5\u30a9\u30fc\u30de\u30c3\u30c8"},{"location":"use_case/localization/#_9","text":"localization \u3067\u306f\u3001\u53ce\u675f\u6027\u3068\u4fe1\u983c\u5ea6\u306e 2 \u3064\u3092\u8a55\u4fa1\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u884c\u6bce\u306b\u53ce\u675f\u6027\u307e\u305f\u306f\u4fe1\u983c\u5ea6\u306e\u3069\u3061\u3089\u304b\u306e\u7d50\u679c\u304c\u5165\u3063\u3066\u3044\u308b\u3002 Result \u306f\u53ce\u675f\u6027\u3068\u4fe1\u983c\u5ea6\u4e21\u65b9\u306e\u30d1\u30b9\u3057\u3066\u3044\u308c\u3070 true \u3067\u305d\u308c\u4ee5\u5916\u306f false \u5931\u6557\u3068\u306a\u308b\u3002 \u4ee5\u4e0b\u306b\u3001\u305d\u308c\u305e\u308c\u306e\u8a55\u4fa1\u306e\u4f8b\u3092\u8a18\u8ff0\u3059\u308b\u3002 \u305f\u3060\u3057\u3001\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u89e3\u8aac\u6e08\u307f\u306e\u5171\u901a\u90e8\u5206\u306b\u3064\u3044\u3066\u306f\u7701\u7565\u3059\u308b\u3002 \u53ce\u675f\u6027\u306e\u7d50\u679c(Frame \u306e\u4e2d\u306b Convergence \u9805\u76ee\u304c\u3042\u308b\u5834\u5408) { \"Frame\": { \"Convergence\": { \"Result\": \"Success or Fail\", \"Info\": [ { \"LateralDistance\": \"\u8a55\u4fa1\u306b\u4f7f\u7528\u3057\u305fndt\u3068ekf\u306e\u6a2a\u65b9\u5411\u306e\u8ddd\u96e2\u5dee\", \"HorizontalDistance\": \"ndt\u3068ekf\u306e\u6c34\u5e73\u8ddd\u96e2\u3002\u53c2\u8003\u5024\", \"ExeTimeMs\": \"\u8a55\u4fa1\u306b\u4f7f\u7528\u3057\u305fndt\u306e\u8a08\u7b97\u306b\u304b\u304b\u3063\u305f\u6642\u9593\", \"IterationNum\": \"\u8a55\u4fa1\u306b\u4f7f\u7528\u3057\u305fndt\u306e\u518d\u8a08\u7b97\u56de\u6570\" } ] } } } \u4fe1\u983c\u5ea6\u306e\u7d50\u679c(Frame \u306b Reliability \u306e\u9805\u76ee\u304c\u3042\u308b\u5834\u5408) { \"Frame\": { \"Reliability\": { \"Result\": \"Success or Fail\", \"Info\": [ { \"Value\": \"\u8a55\u4fa1\u306b\u4f7f\u7528\u3057\u305fNVTL or TP\u306e\u5024\", \"Reference\": \"\u8a55\u4fa1\u306b\u4f7f\u7528\u3057\u306a\u304b\u3063\u305f\u5c24\u5ea6\u3002\u53c2\u8003\u5024\u3002Value\u304cNVTL\u306a\u3089TP\u304c\u5165\u308b\" } ] } } }","title":"\u8a55\u4fa1\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8"},{"location":"use_case/obstacle_segmentation/","text":"\u70b9\u7fa4\u751f\u6210\u306e\u8a55\u4fa1 Autoware \u306e\u70b9\u7fa4\u51e6\u7406\u306e\u30d7\u30ed\u30bb\u30b9(sensing\u2192perception)\u304c\u52d5\u4f5c\u3057\u3066\u3001/perception/obstacle_segmentation/pointcloud \u304c\u610f\u56f3\u901a\u308a\u306b\u51fa\u529b\u3055\u308c\u308b\u304b\u3069\u3046\u304b\u3092\u8a55\u4fa1\u3059\u308b\u3002 \u70b9\u7fa4\u304c\u610f\u56f3\u901a\u308a\u306b\u51fa\u529b\u3055\u308c\u3066\u3044\u308b\u304b\u306e\u5224\u5b9a\u306f\u3001t4_dataset \u3068\u70b9\u7fa4\u3092\u7528\u3044\u3066\u884c\u3046\u3002 \u4e8b\u524d\u306b\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3057\u3066\u304a\u3044\u305f\u8eca\u4e21\u3084\u6b69\u884c\u8005\u306a\u3069\u304c\u691c\u77e5\u51fa\u6765\u3066\u3044\u308b\u304b\u306e\u8a55\u4fa1\uff08detection: \u691c\u77e5\uff09 \u30b7\u30ca\u30ea\u30aa\u3067\u5b9a\u7fa9\u3057\u305f\u81ea\u8eca\u4e21\u5468\u308a\u3068\u30ec\u30fc\u30f3\u3068\u304c\u91cd\u306a\u308b\u30a8\u30ea\u30a2\u306b\u4f59\u5206\u306a\u70b9\u7fa4\u304c\u51fa\u3066\u3044\u306a\u3044\u304b\u306e\u8a55\u4fa1\uff08non_detection: \u975e\u691c\u77e5\uff09 \u306e\u8a55\u4fa1\u3092\u540c\u6642\u306b\u884c\u3046\u3002 \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u30c4\u30fc\u30eb\u306f Deepen \u304c\u63a8\u5968\u3067\u3042\u308b\u304c\u3001t4_dataset \u3078\u306e\u5909\u63db\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u30c4\u30fc\u30eb\u3067\u3042\u308c\u3070\u3088\u304f\u3001\u5909\u63db\u30c4\u30fc\u30eb\u3055\u3048\u4f5c\u6210\u3067\u304d\u308c\u3070\u8907\u6570\u306e\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u30c4\u30fc\u30eb\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3042\u308b\u3002 \u8a55\u4fa1\u65b9\u6cd5 driving_log_replayer/launch/obstacle_segmentation.launch.py \u3092\u7528\u3044\u3066\u3001\u8a55\u4fa1\u7528\u306e\u30ce\u30fc\u30c9\u3092 autoware_launch \u306e logging_simulator.launch \u3068\u4e00\u7dd2\u306b\u7acb\u3061\u4e0a\u3052\u308b\u3002 \u8a55\u4fa1\u30ce\u30fc\u30c9\u304c\u4f7f\u7528\u3059\u308b Topic \u3068\u30c7\u30fc\u30bf\u578b subscribe topic \u540d \u30c7\u30fc\u30bf\u578b /perception/obstacle_segmentation/pointcloud sensor_msgs::msg::PointCloud2 /diagnostics_agg diagnostic_msgs::msg::DiagnosticArray /map/vector_map autoware_auto_mapping_msgs::msg::HADMapBin /tf tf2_msgs/msg/TFMessage /planning/scenario_planning/status/stop_reasons tier4_planning_msgs::msg::StopReasonArray /planning/scenario_planning/trajectory autoware_auto_planning_msgs::msg::Trajectory publish topic \u540d \u30c7\u30fc\u30bf\u578b /driving_log_replayer/obstacle_segmentation/input driving_log_replayer_msgs::msg:ObstacleSegmentationInput /driving_log_replayer/marker/detection visualization_msgs::msg::MarkerArray /driving_log_replayer/marker/non_detection visualization_msgs::msg::MarkerArray /driving_log_replayer/pcd/detection sensor_msgs::msg::PointCloud2 /driving_log_replayer/pcd/non_detection sensor_msgs::msg::PointCloud2 /planning/mission_planning/goal geometry_msgs::msg::PoseStamped logging_simulator.launch \u306b\u6e21\u3059\u5f15\u6570 autoware \u306e\u51e6\u7406\u3092\u8efd\u304f\u3059\u308b\u305f\u3081\u3001\u8a55\u4fa1\u306b\u95a2\u4fc2\u306e\u306a\u3044\u30e2\u30b8\u30e5\u30fc\u30eb\u306f launch \u306e\u5f15\u6570\u306b false \u3092\u6e21\u3059\u3053\u3068\u3067\u7121\u52b9\u5316\u3059\u308b\u3002\u4ee5\u4e0b\u3092\u8a2d\u5b9a\u3059\u308b\u3002 localization: false control: false autoware \u304b\u3089\u51fa\u529b\u3055\u308c\u308b\u70b9\u7fa4(/perception/obstacle_segmentation/pointcloud)\u3092\u8a55\u4fa1\u3059\u308b\u3002 \u691c\u77e5\u3068\u975e\u691c\u77e5\u3067\u305d\u308c\u305e\u308c\u306e\u8a55\u4fa1\u3055\u308c\u308b\u3002 \u691c\u77e5\u6b63\u5e38 \u30b7\u30ca\u30ea\u30aa\u3067\u6307\u5b9a\u3057\u305f UUID \u306e bounding box \u5185\u306b\u3001\u6307\u5b9a\u3057\u305f\u70b9\u6570\u4ee5\u4e0a\u306e\u70b9\u7fa4(/perception/obstacle_segmentation/pointcloud)\u304c\u5165\u3063\u3066\u3044\u308b\u3053\u3068\u3002\u8907\u6570\u306e UUID(bounding box)\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u306f\u6307\u5b9a\u3057\u305f\u5168\u3066\u306e\u7bb1\u306b\u5bfe\u3057\u3066\u6b63\u5e38\u3067\u3042\u308b\u3053\u3068\u3002 \u304b\u3064\u3001autoware \u304c\u63d0\u4f9b\u3059\u308b\u8a3a\u65ad\u6a5f\u80fd\u3067\u70b9\u7fa4\u306e\u51fa\u529b\u30ec\u30fc\u30c8\u304c\u30a8\u30e9\u30fc\u3067\u306f\u306a\u3044\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f 1.0Hz \u4ee5\u4e0b\u3067\u30a8\u30e9\u30fc \u691c\u77e5\u8b66\u544a \u30b7\u30ca\u30ea\u30aa\u3067\u6307\u5b9a\u3057\u305f UUID \u306e bounding box \u306b visibility \u304c none(occlusion \u72b6\u614b)\u306b\u3042\u308b\u3082\u306e\u304c\u542b\u307e\u308c\u3066\u3044\u3066\u8a55\u4fa1\u51fa\u6765\u306a\u3044\u5834\u5408\u3002 \u691c\u77e5\u7570\u5e38 \u691c\u77e5\u8b66\u544a\u3067\u3082\u3001\u691c\u77e5\u6b63\u5e38\u3067\u3082\u306a\u3044\u5834\u5408 \u975e\u691c\u77e5\u6b63\u5e38 \u70b9\u7fa4(/perception/obstacle_segmentation/pointcloud)\u304c\u30b7\u30ca\u30ea\u30aa\u306e [\"NonDetection\"][\"ProposedArea\"] \u3067\u8a2d\u5b9a\u3057\u305f base_link \u57fa\u6e96\u306e polygon \u3068 lane \u306e\u91cd\u306a\u308a\u306e polygon \u5185\u306b\u70b9\u7fa4\u304c 1 \u70b9\u3082\u306a\u3044\u3053\u3068\u3002 \u975e\u691c\u77e5\u7570\u5e38 \u70b9\u7fa4(/perception/obstacle_segmentation/pointcloud)\u304c\u30b7\u30ca\u30ea\u30aa\u306e [\"NonDetection\"][\"ProposedArea\"] \u3067\u8a2d\u5b9a\u3057\u305f base_link \u57fa\u6e96\u306e polygon \u3068 lane \u306e\u91cd\u306a\u308a\u306e polygon \u5185\u306b\u70b9\u7fa4\u304c\u51fa\u3066\u3044\u308b\u3053\u3068\u3002 \u8a55\u4fa1\u30d5\u30ed\u30fc launch \u3067 C++\u306e\u8a55\u4fa1\u30ce\u30fc\u30c9(obstacle_segmentation_evaluator_node)\u3068\u3001Python \u306e\u8a55\u4fa1\u30ce\u30fc\u30c9(obstacle_segmentation_evaluator_node.py)\u3068 logging_simulator.launch\u3001ros2 bag play \u3092\u7acb\u3061\u4e0a\u3052\u308b bag \u304b\u3089\u51fa\u529b\u3055\u308c\u305f\u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u3092 autoware \u304c\u53d7\u3051\u53d6\u3063\u3066\u3001/perception/obstacle_segmentation/pointcloud \u3092\u51fa\u529b\u3059\u308b C++\u306e\u8a55\u4fa1\u30ce\u30fc\u30c9\u304c/perception/obstacle_segmentation/pointcloud \u3092 subscribe \u3057\u3066\u3001header \u306e\u6642\u523b\u3067\u975e\u691c\u77e5\u30a8\u30ea\u30a2\u306e polygon \u3092\u8a08\u7b97\u3057\u3001/driving_log_replayer/obstacle_segmentation/input \u306b pointcloud \u3068\u3068\u3082\u306b\u30c7\u30fc\u30bf\u3092\u8a70\u3081\u3066 publish \u3059\u308b Python \u306e\u8a55\u4fa1\u30ce\u30fc\u30c9\u304c/driving_log_replayer/obstacle_segmentation/input \u3092 subscribe \u3057\u3066\u3001callback \u3067 perception_eval \u3092\u4f7f\u3063\u3066\u8a55\u4fa1\u3092\u5b9f\u884c\u3059\u308b\u3002 simulation \u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u5b9f\u884c\u306b\u5fc5\u8981\u306a\u60c5\u5831\u3092\u8ff0\u3079\u308b\u3002 \u5165\u529b rosbag \u306b\u542b\u307e\u308c\u308b\u3079\u304d topic t4_dataset \u3067\u5fc5\u8981\u306a\u30c8\u30d4\u30c3\u30af\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u3053\u3068 evaluation \u8a55\u4fa1\u306b\u5fc5\u8981\u306a\u60c5\u5831\u3092\u8ff0\u3079\u308b\u3002 \u30b7\u30ca\u30ea\u30aa\u30d5\u30a9\u30fc\u30de\u30c3\u30c8 Evaluation: UseCaseName: obstacle_segmentation UseCaseFormatVersion: 0.1.0 Datasets: - 63800729-18d2-4383-91e9-fea7bad384f4: VehicleId: ps1/20210620/CAL_000015 # \u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u6bce\u306bVehicleId\u3092\u6307\u5b9a\u3059\u308b LocalMapPath: $HOME/map/obstacle_segmentation # \u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u6bce\u306bLocalMapPath\u3092\u6307\u5b9a\u3059\u308b Conditions: ObstacleDetection: PassRate: 99.0 # \u8a55\u4fa1\u8a66\u884c\u56de\u6570\u306e\u5185\u3001\u3069\u306e\u7a0b\u5ea6(%)\u8a55\u4fa1\u6210\u529f\u3060\u3063\u305f\u3089\u6210\u529f\u3068\u3059\u308b\u304b NonDetection: PassRate: 99.0 # \u8a55\u4fa1\u8a66\u884c\u56de\u6570\u306e\u5185\u3001\u3069\u306e\u7a0b\u5ea6(%)\u8a55\u4fa1\u6210\u529f\u3060\u3063\u305f\u3089\u6210\u529f\u3068\u3059\u308b\u304b ProposedArea: # base_link\u3092\u4e2d\u5fc3\u306b\u975e\u691c\u77e5\u306e\u30a8\u30ea\u30a2\u3092\u4e00\u7b46\u63cf\u304d\u306epolygon\u3067\u8a18\u8ff0\u3059\u308b\u3002\u6642\u8a08\u5468\u308a\u306b\u8a18\u8ff0\u3059\u308b polygon_2d: # xy\u5e73\u9762\u3067polygon\u3092\u6642\u8a08\u56de\u308a\u3067\u8a18\u8ff0\u3059\u308b - [10.0, 1.5] - [10.0, -1.5] - [0.0, -1.5] - [0.0, 1.5] z_min: 0.0 # 3D\u306b\u3059\u308b\u3068\u304d\u306ez\u4e0b\u9650\u5024 z_max: 1.5 # 3D\u306b\u3059\u308b\u3068\u304d\u306ez\u4e0a\u9650\u5024 SensingEvaluationConfig: evaluation_config_dict: evaluation_task: sensing # \u56fa\u5b9a\u5024 target_uuids: # detection\u3067\u5bfe\u8c61\u3068\u3059\u308b\u30d0\u30a6\u30f3\u30c7\u30a3\u30f3\u30b0\u30dc\u30c3\u30af\u30b9\u306eID - 1b40c0876c746f96ac679a534e1037a2 box_scale_0m: 1.0 # \u30d0\u30a6\u30f3\u30c7\u30a3\u30f3\u30b0\u30dc\u30c3\u30af\u30b9\u3092\u8ddd\u96e2\u306b\u5fdc\u3058\u3066\u62e1\u5927\u7e2e\u5c0f\u3059\u308b\u500d\u73870m\u5730\u70b9 box_scale_100m: 1.0 # 100m\u5730\u70b9\u306e\u500d\u7387\u30010\u304b\u3089100m\u307e\u3067\u8ddd\u96e2\u306b\u5fdc\u3058\u3066\u7dda\u5f62\u88dc\u5b8c\u3067\u500d\u7387\u304c\u6c7a\u5b9a\u3059\u308b min_points_threshold: 1 # \u30d0\u30a6\u30f3\u30c7\u30a3\u30f3\u30b0\u30dc\u30c3\u30af\u30b9\u306b\u6700\u4f4e\u4f55\u500b\u306e\u70b9\u304c\u5165\u3063\u3066\u3044\u308c\u3070Detection\u3092\u6210\u529f\u3068\u3059\u308b\u304b\u306e\u3057\u304d\u3044\u5024 \u8a55\u4fa1\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8 obstacle_segmentation \u3067\u306f\u3001\u691c\u77e5(Detection)\u3068\u975e\u691c\u77e5(NonDetection)\u306e 2 \u3064\u3092\u8a55\u4fa1\u3057\u3066\u3044\u308b\u3002 1 \u56de\u306e\u70b9\u7fa4\u306e callback \u3067\u540c\u6642\u306b\u8a55\u4fa1\u3057\u3066\u3044\u308b\u304c\u3001\u305d\u308c\u305e\u308c\u5225\u306b\u30ab\u30a6\u30f3\u30c8\u3057\u3066\u3044\u308b\u3002 Result \u306f\u691c\u77e5\u3068\u975e\u691c\u77e5\u4e21\u65b9\u306e\u30d1\u30b9\u3057\u3066\u3044\u308c\u3070 true \u3067\u305d\u308c\u4ee5\u5916\u306f false \u5931\u6557\u3068\u306a\u308b\u3002 \u4ee5\u4e0b\u306b\u3001\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u793a\u3059\u3002 \u305f\u3060\u3057\u3001\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u89e3\u8aac\u6e08\u307f\u306e\u5171\u901a\u90e8\u5206\u306b\u3064\u3044\u3066\u306f\u7701\u7565\u3059\u308b\u3002 { \"Frame\": { \"FrameName\": \"\u8a55\u4fa1\u306b\u4f7f\u7528\u3057\u305ft4_dataset\u306e\u30d5\u30ec\u30fc\u30e0\u756a\u53f7\", \"FrameSkip\": \"object\u306e\u8a55\u4fa1\u3092\u4f9d\u983c\u3057\u305f\u304cdataset\u306b75msec\u4ee5\u5185\u306e\u771f\u5024\u304c\u306a\u304f\u8a55\u4fa1\u3092\u98db\u3070\u3055\u308c\u305f\u56de\u6570\", \"Detection\": { \"Result\": \"Success or Warn or Fail\", \"Info\": [ { \"Annotation\": \"\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3055\u308c\u305f\u30d0\u30f3\u30c7\u30a3\u30f3\u30b0\u30dc\u30c3\u30af\u30b9\u306e\u60c5\u5831\u3001\u4f4d\u7f6e\u59ff\u52e2\u3001ID\", \"PointCloud\": \"\u8a55\u4fa1\u3057\u305f\u70b9\u7fa4\u306e\u60c5\u5831\u3001\u30d0\u30a6\u30f3\u30c7\u30a3\u30f3\u30b0\u30dc\u30c3\u30af\u30b9\u5185\u306e\u70b9\u306e\u6570\u3068\u3001base_link\u304b\u3089\u306e\u6700\u8fd1\u508d\u306e\u70b9\u306e\u4f4d\u7f6e\" } ] }, \"NonDetection\": { \"Result\": \"Success or Fail\", \"Info\": [ { \"PointCloud\": \"\u975e\u691c\u77e5\u30a8\u30ea\u30a2\u306b\u51fa\u3066\u3044\u308b\u70b9\u306e\u6570\u3068\u3001base_link\u304b\u3089\u306e\u8ddd\u96e2\u6bce\u306e\u5206\u5e03\" } ] }, \"StopReasons\": \"Planning module\u304c\u51fa\u529b\u3059\u308b\u505c\u6b62\u7406\u7531\u3002\u53c2\u8003\u5024\", \"TopicRate\": \"\u70b9\u7fa4\u306e\u51fa\u529b\u30ec\u30fc\u30c8\u304c\u6b63\u5e38\u304b\u3069\u3046\u304b\u3092\u793a\u3059diag\u306e\u7d50\u679c\" } }","title":"\u70b9\u7fa4\u751f\u6210\u306e\u8a55\u4fa1"},{"location":"use_case/obstacle_segmentation/#_1","text":"Autoware \u306e\u70b9\u7fa4\u51e6\u7406\u306e\u30d7\u30ed\u30bb\u30b9(sensing\u2192perception)\u304c\u52d5\u4f5c\u3057\u3066\u3001/perception/obstacle_segmentation/pointcloud \u304c\u610f\u56f3\u901a\u308a\u306b\u51fa\u529b\u3055\u308c\u308b\u304b\u3069\u3046\u304b\u3092\u8a55\u4fa1\u3059\u308b\u3002 \u70b9\u7fa4\u304c\u610f\u56f3\u901a\u308a\u306b\u51fa\u529b\u3055\u308c\u3066\u3044\u308b\u304b\u306e\u5224\u5b9a\u306f\u3001t4_dataset \u3068\u70b9\u7fa4\u3092\u7528\u3044\u3066\u884c\u3046\u3002 \u4e8b\u524d\u306b\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3057\u3066\u304a\u3044\u305f\u8eca\u4e21\u3084\u6b69\u884c\u8005\u306a\u3069\u304c\u691c\u77e5\u51fa\u6765\u3066\u3044\u308b\u304b\u306e\u8a55\u4fa1\uff08detection: \u691c\u77e5\uff09 \u30b7\u30ca\u30ea\u30aa\u3067\u5b9a\u7fa9\u3057\u305f\u81ea\u8eca\u4e21\u5468\u308a\u3068\u30ec\u30fc\u30f3\u3068\u304c\u91cd\u306a\u308b\u30a8\u30ea\u30a2\u306b\u4f59\u5206\u306a\u70b9\u7fa4\u304c\u51fa\u3066\u3044\u306a\u3044\u304b\u306e\u8a55\u4fa1\uff08non_detection: \u975e\u691c\u77e5\uff09 \u306e\u8a55\u4fa1\u3092\u540c\u6642\u306b\u884c\u3046\u3002 \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u30c4\u30fc\u30eb\u306f Deepen \u304c\u63a8\u5968\u3067\u3042\u308b\u304c\u3001t4_dataset \u3078\u306e\u5909\u63db\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u30c4\u30fc\u30eb\u3067\u3042\u308c\u3070\u3088\u304f\u3001\u5909\u63db\u30c4\u30fc\u30eb\u3055\u3048\u4f5c\u6210\u3067\u304d\u308c\u3070\u8907\u6570\u306e\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u30c4\u30fc\u30eb\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3042\u308b\u3002","title":"\u70b9\u7fa4\u751f\u6210\u306e\u8a55\u4fa1"},{"location":"use_case/obstacle_segmentation/#_2","text":"driving_log_replayer/launch/obstacle_segmentation.launch.py \u3092\u7528\u3044\u3066\u3001\u8a55\u4fa1\u7528\u306e\u30ce\u30fc\u30c9\u3092 autoware_launch \u306e logging_simulator.launch \u3068\u4e00\u7dd2\u306b\u7acb\u3061\u4e0a\u3052\u308b\u3002","title":"\u8a55\u4fa1\u65b9\u6cd5"},{"location":"use_case/obstacle_segmentation/#topic","text":"subscribe topic \u540d \u30c7\u30fc\u30bf\u578b /perception/obstacle_segmentation/pointcloud sensor_msgs::msg::PointCloud2 /diagnostics_agg diagnostic_msgs::msg::DiagnosticArray /map/vector_map autoware_auto_mapping_msgs::msg::HADMapBin /tf tf2_msgs/msg/TFMessage /planning/scenario_planning/status/stop_reasons tier4_planning_msgs::msg::StopReasonArray /planning/scenario_planning/trajectory autoware_auto_planning_msgs::msg::Trajectory publish topic \u540d \u30c7\u30fc\u30bf\u578b /driving_log_replayer/obstacle_segmentation/input driving_log_replayer_msgs::msg:ObstacleSegmentationInput /driving_log_replayer/marker/detection visualization_msgs::msg::MarkerArray /driving_log_replayer/marker/non_detection visualization_msgs::msg::MarkerArray /driving_log_replayer/pcd/detection sensor_msgs::msg::PointCloud2 /driving_log_replayer/pcd/non_detection sensor_msgs::msg::PointCloud2 /planning/mission_planning/goal geometry_msgs::msg::PoseStamped","title":"\u8a55\u4fa1\u30ce\u30fc\u30c9\u304c\u4f7f\u7528\u3059\u308b Topic \u3068\u30c7\u30fc\u30bf\u578b"},{"location":"use_case/obstacle_segmentation/#logging_simulatorlaunch","text":"autoware \u306e\u51e6\u7406\u3092\u8efd\u304f\u3059\u308b\u305f\u3081\u3001\u8a55\u4fa1\u306b\u95a2\u4fc2\u306e\u306a\u3044\u30e2\u30b8\u30e5\u30fc\u30eb\u306f launch \u306e\u5f15\u6570\u306b false \u3092\u6e21\u3059\u3053\u3068\u3067\u7121\u52b9\u5316\u3059\u308b\u3002\u4ee5\u4e0b\u3092\u8a2d\u5b9a\u3059\u308b\u3002 localization: false control: false autoware \u304b\u3089\u51fa\u529b\u3055\u308c\u308b\u70b9\u7fa4(/perception/obstacle_segmentation/pointcloud)\u3092\u8a55\u4fa1\u3059\u308b\u3002 \u691c\u77e5\u3068\u975e\u691c\u77e5\u3067\u305d\u308c\u305e\u308c\u306e\u8a55\u4fa1\u3055\u308c\u308b\u3002","title":"logging_simulator.launch \u306b\u6e21\u3059\u5f15\u6570"},{"location":"use_case/obstacle_segmentation/#_3","text":"\u30b7\u30ca\u30ea\u30aa\u3067\u6307\u5b9a\u3057\u305f UUID \u306e bounding box \u5185\u306b\u3001\u6307\u5b9a\u3057\u305f\u70b9\u6570\u4ee5\u4e0a\u306e\u70b9\u7fa4(/perception/obstacle_segmentation/pointcloud)\u304c\u5165\u3063\u3066\u3044\u308b\u3053\u3068\u3002\u8907\u6570\u306e UUID(bounding box)\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u306f\u6307\u5b9a\u3057\u305f\u5168\u3066\u306e\u7bb1\u306b\u5bfe\u3057\u3066\u6b63\u5e38\u3067\u3042\u308b\u3053\u3068\u3002 \u304b\u3064\u3001autoware \u304c\u63d0\u4f9b\u3059\u308b\u8a3a\u65ad\u6a5f\u80fd\u3067\u70b9\u7fa4\u306e\u51fa\u529b\u30ec\u30fc\u30c8\u304c\u30a8\u30e9\u30fc\u3067\u306f\u306a\u3044\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f 1.0Hz \u4ee5\u4e0b\u3067\u30a8\u30e9\u30fc","title":"\u691c\u77e5\u6b63\u5e38"},{"location":"use_case/obstacle_segmentation/#_4","text":"\u30b7\u30ca\u30ea\u30aa\u3067\u6307\u5b9a\u3057\u305f UUID \u306e bounding box \u306b visibility \u304c none(occlusion \u72b6\u614b)\u306b\u3042\u308b\u3082\u306e\u304c\u542b\u307e\u308c\u3066\u3044\u3066\u8a55\u4fa1\u51fa\u6765\u306a\u3044\u5834\u5408\u3002","title":"\u691c\u77e5\u8b66\u544a"},{"location":"use_case/obstacle_segmentation/#_5","text":"\u691c\u77e5\u8b66\u544a\u3067\u3082\u3001\u691c\u77e5\u6b63\u5e38\u3067\u3082\u306a\u3044\u5834\u5408","title":"\u691c\u77e5\u7570\u5e38"},{"location":"use_case/obstacle_segmentation/#_6","text":"\u70b9\u7fa4(/perception/obstacle_segmentation/pointcloud)\u304c\u30b7\u30ca\u30ea\u30aa\u306e [\"NonDetection\"][\"ProposedArea\"] \u3067\u8a2d\u5b9a\u3057\u305f base_link \u57fa\u6e96\u306e polygon \u3068 lane \u306e\u91cd\u306a\u308a\u306e polygon \u5185\u306b\u70b9\u7fa4\u304c 1 \u70b9\u3082\u306a\u3044\u3053\u3068\u3002","title":"\u975e\u691c\u77e5\u6b63\u5e38"},{"location":"use_case/obstacle_segmentation/#_7","text":"\u70b9\u7fa4(/perception/obstacle_segmentation/pointcloud)\u304c\u30b7\u30ca\u30ea\u30aa\u306e [\"NonDetection\"][\"ProposedArea\"] \u3067\u8a2d\u5b9a\u3057\u305f base_link \u57fa\u6e96\u306e polygon \u3068 lane \u306e\u91cd\u306a\u308a\u306e polygon \u5185\u306b\u70b9\u7fa4\u304c\u51fa\u3066\u3044\u308b\u3053\u3068\u3002","title":"\u975e\u691c\u77e5\u7570\u5e38"},{"location":"use_case/obstacle_segmentation/#_8","text":"launch \u3067 C++\u306e\u8a55\u4fa1\u30ce\u30fc\u30c9(obstacle_segmentation_evaluator_node)\u3068\u3001Python \u306e\u8a55\u4fa1\u30ce\u30fc\u30c9(obstacle_segmentation_evaluator_node.py)\u3068 logging_simulator.launch\u3001ros2 bag play \u3092\u7acb\u3061\u4e0a\u3052\u308b bag \u304b\u3089\u51fa\u529b\u3055\u308c\u305f\u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u3092 autoware \u304c\u53d7\u3051\u53d6\u3063\u3066\u3001/perception/obstacle_segmentation/pointcloud \u3092\u51fa\u529b\u3059\u308b C++\u306e\u8a55\u4fa1\u30ce\u30fc\u30c9\u304c/perception/obstacle_segmentation/pointcloud \u3092 subscribe \u3057\u3066\u3001header \u306e\u6642\u523b\u3067\u975e\u691c\u77e5\u30a8\u30ea\u30a2\u306e polygon \u3092\u8a08\u7b97\u3057\u3001/driving_log_replayer/obstacle_segmentation/input \u306b pointcloud \u3068\u3068\u3082\u306b\u30c7\u30fc\u30bf\u3092\u8a70\u3081\u3066 publish \u3059\u308b Python \u306e\u8a55\u4fa1\u30ce\u30fc\u30c9\u304c/driving_log_replayer/obstacle_segmentation/input \u3092 subscribe \u3057\u3066\u3001callback \u3067 perception_eval \u3092\u4f7f\u3063\u3066\u8a55\u4fa1\u3092\u5b9f\u884c\u3059\u308b\u3002","title":"\u8a55\u4fa1\u30d5\u30ed\u30fc"},{"location":"use_case/obstacle_segmentation/#simulation","text":"\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u5b9f\u884c\u306b\u5fc5\u8981\u306a\u60c5\u5831\u3092\u8ff0\u3079\u308b\u3002","title":"simulation"},{"location":"use_case/obstacle_segmentation/#rosbag-topic","text":"t4_dataset \u3067\u5fc5\u8981\u306a\u30c8\u30d4\u30c3\u30af\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u3053\u3068","title":"\u5165\u529b rosbag \u306b\u542b\u307e\u308c\u308b\u3079\u304d topic"},{"location":"use_case/obstacle_segmentation/#evaluation","text":"\u8a55\u4fa1\u306b\u5fc5\u8981\u306a\u60c5\u5831\u3092\u8ff0\u3079\u308b\u3002","title":"evaluation"},{"location":"use_case/obstacle_segmentation/#_9","text":"Evaluation: UseCaseName: obstacle_segmentation UseCaseFormatVersion: 0.1.0 Datasets: - 63800729-18d2-4383-91e9-fea7bad384f4: VehicleId: ps1/20210620/CAL_000015 # \u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u6bce\u306bVehicleId\u3092\u6307\u5b9a\u3059\u308b LocalMapPath: $HOME/map/obstacle_segmentation # \u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u6bce\u306bLocalMapPath\u3092\u6307\u5b9a\u3059\u308b Conditions: ObstacleDetection: PassRate: 99.0 # \u8a55\u4fa1\u8a66\u884c\u56de\u6570\u306e\u5185\u3001\u3069\u306e\u7a0b\u5ea6(%)\u8a55\u4fa1\u6210\u529f\u3060\u3063\u305f\u3089\u6210\u529f\u3068\u3059\u308b\u304b NonDetection: PassRate: 99.0 # \u8a55\u4fa1\u8a66\u884c\u56de\u6570\u306e\u5185\u3001\u3069\u306e\u7a0b\u5ea6(%)\u8a55\u4fa1\u6210\u529f\u3060\u3063\u305f\u3089\u6210\u529f\u3068\u3059\u308b\u304b ProposedArea: # base_link\u3092\u4e2d\u5fc3\u306b\u975e\u691c\u77e5\u306e\u30a8\u30ea\u30a2\u3092\u4e00\u7b46\u63cf\u304d\u306epolygon\u3067\u8a18\u8ff0\u3059\u308b\u3002\u6642\u8a08\u5468\u308a\u306b\u8a18\u8ff0\u3059\u308b polygon_2d: # xy\u5e73\u9762\u3067polygon\u3092\u6642\u8a08\u56de\u308a\u3067\u8a18\u8ff0\u3059\u308b - [10.0, 1.5] - [10.0, -1.5] - [0.0, -1.5] - [0.0, 1.5] z_min: 0.0 # 3D\u306b\u3059\u308b\u3068\u304d\u306ez\u4e0b\u9650\u5024 z_max: 1.5 # 3D\u306b\u3059\u308b\u3068\u304d\u306ez\u4e0a\u9650\u5024 SensingEvaluationConfig: evaluation_config_dict: evaluation_task: sensing # \u56fa\u5b9a\u5024 target_uuids: # detection\u3067\u5bfe\u8c61\u3068\u3059\u308b\u30d0\u30a6\u30f3\u30c7\u30a3\u30f3\u30b0\u30dc\u30c3\u30af\u30b9\u306eID - 1b40c0876c746f96ac679a534e1037a2 box_scale_0m: 1.0 # \u30d0\u30a6\u30f3\u30c7\u30a3\u30f3\u30b0\u30dc\u30c3\u30af\u30b9\u3092\u8ddd\u96e2\u306b\u5fdc\u3058\u3066\u62e1\u5927\u7e2e\u5c0f\u3059\u308b\u500d\u73870m\u5730\u70b9 box_scale_100m: 1.0 # 100m\u5730\u70b9\u306e\u500d\u7387\u30010\u304b\u3089100m\u307e\u3067\u8ddd\u96e2\u306b\u5fdc\u3058\u3066\u7dda\u5f62\u88dc\u5b8c\u3067\u500d\u7387\u304c\u6c7a\u5b9a\u3059\u308b min_points_threshold: 1 # \u30d0\u30a6\u30f3\u30c7\u30a3\u30f3\u30b0\u30dc\u30c3\u30af\u30b9\u306b\u6700\u4f4e\u4f55\u500b\u306e\u70b9\u304c\u5165\u3063\u3066\u3044\u308c\u3070Detection\u3092\u6210\u529f\u3068\u3059\u308b\u304b\u306e\u3057\u304d\u3044\u5024","title":"\u30b7\u30ca\u30ea\u30aa\u30d5\u30a9\u30fc\u30de\u30c3\u30c8"},{"location":"use_case/obstacle_segmentation/#_10","text":"obstacle_segmentation \u3067\u306f\u3001\u691c\u77e5(Detection)\u3068\u975e\u691c\u77e5(NonDetection)\u306e 2 \u3064\u3092\u8a55\u4fa1\u3057\u3066\u3044\u308b\u3002 1 \u56de\u306e\u70b9\u7fa4\u306e callback \u3067\u540c\u6642\u306b\u8a55\u4fa1\u3057\u3066\u3044\u308b\u304c\u3001\u305d\u308c\u305e\u308c\u5225\u306b\u30ab\u30a6\u30f3\u30c8\u3057\u3066\u3044\u308b\u3002 Result \u306f\u691c\u77e5\u3068\u975e\u691c\u77e5\u4e21\u65b9\u306e\u30d1\u30b9\u3057\u3066\u3044\u308c\u3070 true \u3067\u305d\u308c\u4ee5\u5916\u306f false \u5931\u6557\u3068\u306a\u308b\u3002 \u4ee5\u4e0b\u306b\u3001\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u793a\u3059\u3002 \u305f\u3060\u3057\u3001\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u89e3\u8aac\u6e08\u307f\u306e\u5171\u901a\u90e8\u5206\u306b\u3064\u3044\u3066\u306f\u7701\u7565\u3059\u308b\u3002 { \"Frame\": { \"FrameName\": \"\u8a55\u4fa1\u306b\u4f7f\u7528\u3057\u305ft4_dataset\u306e\u30d5\u30ec\u30fc\u30e0\u756a\u53f7\", \"FrameSkip\": \"object\u306e\u8a55\u4fa1\u3092\u4f9d\u983c\u3057\u305f\u304cdataset\u306b75msec\u4ee5\u5185\u306e\u771f\u5024\u304c\u306a\u304f\u8a55\u4fa1\u3092\u98db\u3070\u3055\u308c\u305f\u56de\u6570\", \"Detection\": { \"Result\": \"Success or Warn or Fail\", \"Info\": [ { \"Annotation\": \"\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3055\u308c\u305f\u30d0\u30f3\u30c7\u30a3\u30f3\u30b0\u30dc\u30c3\u30af\u30b9\u306e\u60c5\u5831\u3001\u4f4d\u7f6e\u59ff\u52e2\u3001ID\", \"PointCloud\": \"\u8a55\u4fa1\u3057\u305f\u70b9\u7fa4\u306e\u60c5\u5831\u3001\u30d0\u30a6\u30f3\u30c7\u30a3\u30f3\u30b0\u30dc\u30c3\u30af\u30b9\u5185\u306e\u70b9\u306e\u6570\u3068\u3001base_link\u304b\u3089\u306e\u6700\u8fd1\u508d\u306e\u70b9\u306e\u4f4d\u7f6e\" } ] }, \"NonDetection\": { \"Result\": \"Success or Fail\", \"Info\": [ { \"PointCloud\": \"\u975e\u691c\u77e5\u30a8\u30ea\u30a2\u306b\u51fa\u3066\u3044\u308b\u70b9\u306e\u6570\u3068\u3001base_link\u304b\u3089\u306e\u8ddd\u96e2\u6bce\u306e\u5206\u5e03\" } ] }, \"StopReasons\": \"Planning module\u304c\u51fa\u529b\u3059\u308b\u505c\u6b62\u7406\u7531\u3002\u53c2\u8003\u5024\", \"TopicRate\": \"\u70b9\u7fa4\u306e\u51fa\u529b\u30ec\u30fc\u30c8\u304c\u6b63\u5e38\u304b\u3069\u3046\u304b\u3092\u793a\u3059diag\u306e\u7d50\u679c\" } }","title":"\u8a55\u4fa1\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8"},{"location":"use_case/perception/","text":"\u8a8d\u8b58\u6a5f\u80fd\u306e\u8a55\u4fa1 Autoware \u306e\u8a8d\u8b58\u6a5f\u80fd(perception)\u306e\u8a8d\u8b58\u7d50\u679c\u304b\u3089 mAP(mean Average Precision)\u306a\u3069\u306e\u6307\u6a19\u3092\u8a08\u7b97\u3057\u3066\u6027\u80fd\u3092\u8a55\u4fa1\u3059\u308b\u3002 perception \u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u8d77\u52d5\u3057\u3066\u51fa\u529b\u3055\u308c\u308b perception \u306e topic \u3092\u8a55\u4fa1\u7528\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u6e21\u3057\u3066\u8a55\u4fa1\u3092\u884c\u3046\u3002 /perception/object_recognition/detection/objects|autoware_auto_perception_msgs/msg/DetectedObjects /perception/object_recognition/tracking/objects|autoware_auto_perception_msgs/msg/TrackedObjects \u6ce8\u610f\u4e8b\u9805 autoware \u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3057\u3066 perception \u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u521d\u56de\u8d77\u52d5\u3057\u305f\u5834\u5408\u306b\u306f\u3001lidar_centerpoint \u306e onnx \u30d5\u30a1\u30a4\u30eb\u306e\u5909\u63db\u51e6\u7406\u306e\u5f85\u3061\u304c\u5165\u308b\u305f\u3081\u3001\u9014\u4e2d\u3067 launch \u304c\u6b62\u307e\u3063\u305f\u3088\u3046\u306b\u898b\u3048\u308b\u3053\u3068\u304c\u3042\u308b\u3002 \u9752\u6587\u5b57\u592a\u5b57\u7070\u8272\u80cc\u666f\u3067 lidar_centerpoint engine files are generated. \u3068\u3044\u3046\u6587\u5b57\u5217\u304c\u8868\u793a\u3055\u308c\u308b\u307e\u3067\u306f\u3001\u305d\u306e\u307e\u307e\u5f85\u3064\u3053\u3068\u3002 \u4f9d\u5b58\u30e9\u30a4\u30d6\u30e9\u30ea perception_eval \u4f9d\u5b58\u30e9\u30a4\u30d6\u30e9\u30ea\u3068\u306e driving_log_replayer \u306e\u5f79\u5272\u5206\u62c5 ROS \u3068\u306e\u63a5\u7d9a\u90e8\u5206\u304c driving_log_replayer\u3001\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3092\u6271\u3046\u90e8\u5206\u304c perception_eval \u3068\u3044\u3046\u5f79\u5272\u5206\u62c5\u306b\u306a\u3063\u3066\u3044\u308b\u3002 perception_eval \u306f ROS \u975e\u4f9d\u5b58\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u306a\u306e\u3067\u3001ROS \u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u305d\u306e\u307e\u307e\u53d7\u3051\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u3044\u3002 \u307e\u305f\u3001timestamp \u304c ROS \u3067\u306f\u30ca\u30ce\u79d2\u3001\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u306f nuScenes \u30d9\u30fc\u30b9\u3067\u30df\u30ea\u79d2\u304c\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u3002 driving_log_replayer \u5074\u3067\u306f\u3001autoware \u306e perception \u30e2\u30b8\u30e5\u30fc\u30eb\u304b\u3089\u51fa\u529b\u3055\u308c\u305f topic \u3092 subscribe \u3057\u3001perception_eval \u304c\u671f\u5f85\u3059\u308b\u30c7\u30fc\u30bf\u5f62\u5f0f\u306b\u5909\u63db\u3059\u308b\u3002 \u5909\u63db\u3057\u305f\u30c7\u30fc\u30bf\u3092 perception_eval \u306b\u6e21\u3057\u3066\u8a55\u4fa1\u3092\u4f9d\u983c\u3057\u3001\u7d50\u679c\u3092\u53d7\u3051\u53d6\u3063\u3066\u3001\u53ef\u8996\u5316\u306e\u305f\u3081\u306b ROS \u306e topic \u3067\u7d50\u679c\u3092 publish \u3059\u308b\u90e8\u5206\u3092\u62c5\u5f53\u3059\u308b\u3002 perception_eval \u306f\u3001driving_log_replayer \u304b\u3089\u6e21\u3055\u308c\u305f\u691c\u77e5\u7d50\u679c\u3068 GroundTruth \u3092\u6bd4\u8f03\u3057\u3066\u6307\u6a19\u3092\u8a08\u7b97\u3057\u3001\u7d50\u679c\u3092\u51fa\u529b\u3059\u308b\u90e8\u5206\u3092\u62c5\u5f53\u3059\u308b\u3002 \u8a55\u4fa1\u65b9\u6cd5 driving_log_replayer/launch/perception.launch.py \u3092\u7528\u3044\u3066\u3001\u8a55\u4fa1\u7528\u306e\u30ce\u30fc\u30c9\u3092 autoware_launch \u306e logging_simulator.launch \u3068\u4e00\u7dd2\u306b\u7acb\u3061\u4e0a\u3052\u308b\u3002 \u8a55\u4fa1\u30ce\u30fc\u30c9\u304c\u4f7f\u7528\u3059\u308b Topic \u3068\u30c7\u30fc\u30bf\u578b subscribe topic \u540d \u30c7\u30fc\u30bf\u578b /perception/object_recognition/detection/objects autoware_auto_perception_msgs/msg/DetectedObjects /perception/object_recognition/tracking/objects autoware_auto_perception_msgs/msg/TrackedObjects publish topic \u540d \u30c7\u30fc\u30bf\u578b /driving_log_replayer/marker/ground_truth visualization_msgs::msg::MarkerArray /driving_log_replayer/marker/results visualization_msgs::msg::MarkerArray logging_simulator.launch \u306b\u6e21\u3059\u5f15\u6570 autoware \u306e\u51e6\u7406\u3092\u8efd\u304f\u3059\u308b\u305f\u3081\u3001\u8a55\u4fa1\u306b\u95a2\u4fc2\u306e\u306a\u3044\u30e2\u30b8\u30e5\u30fc\u30eb\u306f launch \u306e\u5f15\u6570\u306b false \u3092\u6e21\u3059\u3053\u3068\u3067\u7121\u52b9\u5316\u3059\u308b\u3002\u4ee5\u4e0b\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u3002 \u30a2\u30ce\u30fc\u30c6\u30b7\u30e7\u30f3\u6642\u3068\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u6642\u3067\u81ea\u5df1\u4f4d\u7f6e\u3092\u5408\u308f\u305b\u305f\u3044\u306e\u3067 bag \u306b\u5165\u3063\u3066\u3044\u308b tf \u3092\u4f7f\u3044\u56de\u3059\u3002\u305d\u306e\u305f\u3081 localization \u306f\u7121\u52b9\u3067\u3042\u308b\u3002 localization: false planning: false control: false sensing: false / true (\u30c7\u30d5\u30a9\u30eb\u30c8 false\u3001\u30b7\u30ca\u30ea\u30aa\u3067\u6307\u5b9a\u3059\u308b) autoware \u304b\u3089\u51fa\u529b\u3055\u308c\u308b\u8a8d\u8b58\u7d50\u679c(/perception/object_recognition/detection/objects)\u3092 Ground Truth \u30c7\u30fc\u30bf\u3068\u6bd4\u8f03\u3057\u3066\u8a55\u4fa1\u3059\u308b\u3002 \u8a55\u4fa1\u306b\u306f\u3001perception_eval \u3092\u5229\u7528\u3059\u308b\u3002 \u6b63\u5e38 perception_eval \u306e\u95a2\u6570\u3092\u4f7f\u3063\u3066\u8a55\u4fa1\u5931\u6557\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c 0 \u500b\u306e\u5834\u5408\u3001frame_result.pass_fail_result.get_fail_object_num() # 0 \u7570\u5e38 perception_eval \u306e\u95a2\u6570\u3092\u4f7f\u3063\u3066\u8a55\u4fa1\u5931\u6557\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u5b58\u5728\u3059\u308b\u5834\u5408\u3001frame_result.pass_fail_result.get_fail_object_num() > 0 \u8a55\u4fa1\u30d5\u30ed\u30fc launch \u3067\u8a55\u4fa1\u30ce\u30fc\u30c9(perception_evaluator_node)\u3068 logging_simulator.launch\u3001ros2 bag play \u3092\u7acb\u3061\u4e0a\u3052\u308b bag \u304b\u3089\u51fa\u529b\u3055\u308c\u305f\u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u3092 autoware \u304c\u53d7\u3051\u53d6\u3063\u3066\u3001perception \u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u8a8d\u8b58\u3092\u884c\u3046 \u8a55\u4fa1\u30ce\u30fc\u30c9\u304c/perception/object_recognition/{detection, tracking}/objects \u3092 subscribe \u3057\u3066\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3067 perception_eval \u306e\u95a2\u6570\u3092\u7528\u3044\u3066\u8a55\u4fa1\u3092\u884c\u3046 simulation \u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u5b9f\u884c\u306b\u5fc5\u8981\u306a\u60c5\u5831\u3092\u8ff0\u3079\u308b\u3002 \u5165\u529b rosbag \u306b\u542b\u307e\u308c\u308b\u3079\u304d topic \u8eca\u4e21\u306e ECU \u306e CAN \u3068\u3001\u4f7f\u7528\u3057\u3066\u3044\u308b sensor \u306e topic \u304c\u5fc5\u8981 \u4ee5\u4e0b\u306f\u4f8b\u3067\u3042\u308a\u3001\u9055\u3046\u30bb\u30f3\u30b5\u30fc\u3092\u4f7f\u3063\u3066\u3044\u308b\u5834\u5408\u306f\u9069\u5b9c\u8aad\u307f\u66ff\u3048\u308b\u3002 LiDAR \u304c\u8907\u6570\u3064\u3044\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u3059\u3079\u3066\u306e LiDAR \u306e packets \u3092\u542b\u3081\u308b /sensing/gnss/ublox/fix_velocity /sensing/gnss/ublox/nav_sat_fix /sensing/gnss/ublox/navpvt /sensing/imu/tamagawa/imu_raw /sensing/lidar/*/velodyne_packets /gsm8/from_can_bus /tf tf \u306f\u5b9f\u9a13\u6642\u306b\u53d6\u5f97\u3057\u305f\u3082\u306e\u3092\u305d\u306e\u307e\u307e\u4f7f\u7528\u3059\u308b\u304b\u3001rosbag replay simulation \u3067\u53d6\u5f97\u3057\u306a\u304a\u3059\u3002 \u5165\u529b rosbag \u306b\u542b\u307e\u308c\u3066\u306f\u3044\u3051\u306a\u3044 topic /clock evaluation \u8a55\u4fa1\u306b\u5fc5\u8981\u306a\u60c5\u5831\u3092\u8ff0\u3079\u308b\u3002 \u30b7\u30ca\u30ea\u30aa\u30d5\u30a9\u30fc\u30de\u30c3\u30c8 \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u8a55\u4fa1\u3068\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a55\u4fa1\u306e 2 \u7a2e\u985e\u306e\u8a55\u4fa1\u304c\u3042\u308b\u3002 \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306f 1 \u500b\u306e\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3067\u884c\u3046\u8a55\u4fa1\u3067\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306f\u8907\u6570\u306e\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3092\u7528\u3044\u3066\u3001\u5404\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u6bce\u306e\u7d50\u679c\u306e\u5e73\u5747\u3092\u53d6\u308b\u8a55\u4fa1\u3067\u3042\u308b\u3002 \u30af\u30e9\u30a6\u30c9\u3067\u5b9f\u884c\u3055\u308c\u308b\u3068\u304d\u306f\u3001\u4e26\u5217\u306b\u5b9f\u884c\u3055\u308c\u308b\u3053\u3068\u3082\u8003\u616e\u306b\u3044\u308c\u308b\u3068 Dataset \u6bce\u306e\u8a2d\u5b9a\u3092\u914d\u5217\u3067\u8a18\u8ff0\u3059\u308b\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5f62\u5f0f\u3068\u3059\u308b\u3002 \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a55\u4fa1\u3067\u306f\u3001\u30ad\u30e3\u30ea\u30d6\u30ec\u30fc\u30b7\u30e7\u30f3\u5024\u306e\u5909\u66f4\u304c\u3042\u308a\u5f97\u308b\u306e\u3067 vehicle_id \u3092\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u6bce\u306b\u8a2d\u5b9a\u51fa\u6765\u308b\u3088\u3046\u306b\u3059\u308b\u3002 \u307e\u305f\u3001Sensing \u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u8d77\u52d5\u3059\u308b\u304b\u3069\u3046\u304b\u306e\u8a2d\u5b9a\u3082\u884c\u3046\u3002 \u8ffd\u52a0\u3067\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u6bce\u306b\u5fc5\u8981\u306a\u8a2d\u5b9a\u9805\u76ee\u304c\u51fa\u3066\u304d\u305f\u3089\u3001\u30ad\u30fc\u3092\u8ffd\u52a0\u3057\u3066\u8a2d\u5b9a\u3059\u308b\u3002 \u6210\u5426\u5224\u5b9a\u306b\u95a2\u3057\u3066\u306f perception_eval \u306b\u5224\u5b9a\u306e\u6761\u4ef6\u3092\u6e21\u3059\u3053\u3068\u3067\u7d50\u679c\u3092\u51fa\u3059\u3068\u304d\u306b\u6210\u5426\u306e\u5224\u5b9a\u3082\u540c\u6642\u306b\u3055\u308c\u308b\u306e\u3067\u3001\u5224\u5b9a\u6761\u4ef6\u3092\u30b7\u30ca\u30ea\u30aa\u306b\u8a18\u8f09\u3059\u308b\u3002 \u8a18\u8ff0\u5f62\u5f0f\u306f\u4ee5\u4e0b\u306e yaml \u306e\u3088\u3046\u306b\u306a\u3063\u3066\u304a\u308a\u3001PerceptionEvaluationConfig\u3001CriticalObjectFilterConfig\u3001PerceptionPassFailConfig \u306e 3 \u7a2e\u985e\u3092\u8a18\u8ff0\u3059\u308b\u3002 \u5404\u8a2d\u5b9a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u8ffd\u52a0\u3084\u524a\u9664\u304c\u3042\u308c\u3070\u305d\u308c\u306b\u5408\u308f\u305b\u3066\u30b7\u30ca\u30ea\u30aa\u306e Config \u306e\u9805\u76ee\u3082\u8ffd\u52a0\u30fb\u524a\u9664\u3059\u308b\u3002 Evaluation: UseCaseName: perception UseCaseFormatVersion: 0.3.0 Datasets: - f72e1065-7c38-40fe-a4e2-c5bbe6ff6443: VehicleId: ps1/20210620/CAL_000015 # \u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u6bce\u306bVehicleId\u3092\u6307\u5b9a\u3059\u308b LaunchSensing: false # \u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u6bce\u306bsensing module\u3092\u8d77\u52d5\u3059\u308b\u304b\u3092\u6307\u5b9a\u3059\u308b LocalMapPath: $HOME/map/perception # \u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u6bce\u306bLocalMapPath\u3092\u6307\u5b9a\u3059\u308b Conditions: PassRate: 99.0 # \u8a55\u4fa1\u8a66\u884c\u56de\u6570\u306e\u5185\u3001\u3069\u306e\u7a0b\u5ea6(%)\u8a55\u4fa1\u6210\u529f\u3060\u3063\u305f\u3089\u6210\u529f\u3068\u3059\u308b\u304b PerceptionEvaluationConfig: evaluation_config_dict: evaluation_task: detection # detection/tracking \u3053\u3053\u3067\u6307\u5b9a\u3057\u305fobjects\u3092\u8a55\u4fa1\u3059\u308b target_labels: [car, bicycle, pedestrian, motorbike] # \u8a55\u4fa1\u30e9\u30d9\u30eb max_x_position: 102.4 # \u8a55\u4fa1\u5bfe\u8c61 object \u306e\u6700\u5927 x \u4f4d\u7f6e max_y_position: 102.4 # \u8a55\u4fa1\u5bfe\u8c61 object \u306e\u6700\u5927 y \u4f4d\u7f6e max_distance: null # \u8a55\u4fa1\u5bfe\u8c61 object \u306e base_link \u304b\u3089\u306e\u6700\u5927\u8ddd\u96e2\u3001max_x_potion, max_y_position\u3068\u6392\u4ed6\u5229\u7528\u3001\u3053\u306e\u4f8b\u3067\u306f\u3053\u3061\u3089\u306fnull min_distance: null # \u8a55\u4fa1\u5bfe\u8c61 object \u306e base_link \u304b\u3089\u306e\u6700\u5c0f\u8ddd\u96e2\u3001max_x_potion, max_y_position\u3068\u6392\u4ed6\u5229\u7528\u3001\u3053\u306e\u4f8b\u3067\u306f\u3053\u3061\u3089\u306fnull min_point_numbers: [0, 0, 0, 0] # ground truth object \u306b\u304a\u3051\u308b\uff0cbbox \u5185\u306e\u6700\u5c0f\u70b9\u7fa4\u6570\uff0emin_point_numbers=0 \u306e\u5834\u5408\u306f\uff0c\u5168 ground truth object \u3092\u8a55\u4fa1 confidence_threshold: null # \u8a55\u4fa1\u5bfe\u8c61\u306e estimated object \u306e confidence \u306e\u95be\u5024 target_uuids: null # \u7279\u5b9a\u306e ground truth \u306e\u307f\u306b\u5bfe\u3057\u3066\u8a55\u4fa1\u3092\u884c\u3044\u305f\u3044\u5834\u5408\uff0c\u5bfe\u8c61\u3068\u3059\u308b ground truth \u306e UUID \u3092\u6307\u5b9a\u3059\u308b\u3002null\u306a\u3089\u5168\u3066\u304c\u5bfe\u8c61 center_distance_thresholds: [[1.0, 1.0, 1.0, 1.0], [2.0, 2.0, 2.0, 2.0]] # \u4e2d\u5fc3\u9593\u8ddd\u96e2\u30de\u30c3\u30c1\u30f3\u30b0\u6642\u306e\u95be\u5024 plane_distance_thresholds: [2.0, 30.0] # \u5e73\u9762\u8ddd\u96e2\u30de\u30c3\u30c1\u30f3\u30b0\u6642\u306e\u95be\u5024 iou_bev_thresholds: [0.5] # BEV IoU \u3000\u30de\u30c3\u30c1\u30f3\u30b0\u6642\u306e\u95be\u5024 iou_3d_thresholds: [0.5] # 3D IoU \u30de\u30c3\u30c1\u30f3\u30b0\u6642\u306e\u95be\u5024 CriticalObjectFilterConfig: target_labels: [car, bicycle, pedestrian, motorbike] # \u8a55\u4fa1\u5bfe\u8c61\u30e9\u30d9\u30eb\u540d max_x_position_list: [30.0, 30.0, 30.0, 30.0] # \u8a55\u4fa1\u5bfe\u8c61 object \u306e\u6700\u5927 x \u4f4d\u7f6e max_y_position_list: [30.0, 30.0, 30.0, 30.0] # \u8a55\u4fa1\u5bfe\u8c61 object \u306e\u6700\u5927 y \u4f4d\u7f6e max_distance_list: null # \u8a55\u4fa1\u5bfe\u8c61 object \u306e base_link \u304b\u3089\u306e\u6700\u5927\u8ddd\u96e2\u3001max_x_potion, max_y_position\u3068\u6392\u4ed6\u5229\u7528\u3001\u3053\u306e\u4f8b\u3067\u306f\u3053\u3061\u3089\u306fnull min_distance_list: null # \u8a55\u4fa1\u5bfe\u8c61 object \u306e base_link \u304b\u3089\u306e\u6700\u5c0f\u8ddd\u96e2\u3001max_x_potion, max_y_position\u3068\u6392\u4ed6\u5229\u7528\u3001\u3053\u306e\u4f8b\u3067\u306f\u3053\u3061\u3089\u306fnull min_point_numbers: [0, 0, 0, 0] # ground truth object \u306b\u304a\u3051\u308b\uff0cbbox \u5185\u306e\u6700\u5c0f\u70b9\u7fa4\u6570\uff0emin_point_numbers=0 \u306e\u5834\u5408\u306f\uff0c\u5168 ground truth object \u3092\u8a55\u4fa1 confidence_threshold_list: null # \u8a55\u4fa1\u5bfe\u8c61\u306e estimated object \u306e confidence \u306e\u95be\u5024 target_uuids: null # \u7279\u5b9a\u306e ground truth \u306e\u307f\u306b\u5bfe\u3057\u3066\u8a55\u4fa1\u3092\u884c\u3044\u305f\u3044\u5834\u5408\uff0c\u5bfe\u8c61\u3068\u3059\u308b ground truth \u306e UUID \u3092\u6307\u5b9a\u3059\u308b\u3002null\u306a\u3089\u5168\u3066\u304c\u5bfe\u8c61 PerceptionPassFailConfig: target_labels: [car, bicycle, pedestrian, motorbike] plane_distance_threshold_list: [2.0, 2.0, 2.0, 2.0] # \u5e73\u9762\u8ddd\u96e2\u30de\u30c3\u30c1\u30f3\u30b0\u6642\u306e\u95be\u5024 \u8a55\u4fa1\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8 perception \u3067\u306f\u3001\u30b7\u30ca\u30ea\u30aa\u306b\u6307\u5b9a\u3057\u305f\u6761\u4ef6\u3067 perception_eval \u304c\u8a55\u4fa1\u3057\u305f\u7d50\u679c\u3092\u5404 frame \u6bce\u306b\u51fa\u529b\u3059\u308b\u3002 \u5168\u3066\u306e\u30c7\u30fc\u30bf\u3092\u6d41\u3057\u7d42\u308f\u3063\u305f\u3042\u3068\u306b\u3001\u6700\u7d42\u7684\u306a\u30e1\u30c8\u30ea\u30af\u30b9\u3092\u8a08\u7b97\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u6700\u7d42\u884c\u3060\u3051\u3001\u4ed6\u306e\u884c\u3068\u5f62\u5f0f\u304c\u7570\u306a\u308b\u3002 \u4ee5\u4e0b\u306b\u3001\u5404\u30d5\u30ec\u30fc\u30e0\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3068\u30e1\u30c8\u30ea\u30af\u30b9\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u793a\u3059\u3002 \u305f\u3060\u3057\u3001\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u89e3\u8aac\u6e08\u307f\u306e\u5171\u901a\u90e8\u5206\u306b\u3064\u3044\u3066\u306f\u7701\u7565\u3059\u308b\u3002 \u5404\u30d5\u30ec\u30fc\u30e0\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8 { \"Frame\": { \"FrameName\": \"\u8a55\u4fa1\u306b\u4f7f\u7528\u3057\u305ft4_dataset\u306e\u30d5\u30ec\u30fc\u30e0\u756a\u53f7\", \"FrameSkip\": \"object\u306e\u8a55\u4fa1\u3092\u4f9d\u983c\u3057\u305f\u304cdataset\u306b75msec\u4ee5\u5185\u306e\u771f\u5024\u304c\u306a\u304f\u8a55\u4fa1\u3092\u98db\u3070\u3055\u308c\u305f\u56de\u6570\", \"PassFail\": { \"Result\": \"Success or Fail\", \"Info\": [ { \"TP\": \"TP\u3068\u5224\u5b9a\u3055\u308c\u305f\u6570\", \"FP\": \"FP\u3068\u5224\u5b9a\u3055\u308c\u305f\u6570\", \"FN\": \"FN\u3068\u5224\u5b9a\u3055\u308c\u305f\u6570\" } ] } } } \u30e1\u30c8\u30ea\u30af\u30b9\u30c7\u30fc\u30bf\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8 { \"Frame\": { \"FinalScore\": { \"Score\": { \"TP\": \"\u30e9\u30d9\u30eb\u6bce\u306eTP\u7387\", \"FP\": \"\u30e9\u30d9\u30eb\u6bce\u306eFP\u7387\", \"FN\": \"\u30e9\u30d9\u30eb\u6bce\u306eFN\u7387\", \"AP\": \"\u30e9\u30d9\u30eb\u6bce\u306eAP\u5024\", \"APH\": \"\u30e9\u30d9\u30eb\u6bce\u306eAPH\u5024\" }, \"Error\": { \"\u30e9\u30d9\u30eb\": \"\u30e9\u30d9\u30eb\u6bce\u306e\u5024\u3068\u306e\u8aa4\u5dee\u30e1\u30c8\u30ea\u30af\u30b9\" } } } } pickle \u30d5\u30a1\u30a4\u30eb perception \u306e\u8a55\u4fa1\u3067\u306f\u3001result.json \u306e\u4ed6\u306b scene_result.pkl \u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u3092\u51fa\u529b\u3059\u308b\u3002 pickle \u30d5\u30a1\u30a4\u30eb\u306f python \u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u4fdd\u5b58\u3057\u305f\u3082\u306e\u3067\u3042\u308a\u3001perception_eval \u306e PerceptionEvaluationManager.frame_results \u3092\u4fdd\u5b58\u3057\u3066\u3044\u308b\u3002 perception \u306e\u8a55\u4fa1\u306f\u30011 \u500b\u306e\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3067\u884c\u3046\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u8a55\u4fa1\u3068\u3001\u8907\u6570\u306e\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3092\u7528\u3044\u3066\u5404\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u6bce\u306e\u7d50\u679c\u306e\u5e73\u5747\u3092\u53d6\u308b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a55\u4fa1\u304c\u3042\u308b\u3002 ROS \u306e\u4ed5\u69d8\u4e0a\u30011 \u56de\u306e launch \u3067\u3001\u8907\u6570\u306e\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8(bag\u3001\u5730\u56f3\u3001\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u30d5\u30a1\u30a4\u30eb\u306e\u96c6\u5408)\u3092\u6e21\u3057\u3066\u9023\u7d9a\u3067\u5b9f\u884c\u3059\u308b\u3053\u3068\u306f\u51fa\u6765\u306a\u3044\u3002 1 \u7d44\u306e\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u306b\u5bfe\u3057\u3066 launch \u3092 1 \u56de\u53e9\u304f\u3053\u3068\u306a\u308b\u306e\u3067\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a55\u4fa1\u3092\u5b9f\u65bd\u3059\u308b\u306b\u306f\u3001\u542b\u307e\u308c\u308b\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u306e\u6570\u3060\u3051 launch \u3092\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002 \u306a\u306e\u3067\u3001\u305d\u308c\u305e\u308c\u306e\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u306b\u5bfe\u3057\u3066\u5b9f\u884c\u3057\u305f frame_results \u3092 pickle \u30d5\u30a1\u30a4\u30eb\u3067\u4fdd\u5b58\u3057\u3001\u5168\u3066\u306e\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3067 pickle \u30d5\u30a1\u30a4\u30eb\u304c\u4f5c\u6210\u3055\u308c\u305f\u3042\u3068\u306b frame_results \u3092\u7d50\u5408\u3057\u3066\u6700\u7d42\u7684\u306a\u7d50\u679c\u3092\u51fa\u3059\u3068\u3044\u3046\u904b\u7528\u3092\u60f3\u5b9a\u3057\u3066\u3044\u308b\u3002 pickle \u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3059\u308b\u30b5\u30f3\u30d7\u30eb\u5b9f\u88c5\u3092 driving_log_replayer/scripts/perception_load_scene_result.py \u306b\u7f6e\u3044\u3066\u3044\u308b\u306e\u3067\u53c2\u7167\u3055\u308c\u305f\u3044\u3002","title":"\u8a8d\u8b58\u6a5f\u80fd\u306e\u8a55\u4fa1"},{"location":"use_case/perception/#_1","text":"Autoware \u306e\u8a8d\u8b58\u6a5f\u80fd(perception)\u306e\u8a8d\u8b58\u7d50\u679c\u304b\u3089 mAP(mean Average Precision)\u306a\u3069\u306e\u6307\u6a19\u3092\u8a08\u7b97\u3057\u3066\u6027\u80fd\u3092\u8a55\u4fa1\u3059\u308b\u3002 perception \u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u8d77\u52d5\u3057\u3066\u51fa\u529b\u3055\u308c\u308b perception \u306e topic \u3092\u8a55\u4fa1\u7528\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u6e21\u3057\u3066\u8a55\u4fa1\u3092\u884c\u3046\u3002 /perception/object_recognition/detection/objects|autoware_auto_perception_msgs/msg/DetectedObjects /perception/object_recognition/tracking/objects|autoware_auto_perception_msgs/msg/TrackedObjects","title":"\u8a8d\u8b58\u6a5f\u80fd\u306e\u8a55\u4fa1"},{"location":"use_case/perception/#_2","text":"autoware \u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3057\u3066 perception \u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u521d\u56de\u8d77\u52d5\u3057\u305f\u5834\u5408\u306b\u306f\u3001lidar_centerpoint \u306e onnx \u30d5\u30a1\u30a4\u30eb\u306e\u5909\u63db\u51e6\u7406\u306e\u5f85\u3061\u304c\u5165\u308b\u305f\u3081\u3001\u9014\u4e2d\u3067 launch \u304c\u6b62\u307e\u3063\u305f\u3088\u3046\u306b\u898b\u3048\u308b\u3053\u3068\u304c\u3042\u308b\u3002 \u9752\u6587\u5b57\u592a\u5b57\u7070\u8272\u80cc\u666f\u3067 lidar_centerpoint engine files are generated. \u3068\u3044\u3046\u6587\u5b57\u5217\u304c\u8868\u793a\u3055\u308c\u308b\u307e\u3067\u306f\u3001\u305d\u306e\u307e\u307e\u5f85\u3064\u3053\u3068\u3002","title":"\u6ce8\u610f\u4e8b\u9805"},{"location":"use_case/perception/#_3","text":"perception_eval","title":"\u4f9d\u5b58\u30e9\u30a4\u30d6\u30e9\u30ea"},{"location":"use_case/perception/#driving_log_replayer","text":"ROS \u3068\u306e\u63a5\u7d9a\u90e8\u5206\u304c driving_log_replayer\u3001\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3092\u6271\u3046\u90e8\u5206\u304c perception_eval \u3068\u3044\u3046\u5f79\u5272\u5206\u62c5\u306b\u306a\u3063\u3066\u3044\u308b\u3002 perception_eval \u306f ROS \u975e\u4f9d\u5b58\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u306a\u306e\u3067\u3001ROS \u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u305d\u306e\u307e\u307e\u53d7\u3051\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u3044\u3002 \u307e\u305f\u3001timestamp \u304c ROS \u3067\u306f\u30ca\u30ce\u79d2\u3001\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u306f nuScenes \u30d9\u30fc\u30b9\u3067\u30df\u30ea\u79d2\u304c\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u3002 driving_log_replayer \u5074\u3067\u306f\u3001autoware \u306e perception \u30e2\u30b8\u30e5\u30fc\u30eb\u304b\u3089\u51fa\u529b\u3055\u308c\u305f topic \u3092 subscribe \u3057\u3001perception_eval \u304c\u671f\u5f85\u3059\u308b\u30c7\u30fc\u30bf\u5f62\u5f0f\u306b\u5909\u63db\u3059\u308b\u3002 \u5909\u63db\u3057\u305f\u30c7\u30fc\u30bf\u3092 perception_eval \u306b\u6e21\u3057\u3066\u8a55\u4fa1\u3092\u4f9d\u983c\u3057\u3001\u7d50\u679c\u3092\u53d7\u3051\u53d6\u3063\u3066\u3001\u53ef\u8996\u5316\u306e\u305f\u3081\u306b ROS \u306e topic \u3067\u7d50\u679c\u3092 publish \u3059\u308b\u90e8\u5206\u3092\u62c5\u5f53\u3059\u308b\u3002 perception_eval \u306f\u3001driving_log_replayer \u304b\u3089\u6e21\u3055\u308c\u305f\u691c\u77e5\u7d50\u679c\u3068 GroundTruth \u3092\u6bd4\u8f03\u3057\u3066\u6307\u6a19\u3092\u8a08\u7b97\u3057\u3001\u7d50\u679c\u3092\u51fa\u529b\u3059\u308b\u90e8\u5206\u3092\u62c5\u5f53\u3059\u308b\u3002","title":"\u4f9d\u5b58\u30e9\u30a4\u30d6\u30e9\u30ea\u3068\u306e driving_log_replayer \u306e\u5f79\u5272\u5206\u62c5"},{"location":"use_case/perception/#_4","text":"driving_log_replayer/launch/perception.launch.py \u3092\u7528\u3044\u3066\u3001\u8a55\u4fa1\u7528\u306e\u30ce\u30fc\u30c9\u3092 autoware_launch \u306e logging_simulator.launch \u3068\u4e00\u7dd2\u306b\u7acb\u3061\u4e0a\u3052\u308b\u3002","title":"\u8a55\u4fa1\u65b9\u6cd5"},{"location":"use_case/perception/#topic","text":"subscribe topic \u540d \u30c7\u30fc\u30bf\u578b /perception/object_recognition/detection/objects autoware_auto_perception_msgs/msg/DetectedObjects /perception/object_recognition/tracking/objects autoware_auto_perception_msgs/msg/TrackedObjects publish topic \u540d \u30c7\u30fc\u30bf\u578b /driving_log_replayer/marker/ground_truth visualization_msgs::msg::MarkerArray /driving_log_replayer/marker/results visualization_msgs::msg::MarkerArray","title":"\u8a55\u4fa1\u30ce\u30fc\u30c9\u304c\u4f7f\u7528\u3059\u308b Topic \u3068\u30c7\u30fc\u30bf\u578b"},{"location":"use_case/perception/#logging_simulatorlaunch","text":"autoware \u306e\u51e6\u7406\u3092\u8efd\u304f\u3059\u308b\u305f\u3081\u3001\u8a55\u4fa1\u306b\u95a2\u4fc2\u306e\u306a\u3044\u30e2\u30b8\u30e5\u30fc\u30eb\u306f launch \u306e\u5f15\u6570\u306b false \u3092\u6e21\u3059\u3053\u3068\u3067\u7121\u52b9\u5316\u3059\u308b\u3002\u4ee5\u4e0b\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u3002 \u30a2\u30ce\u30fc\u30c6\u30b7\u30e7\u30f3\u6642\u3068\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u6642\u3067\u81ea\u5df1\u4f4d\u7f6e\u3092\u5408\u308f\u305b\u305f\u3044\u306e\u3067 bag \u306b\u5165\u3063\u3066\u3044\u308b tf \u3092\u4f7f\u3044\u56de\u3059\u3002\u305d\u306e\u305f\u3081 localization \u306f\u7121\u52b9\u3067\u3042\u308b\u3002 localization: false planning: false control: false sensing: false / true (\u30c7\u30d5\u30a9\u30eb\u30c8 false\u3001\u30b7\u30ca\u30ea\u30aa\u3067\u6307\u5b9a\u3059\u308b) autoware \u304b\u3089\u51fa\u529b\u3055\u308c\u308b\u8a8d\u8b58\u7d50\u679c(/perception/object_recognition/detection/objects)\u3092 Ground Truth \u30c7\u30fc\u30bf\u3068\u6bd4\u8f03\u3057\u3066\u8a55\u4fa1\u3059\u308b\u3002 \u8a55\u4fa1\u306b\u306f\u3001perception_eval \u3092\u5229\u7528\u3059\u308b\u3002","title":"logging_simulator.launch \u306b\u6e21\u3059\u5f15\u6570"},{"location":"use_case/perception/#_5","text":"perception_eval \u306e\u95a2\u6570\u3092\u4f7f\u3063\u3066\u8a55\u4fa1\u5931\u6557\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c 0 \u500b\u306e\u5834\u5408\u3001frame_result.pass_fail_result.get_fail_object_num() # 0","title":"\u6b63\u5e38"},{"location":"use_case/perception/#_6","text":"perception_eval \u306e\u95a2\u6570\u3092\u4f7f\u3063\u3066\u8a55\u4fa1\u5931\u6557\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u5b58\u5728\u3059\u308b\u5834\u5408\u3001frame_result.pass_fail_result.get_fail_object_num() > 0","title":"\u7570\u5e38"},{"location":"use_case/perception/#_7","text":"launch \u3067\u8a55\u4fa1\u30ce\u30fc\u30c9(perception_evaluator_node)\u3068 logging_simulator.launch\u3001ros2 bag play \u3092\u7acb\u3061\u4e0a\u3052\u308b bag \u304b\u3089\u51fa\u529b\u3055\u308c\u305f\u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u3092 autoware \u304c\u53d7\u3051\u53d6\u3063\u3066\u3001perception \u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u8a8d\u8b58\u3092\u884c\u3046 \u8a55\u4fa1\u30ce\u30fc\u30c9\u304c/perception/object_recognition/{detection, tracking}/objects \u3092 subscribe \u3057\u3066\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3067 perception_eval \u306e\u95a2\u6570\u3092\u7528\u3044\u3066\u8a55\u4fa1\u3092\u884c\u3046","title":"\u8a55\u4fa1\u30d5\u30ed\u30fc"},{"location":"use_case/perception/#simulation","text":"\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u5b9f\u884c\u306b\u5fc5\u8981\u306a\u60c5\u5831\u3092\u8ff0\u3079\u308b\u3002","title":"simulation"},{"location":"use_case/perception/#rosbag-topic","text":"\u8eca\u4e21\u306e ECU \u306e CAN \u3068\u3001\u4f7f\u7528\u3057\u3066\u3044\u308b sensor \u306e topic \u304c\u5fc5\u8981 \u4ee5\u4e0b\u306f\u4f8b\u3067\u3042\u308a\u3001\u9055\u3046\u30bb\u30f3\u30b5\u30fc\u3092\u4f7f\u3063\u3066\u3044\u308b\u5834\u5408\u306f\u9069\u5b9c\u8aad\u307f\u66ff\u3048\u308b\u3002 LiDAR \u304c\u8907\u6570\u3064\u3044\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u3059\u3079\u3066\u306e LiDAR \u306e packets \u3092\u542b\u3081\u308b /sensing/gnss/ublox/fix_velocity /sensing/gnss/ublox/nav_sat_fix /sensing/gnss/ublox/navpvt /sensing/imu/tamagawa/imu_raw /sensing/lidar/*/velodyne_packets /gsm8/from_can_bus /tf tf \u306f\u5b9f\u9a13\u6642\u306b\u53d6\u5f97\u3057\u305f\u3082\u306e\u3092\u305d\u306e\u307e\u307e\u4f7f\u7528\u3059\u308b\u304b\u3001rosbag replay simulation \u3067\u53d6\u5f97\u3057\u306a\u304a\u3059\u3002","title":"\u5165\u529b rosbag \u306b\u542b\u307e\u308c\u308b\u3079\u304d topic"},{"location":"use_case/perception/#rosbag-topic_1","text":"/clock","title":"\u5165\u529b rosbag \u306b\u542b\u307e\u308c\u3066\u306f\u3044\u3051\u306a\u3044 topic"},{"location":"use_case/perception/#evaluation","text":"\u8a55\u4fa1\u306b\u5fc5\u8981\u306a\u60c5\u5831\u3092\u8ff0\u3079\u308b\u3002","title":"evaluation"},{"location":"use_case/perception/#_8","text":"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u8a55\u4fa1\u3068\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a55\u4fa1\u306e 2 \u7a2e\u985e\u306e\u8a55\u4fa1\u304c\u3042\u308b\u3002 \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306f 1 \u500b\u306e\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3067\u884c\u3046\u8a55\u4fa1\u3067\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306f\u8907\u6570\u306e\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3092\u7528\u3044\u3066\u3001\u5404\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u6bce\u306e\u7d50\u679c\u306e\u5e73\u5747\u3092\u53d6\u308b\u8a55\u4fa1\u3067\u3042\u308b\u3002 \u30af\u30e9\u30a6\u30c9\u3067\u5b9f\u884c\u3055\u308c\u308b\u3068\u304d\u306f\u3001\u4e26\u5217\u306b\u5b9f\u884c\u3055\u308c\u308b\u3053\u3068\u3082\u8003\u616e\u306b\u3044\u308c\u308b\u3068 Dataset \u6bce\u306e\u8a2d\u5b9a\u3092\u914d\u5217\u3067\u8a18\u8ff0\u3059\u308b\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5f62\u5f0f\u3068\u3059\u308b\u3002 \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a55\u4fa1\u3067\u306f\u3001\u30ad\u30e3\u30ea\u30d6\u30ec\u30fc\u30b7\u30e7\u30f3\u5024\u306e\u5909\u66f4\u304c\u3042\u308a\u5f97\u308b\u306e\u3067 vehicle_id \u3092\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u6bce\u306b\u8a2d\u5b9a\u51fa\u6765\u308b\u3088\u3046\u306b\u3059\u308b\u3002 \u307e\u305f\u3001Sensing \u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u8d77\u52d5\u3059\u308b\u304b\u3069\u3046\u304b\u306e\u8a2d\u5b9a\u3082\u884c\u3046\u3002 \u8ffd\u52a0\u3067\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u6bce\u306b\u5fc5\u8981\u306a\u8a2d\u5b9a\u9805\u76ee\u304c\u51fa\u3066\u304d\u305f\u3089\u3001\u30ad\u30fc\u3092\u8ffd\u52a0\u3057\u3066\u8a2d\u5b9a\u3059\u308b\u3002 \u6210\u5426\u5224\u5b9a\u306b\u95a2\u3057\u3066\u306f perception_eval \u306b\u5224\u5b9a\u306e\u6761\u4ef6\u3092\u6e21\u3059\u3053\u3068\u3067\u7d50\u679c\u3092\u51fa\u3059\u3068\u304d\u306b\u6210\u5426\u306e\u5224\u5b9a\u3082\u540c\u6642\u306b\u3055\u308c\u308b\u306e\u3067\u3001\u5224\u5b9a\u6761\u4ef6\u3092\u30b7\u30ca\u30ea\u30aa\u306b\u8a18\u8f09\u3059\u308b\u3002 \u8a18\u8ff0\u5f62\u5f0f\u306f\u4ee5\u4e0b\u306e yaml \u306e\u3088\u3046\u306b\u306a\u3063\u3066\u304a\u308a\u3001PerceptionEvaluationConfig\u3001CriticalObjectFilterConfig\u3001PerceptionPassFailConfig \u306e 3 \u7a2e\u985e\u3092\u8a18\u8ff0\u3059\u308b\u3002 \u5404\u8a2d\u5b9a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u8ffd\u52a0\u3084\u524a\u9664\u304c\u3042\u308c\u3070\u305d\u308c\u306b\u5408\u308f\u305b\u3066\u30b7\u30ca\u30ea\u30aa\u306e Config \u306e\u9805\u76ee\u3082\u8ffd\u52a0\u30fb\u524a\u9664\u3059\u308b\u3002 Evaluation: UseCaseName: perception UseCaseFormatVersion: 0.3.0 Datasets: - f72e1065-7c38-40fe-a4e2-c5bbe6ff6443: VehicleId: ps1/20210620/CAL_000015 # \u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u6bce\u306bVehicleId\u3092\u6307\u5b9a\u3059\u308b LaunchSensing: false # \u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u6bce\u306bsensing module\u3092\u8d77\u52d5\u3059\u308b\u304b\u3092\u6307\u5b9a\u3059\u308b LocalMapPath: $HOME/map/perception # \u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u6bce\u306bLocalMapPath\u3092\u6307\u5b9a\u3059\u308b Conditions: PassRate: 99.0 # \u8a55\u4fa1\u8a66\u884c\u56de\u6570\u306e\u5185\u3001\u3069\u306e\u7a0b\u5ea6(%)\u8a55\u4fa1\u6210\u529f\u3060\u3063\u305f\u3089\u6210\u529f\u3068\u3059\u308b\u304b PerceptionEvaluationConfig: evaluation_config_dict: evaluation_task: detection # detection/tracking \u3053\u3053\u3067\u6307\u5b9a\u3057\u305fobjects\u3092\u8a55\u4fa1\u3059\u308b target_labels: [car, bicycle, pedestrian, motorbike] # \u8a55\u4fa1\u30e9\u30d9\u30eb max_x_position: 102.4 # \u8a55\u4fa1\u5bfe\u8c61 object \u306e\u6700\u5927 x \u4f4d\u7f6e max_y_position: 102.4 # \u8a55\u4fa1\u5bfe\u8c61 object \u306e\u6700\u5927 y \u4f4d\u7f6e max_distance: null # \u8a55\u4fa1\u5bfe\u8c61 object \u306e base_link \u304b\u3089\u306e\u6700\u5927\u8ddd\u96e2\u3001max_x_potion, max_y_position\u3068\u6392\u4ed6\u5229\u7528\u3001\u3053\u306e\u4f8b\u3067\u306f\u3053\u3061\u3089\u306fnull min_distance: null # \u8a55\u4fa1\u5bfe\u8c61 object \u306e base_link \u304b\u3089\u306e\u6700\u5c0f\u8ddd\u96e2\u3001max_x_potion, max_y_position\u3068\u6392\u4ed6\u5229\u7528\u3001\u3053\u306e\u4f8b\u3067\u306f\u3053\u3061\u3089\u306fnull min_point_numbers: [0, 0, 0, 0] # ground truth object \u306b\u304a\u3051\u308b\uff0cbbox \u5185\u306e\u6700\u5c0f\u70b9\u7fa4\u6570\uff0emin_point_numbers=0 \u306e\u5834\u5408\u306f\uff0c\u5168 ground truth object \u3092\u8a55\u4fa1 confidence_threshold: null # \u8a55\u4fa1\u5bfe\u8c61\u306e estimated object \u306e confidence \u306e\u95be\u5024 target_uuids: null # \u7279\u5b9a\u306e ground truth \u306e\u307f\u306b\u5bfe\u3057\u3066\u8a55\u4fa1\u3092\u884c\u3044\u305f\u3044\u5834\u5408\uff0c\u5bfe\u8c61\u3068\u3059\u308b ground truth \u306e UUID \u3092\u6307\u5b9a\u3059\u308b\u3002null\u306a\u3089\u5168\u3066\u304c\u5bfe\u8c61 center_distance_thresholds: [[1.0, 1.0, 1.0, 1.0], [2.0, 2.0, 2.0, 2.0]] # \u4e2d\u5fc3\u9593\u8ddd\u96e2\u30de\u30c3\u30c1\u30f3\u30b0\u6642\u306e\u95be\u5024 plane_distance_thresholds: [2.0, 30.0] # \u5e73\u9762\u8ddd\u96e2\u30de\u30c3\u30c1\u30f3\u30b0\u6642\u306e\u95be\u5024 iou_bev_thresholds: [0.5] # BEV IoU \u3000\u30de\u30c3\u30c1\u30f3\u30b0\u6642\u306e\u95be\u5024 iou_3d_thresholds: [0.5] # 3D IoU \u30de\u30c3\u30c1\u30f3\u30b0\u6642\u306e\u95be\u5024 CriticalObjectFilterConfig: target_labels: [car, bicycle, pedestrian, motorbike] # \u8a55\u4fa1\u5bfe\u8c61\u30e9\u30d9\u30eb\u540d max_x_position_list: [30.0, 30.0, 30.0, 30.0] # \u8a55\u4fa1\u5bfe\u8c61 object \u306e\u6700\u5927 x \u4f4d\u7f6e max_y_position_list: [30.0, 30.0, 30.0, 30.0] # \u8a55\u4fa1\u5bfe\u8c61 object \u306e\u6700\u5927 y \u4f4d\u7f6e max_distance_list: null # \u8a55\u4fa1\u5bfe\u8c61 object \u306e base_link \u304b\u3089\u306e\u6700\u5927\u8ddd\u96e2\u3001max_x_potion, max_y_position\u3068\u6392\u4ed6\u5229\u7528\u3001\u3053\u306e\u4f8b\u3067\u306f\u3053\u3061\u3089\u306fnull min_distance_list: null # \u8a55\u4fa1\u5bfe\u8c61 object \u306e base_link \u304b\u3089\u306e\u6700\u5c0f\u8ddd\u96e2\u3001max_x_potion, max_y_position\u3068\u6392\u4ed6\u5229\u7528\u3001\u3053\u306e\u4f8b\u3067\u306f\u3053\u3061\u3089\u306fnull min_point_numbers: [0, 0, 0, 0] # ground truth object \u306b\u304a\u3051\u308b\uff0cbbox \u5185\u306e\u6700\u5c0f\u70b9\u7fa4\u6570\uff0emin_point_numbers=0 \u306e\u5834\u5408\u306f\uff0c\u5168 ground truth object \u3092\u8a55\u4fa1 confidence_threshold_list: null # \u8a55\u4fa1\u5bfe\u8c61\u306e estimated object \u306e confidence \u306e\u95be\u5024 target_uuids: null # \u7279\u5b9a\u306e ground truth \u306e\u307f\u306b\u5bfe\u3057\u3066\u8a55\u4fa1\u3092\u884c\u3044\u305f\u3044\u5834\u5408\uff0c\u5bfe\u8c61\u3068\u3059\u308b ground truth \u306e UUID \u3092\u6307\u5b9a\u3059\u308b\u3002null\u306a\u3089\u5168\u3066\u304c\u5bfe\u8c61 PerceptionPassFailConfig: target_labels: [car, bicycle, pedestrian, motorbike] plane_distance_threshold_list: [2.0, 2.0, 2.0, 2.0] # \u5e73\u9762\u8ddd\u96e2\u30de\u30c3\u30c1\u30f3\u30b0\u6642\u306e\u95be\u5024","title":"\u30b7\u30ca\u30ea\u30aa\u30d5\u30a9\u30fc\u30de\u30c3\u30c8"},{"location":"use_case/perception/#_9","text":"perception \u3067\u306f\u3001\u30b7\u30ca\u30ea\u30aa\u306b\u6307\u5b9a\u3057\u305f\u6761\u4ef6\u3067 perception_eval \u304c\u8a55\u4fa1\u3057\u305f\u7d50\u679c\u3092\u5404 frame \u6bce\u306b\u51fa\u529b\u3059\u308b\u3002 \u5168\u3066\u306e\u30c7\u30fc\u30bf\u3092\u6d41\u3057\u7d42\u308f\u3063\u305f\u3042\u3068\u306b\u3001\u6700\u7d42\u7684\u306a\u30e1\u30c8\u30ea\u30af\u30b9\u3092\u8a08\u7b97\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u6700\u7d42\u884c\u3060\u3051\u3001\u4ed6\u306e\u884c\u3068\u5f62\u5f0f\u304c\u7570\u306a\u308b\u3002 \u4ee5\u4e0b\u306b\u3001\u5404\u30d5\u30ec\u30fc\u30e0\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3068\u30e1\u30c8\u30ea\u30af\u30b9\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u793a\u3059\u3002 \u305f\u3060\u3057\u3001\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u89e3\u8aac\u6e08\u307f\u306e\u5171\u901a\u90e8\u5206\u306b\u3064\u3044\u3066\u306f\u7701\u7565\u3059\u308b\u3002 \u5404\u30d5\u30ec\u30fc\u30e0\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8 { \"Frame\": { \"FrameName\": \"\u8a55\u4fa1\u306b\u4f7f\u7528\u3057\u305ft4_dataset\u306e\u30d5\u30ec\u30fc\u30e0\u756a\u53f7\", \"FrameSkip\": \"object\u306e\u8a55\u4fa1\u3092\u4f9d\u983c\u3057\u305f\u304cdataset\u306b75msec\u4ee5\u5185\u306e\u771f\u5024\u304c\u306a\u304f\u8a55\u4fa1\u3092\u98db\u3070\u3055\u308c\u305f\u56de\u6570\", \"PassFail\": { \"Result\": \"Success or Fail\", \"Info\": [ { \"TP\": \"TP\u3068\u5224\u5b9a\u3055\u308c\u305f\u6570\", \"FP\": \"FP\u3068\u5224\u5b9a\u3055\u308c\u305f\u6570\", \"FN\": \"FN\u3068\u5224\u5b9a\u3055\u308c\u305f\u6570\" } ] } } } \u30e1\u30c8\u30ea\u30af\u30b9\u30c7\u30fc\u30bf\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8 { \"Frame\": { \"FinalScore\": { \"Score\": { \"TP\": \"\u30e9\u30d9\u30eb\u6bce\u306eTP\u7387\", \"FP\": \"\u30e9\u30d9\u30eb\u6bce\u306eFP\u7387\", \"FN\": \"\u30e9\u30d9\u30eb\u6bce\u306eFN\u7387\", \"AP\": \"\u30e9\u30d9\u30eb\u6bce\u306eAP\u5024\", \"APH\": \"\u30e9\u30d9\u30eb\u6bce\u306eAPH\u5024\" }, \"Error\": { \"\u30e9\u30d9\u30eb\": \"\u30e9\u30d9\u30eb\u6bce\u306e\u5024\u3068\u306e\u8aa4\u5dee\u30e1\u30c8\u30ea\u30af\u30b9\" } } } }","title":"\u8a55\u4fa1\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8"},{"location":"use_case/perception/#pickle","text":"perception \u306e\u8a55\u4fa1\u3067\u306f\u3001result.json \u306e\u4ed6\u306b scene_result.pkl \u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u3092\u51fa\u529b\u3059\u308b\u3002 pickle \u30d5\u30a1\u30a4\u30eb\u306f python \u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u4fdd\u5b58\u3057\u305f\u3082\u306e\u3067\u3042\u308a\u3001perception_eval \u306e PerceptionEvaluationManager.frame_results \u3092\u4fdd\u5b58\u3057\u3066\u3044\u308b\u3002 perception \u306e\u8a55\u4fa1\u306f\u30011 \u500b\u306e\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3067\u884c\u3046\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u8a55\u4fa1\u3068\u3001\u8907\u6570\u306e\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3092\u7528\u3044\u3066\u5404\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u6bce\u306e\u7d50\u679c\u306e\u5e73\u5747\u3092\u53d6\u308b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a55\u4fa1\u304c\u3042\u308b\u3002 ROS \u306e\u4ed5\u69d8\u4e0a\u30011 \u56de\u306e launch \u3067\u3001\u8907\u6570\u306e\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8(bag\u3001\u5730\u56f3\u3001\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u30d5\u30a1\u30a4\u30eb\u306e\u96c6\u5408)\u3092\u6e21\u3057\u3066\u9023\u7d9a\u3067\u5b9f\u884c\u3059\u308b\u3053\u3068\u306f\u51fa\u6765\u306a\u3044\u3002 1 \u7d44\u306e\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u306b\u5bfe\u3057\u3066 launch \u3092 1 \u56de\u53e9\u304f\u3053\u3068\u306a\u308b\u306e\u3067\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a55\u4fa1\u3092\u5b9f\u65bd\u3059\u308b\u306b\u306f\u3001\u542b\u307e\u308c\u308b\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u306e\u6570\u3060\u3051 launch \u3092\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002 \u306a\u306e\u3067\u3001\u305d\u308c\u305e\u308c\u306e\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u306b\u5bfe\u3057\u3066\u5b9f\u884c\u3057\u305f frame_results \u3092 pickle \u30d5\u30a1\u30a4\u30eb\u3067\u4fdd\u5b58\u3057\u3001\u5168\u3066\u306e\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3067 pickle \u30d5\u30a1\u30a4\u30eb\u304c\u4f5c\u6210\u3055\u308c\u305f\u3042\u3068\u306b frame_results \u3092\u7d50\u5408\u3057\u3066\u6700\u7d42\u7684\u306a\u7d50\u679c\u3092\u51fa\u3059\u3068\u3044\u3046\u904b\u7528\u3092\u60f3\u5b9a\u3057\u3066\u3044\u308b\u3002 pickle \u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3059\u308b\u30b5\u30f3\u30d7\u30eb\u5b9f\u88c5\u3092 driving_log_replayer/scripts/perception_load_scene_result.py \u306b\u7f6e\u3044\u3066\u3044\u308b\u306e\u3067\u53c2\u7167\u3055\u308c\u305f\u3044\u3002","title":"pickle \u30d5\u30a1\u30a4\u30eb"},{"location":"use_case/performance_diag/","text":"\u8a3a\u65ad\u6a5f\u80fd\u306e\u8a55\u4fa1 Autoware \u306e\u8a3a\u65ad\u6a5f\u80fd(diagnostics)\u304c\u610f\u56f3\u901a\u308a\u306b\u6a5f\u80fd\u3057\u3066\u3044\u308b\u304b\u3092\u8a55\u4fa1\u3059\u308b\u3002 \u73fe\u5728\u306f\u3001lidar \u306e visibility \u3068 blockage \u306e\u8a55\u4fa1\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u3002 visibility: \u9727\u3084\u96e8\u306a\u3069\u3067\u8996\u754c\u304c\u60aa\u304f\u306a\u3063\u3066\u3044\u306a\u3044\u304b\u3092\u5224\u5b9a\u3059\u308b\u6a5f\u80fd blockage: LiDAR \u306b\u8449\u3063\u3071\u306a\u3069\u304c\u4ed8\u7740\u3057\u3066\u8a08\u6e2c\u306e\u59a8\u3052\u3092\u3057\u3066\u3044\u306a\u3044\u304b\u3092\u5224\u5b9a\u3059\u308b\u6a5f\u80fd visibility \u306e\u8a55\u4fa1\u3067\u306f\u3001\u96e8\u5929\u6642\u3084\u4eba\u5de5\u7684\u306b\u96e8\u3092\u964d\u3089\u305b\u3089\u308c\u308b\u65bd\u8a2d\u3067\u53d6\u5f97\u3057\u305f\u30c7\u30fc\u30bf\u3092\u7528\u3044\u3066 visibility \u306e ERROR \u304c\u4e00\u5b9a\u6570\u4ee5\u4e0a\u51fa\u529b\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u3002 \u307e\u305f\u3001\u6674\u5929\u6642\u306e\u30c7\u30fc\u30bf\u3092\u5229\u7528\u3057\u3066\u3001ERROR \u304c\u4e00\u5ea6\u3082\u51fa\u306a\u3044\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u3002 blockage \u306e\u8a55\u4fa1\u3067\u306f\u3001LiDAR \u3092\u30d3\u30cb\u30fc\u30eb\u888b\u306a\u3069\u3067\u308f\u3056\u3068\u8986\u3063\u305f\u72b6\u614b\u3067\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057 blockage \u306e ERROR \u304c\u4e00\u5b9a\u6570\u4ee5\u4e0a\u51fa\u529b\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u3002 \u307e\u305f\u3001\u8986\u3063\u3066\u306a\u3044 LiDAR \u306b\u3064\u3044\u3066\u306f ERROR \u304c\u4e00\u5ea6\u3082\u51fa\u306a\u3044\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u3002 \u4e0a\u8a18\u306e\u3088\u3046\u306b\u3001\u8a55\u4fa1\u3057\u305f\u3044\u5185\u5bb9\u306b\u3088\u3063\u3066 ERROR \u304c\u51fa\u308b\u5834\u5408\u3092\u6210\u529f\u3068\u3059\u308b\u304b\u5931\u6557\u3068\u3059\u308b\u304b\u304c\u5206\u304b\u308c\u308b\u306e\u3067\u3001\u30b7\u30ca\u30ea\u30aa\u306b\u30bf\u30a4\u30d7\u3092\u8a18\u8ff0\u3059\u308b\u3053\u3068\u3067\u5909\u66f4\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u3002 \u30b7\u30ca\u30ea\u30aa\u7a2e\u985e\u304c TP \u306e\u5834\u5408\u306f Diag \u304c\u4e00\u5b9a\u6570\u4ee5\u4e0a ERROR \u306b\u306a\u308c\u3070\u6210\u529f \u30b7\u30ca\u30ea\u30aa\u7a2e\u985e\u304c FP \u306e\u5834\u5408\u306f Diag \u304c\u4e00\u5ea6\u3082 ERROR \u306b\u306a\u3089\u306a\u3051\u308c\u3070\u6210\u529f \u30b7\u30ca\u30ea\u30aa\u7a2e\u985e\u304c null \u306e\u5834\u5408\u306f\u30c6\u30b9\u30c8\u3092\u7701\u7565\u3059\u308b \u8a55\u4fa1\u65b9\u6cd5 driving_log_replayer/launch/performance_diag.launch.py \u3092\u7528\u3044\u3066\u3001\u8a55\u4fa1\u7528\u306e\u30ce\u30fc\u30c9\u3092 autoware_launch \u306e logging_simulator.launch \u3068\u4e00\u7dd2\u306b\u7acb\u3061\u4e0a\u3052\u308b\u3002 \u8a55\u4fa1\u30ce\u30fc\u30c9\u304c\u4f7f\u7528\u3059\u308b Topic \u3068\u30c7\u30fc\u30bf\u578b subscribe topic \u540d \u30c7\u30fc\u30bf\u578b /perception/obstacle_segmentation/pointcloud sensor_msgs::msg::PointCloud2 /diagnostics_agg diagnostic_msgs::msg::DiagnosticArray /tf tf2_msgs/msg/TFMessage publish topic \u540d \u30c7\u30fc\u30bf\u578b /driving_log_replayer/visibility/value example_interfaces::msg::Float64 /driving_log_replayer/visibility/level example_interfaces::msg::Byte /driving_log_replayer/blockage/{lidar_name}/ground/ratio example_interfaces::msg::Float64 /driving_log_replayer/blockage/{lidar_name}/sky/ratio example_interfaces::msg::Float64 /driving_log_replayer/blockage/{lidar_name}/level example_interfaces::msg::Byte /initialpose geometry_msgs::msg::PoseWithCovarianceStamped {lidar_name}\u306b\u306f\u3001\u642d\u8f09\u3055\u308c\u3066\u3044\u308b lidar \u306e\u540d\u524d\u304c\u5165\u308b\u3002 logging_simulator.launch \u306b\u6e21\u3059\u5f15\u6570 autoware \u306e\u51e6\u7406\u3092\u8efd\u304f\u3059\u308b\u305f\u3081\u3001\u8a55\u4fa1\u306b\u95a2\u4fc2\u306e\u306a\u3044\u30e2\u30b8\u30e5\u30fc\u30eb\u306f launch \u306e\u5f15\u6570\u306b false \u3092\u6e21\u3059\u3053\u3068\u3067\u7121\u52b9\u5316\u3059\u308b\u3002\u4ee5\u4e0b\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u3002 planning: false control: false localization: false / true (\u30c7\u30d5\u30a9\u30eb\u30c8 false\u3001\u30b7\u30ca\u30ea\u30aa\u3067\u6307\u5b9a\u3059\u308b) autoware \u304b\u3089\u51fa\u529b\u3055\u308c\u308b\u8a3a\u65ad\u60c5\u5831(/diagnostics_agg)\u3092\u8a55\u4fa1\u3059\u308b\u3002 \u30e1\u30c3\u30bb\u30fc\u30b8\u6bce\u306b\u4ee5\u4e0b\u306e\u3044\u305a\u308c\u304b\u3068\u3057\u3066\u8a55\u4fa1\u3055\u308c\u308b\u3002 \u5bfe\u8c61\u3068\u306a\u308b status \u306f\u3001LiDAR \u306e visibility \u3068 blockage \u306b\u5bfe\u5fdc\u3057\u3066\u3044\u3066\u3001 visibility: /autoware/sensing/lidar/performance_monitoring/visibility/.* blockage: /autoware/sensing/lidar/performance_monitoring/blockage/.* TP \u6b63\u5e38 \u30b7\u30ca\u30ea\u30aa\u7a2e\u985e\u304c TP \u306e\u5834\u5408\u3067\u3001\u8a3a\u65ad\u60c5\u5831(/diagnostics_agg)\u306b\u542b\u307e\u308c\u308b visibility \u307e\u305f\u306f blockage \u306e level \u304c ERROR(=2)\u306e\u5834\u5408 TP \u7570\u5e38 \u30b7\u30ca\u30ea\u30aa\u7a2e\u985e\u304c TP \u306e\u5834\u5408\u3067\u3001\u8a3a\u65ad\u60c5\u5831(/diagnostics_agg)\u306b\u542b\u307e\u308c\u308b visibility \u307e\u305f\u306f blockage \u306e level \u304c ERROR \u3067\u306a\u3044(!=2)\u306e\u5834\u5408 FP \u6b63\u5e38 \u30b7\u30ca\u30ea\u30aa\u7a2e\u985e\u304c FP \u306e\u5834\u5408\u3067\u3001\u8a3a\u65ad\u60c5\u5831(/diagnostics_agg)\u306b\u542b\u307e\u308c\u308b visibility \u307e\u305f\u306f blockage \u306e level \u304c ERROR \u3067\u306a\u3044(!=2)\u306e\u5834\u5408 FP \u7570\u5e38 \u30b7\u30ca\u30ea\u30aa\u7a2e\u985e\u304c FP \u306e\u5834\u5408\u3067\u3001\u8a3a\u65ad\u60c5\u5831(/diagnostics_agg)\u306b\u542b\u307e\u308c\u308b visibility \u307e\u305f\u306f blockage \u306e level \u304c ERROR(=2)\u306e\u5834\u5408 \u8a55\u4fa1\u30d5\u30ed\u30fc launch \u3067\u8a55\u4fa1\u30ce\u30fc\u30c9(performance_diag_evaluator_node)\u3068 logging_simulator.launch\u3001ros2 bag play \u3092\u7acb\u3061\u4e0a\u3052\u308b bag \u304b\u3089\u51fa\u529b\u3055\u308c\u305f\u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u3092 autoware \u304c\u53d7\u3051\u53d6\u3063\u3066\u3001/diagnostics_agg \u3092\u51fa\u529b\u3059\u308b \u8a55\u4fa1\u30ce\u30fc\u30c9\u304c/diagnostics_agg \u3092 subscribe \u3057\u3066\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3067\u8a55\u4fa1\u3092\u884c\u3046 simulation \u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u5b9f\u884c\u306b\u5fc5\u8981\u306a\u60c5\u5831\u3092\u8ff0\u3079\u308b\u3002 \u5165\u529b rosbag \u306b\u542b\u307e\u308c\u308b\u3079\u304d topic \u8eca\u4e21\u306e ECU \u306e CAN \u3068\u3001\u4f7f\u7528\u3057\u3066\u3044\u308b sensor \u306e topic \u304c\u5fc5\u8981 \u4ee5\u4e0b\u306f\u4f8b\u3067\u3042\u308a\u3001\u9055\u3046\u30bb\u30f3\u30b5\u30fc\u3092\u4f7f\u3063\u3066\u3044\u308b\u5834\u5408\u306f\u9069\u5b9c\u8aad\u307f\u66ff\u3048\u308b\u3002 LiDAR \u304c\u8907\u6570\u3064\u3044\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u3059\u3079\u3066\u306e LiDAR \u306e packets \u3092\u542b\u3081\u308b /sensing/gnss/ublox/fix_velocity /sensing/gnss/ublox/nav_sat_fix /sensing/gnss/ublox/navpvt /sensing/imu/tamagawa/imu_raw /sensing/lidar/*/velodyne_packets /gsm8/from_can_bus /tf \u5165\u529b rosbag \u306b\u542b\u307e\u308c\u3066\u306f\u3044\u3051\u306a\u3044 topic /clock evaluation \u8a55\u4fa1\u306b\u5fc5\u8981\u306a\u60c5\u5831\u3092\u8ff0\u3079\u308b\u3002 \u30b7\u30ca\u30ea\u30aa\u30d5\u30a9\u30fc\u30de\u30c3\u30c8 Evaluation: UseCaseName: performance_diag UseCaseFormatVersion: 1.0.0 LaunchLocalization: false # false\u306e\u3068\u304d\u306fbag\u306e\u4e2d\u306b/tf\u304c\u5165\u3063\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002 InitialPose: null # LaunchLocalization\u304c\u6709\u52b9\u306e\u3068\u304d\u3060\u3051\u6a5f\u80fd\u3059\u308b Conditions: LiDAR: Visibility: PassFrameCount: 100 # ScenarioType\u304cTP\u306e\u3068\u304d\u306b\u3053\u306e\u5024\u4ee5\u4e0aERROR\u304c\u51fa\u308c\u3070Visibility\u306e\u8a66\u9a13\u306f\u6210\u529f\u3068\u3059\u308b\u3002FP\u306e\u5834\u5408\u306fERROR\u304c\u4e00\u5207\u51fa\u306a\u3044\u3053\u3068\u304c\u6761\u4ef6\u306a\u306e\u3067\u7121\u8996\u3055\u308c\u308b ScenarioType: FP # TP/FP/null Blockage: front_lower: # \u642d\u8f09\u3055\u308c\u3066\u3044\u308bLidar\u6bce\u306b\u8a2d\u5b9a\u3059\u308b ScenarioType: TP # TP/FP/null BlockageType: both # sky/ground/both \u7a7a\u5074\u3001\u5730\u9762\u5074\u3001\u307e\u305f\u306f\u305d\u306e\u4e21\u65b9\u3001\u3069\u3053\u3067blockage\u304c\u767a\u751f\u3057\u3066\u3044\u308b\u304b PassFrameCount: 100 # ScenarioType\u304cTP\u3067\u3001\u304b\u3064\u3001Blockage\u306e\u30bf\u30a4\u30d7\u304c\u4e00\u81f4\u3059\u308bERROR\u304c\u3053\u306e\u5024\u4ee5\u4e0a\u51fa\u308c\u3070Blockage\u306e\u8a66\u9a13\u306f\u6210\u529f\u3068\u3059\u308b\u3002FP\u306e\u5834\u5408\u306fERROR\u304c\u4e00\u5207\u51fa\u306a\u3044\u3053\u3068\u304c\u6761\u4ef6\u306a\u306e\u3067\u7121\u8996\u3055\u308c\u308b front_upper: ScenarioType: TP BlockageType: both PassFrameCount: 100 left_lower: ScenarioType: FP BlockageType: sky PassFrameCount: 30 left_upper: ScenarioType: FP BlockageType: both PassFrameCount: 40 rear_lower: ScenarioType: FP BlockageType: ground PassFrameCount: 50 rear_upper: ScenarioType: FP BlockageType: sky PassFrameCount: 60 right_lower: ScenarioType: FP BlockageType: both PassFrameCount: 70 right_upper: ScenarioType: FP BlockageType: ground PassFrameCount: 80 \u8a55\u4fa1\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8 performance_diag \u3067\u306f\u3001visibility \u3068 blockage \u306e 2 \u3064\u3092\u8a55\u4fa1\u3057\u3066\u3044\u308b\u3002 1 \u56de\u306e\u70b9\u7fa4\u306e callback \u3067\u540c\u6642\u306b\u8a55\u4fa1\u3057\u3066\u3044\u308b\u304c\u3001\u305d\u308c\u305e\u308c\u5225\u306b\u30ab\u30a6\u30f3\u30c8\u3057\u3066\u3044\u308b\u3002 Result \u306f visibility \u3068 blockage \u306e\u4e21\u65b9\u3092\u30d1\u30b9\u3057\u3066\u3044\u308c\u3070 true \u3067\u305d\u308c\u4ee5\u5916\u306f false \u5931\u6557\u3068\u306a\u308b\u3002 \u4ee5\u4e0b\u306b\u3001\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u793a\u3059\u3002 \u305f\u3060\u3057\u3001\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u89e3\u8aac\u6e08\u307f\u306e\u5171\u901a\u90e8\u5206\u306b\u3064\u3044\u3066\u306f\u7701\u7565\u3059\u308b\u3002 { \"Frame\": { \"Visibility\": [ { \"Result\": \"Success or Fail or Skipped\", \"Info\": [ { \"Level\": \"diag\u306e\u30ec\u30d9\u30eb\", \"Visibility\": \"visibility\u306e\u5024\" } ] } ], \"Blockage\": [ { \"Result\": \"Success or Fail or Skipped\", \"Info\": [ { \"Name\": \"lidar\u306e\u540d\u524d\", \"Level\": \"diag\u306e\u30ec\u30d9\u30eb\", \"GroundBlockageRatio\": \"\u5730\u4e0a\u5074\u306eblockage\u6bd4\u7387\", \"GroundBlockageCount\": \"\u53c2\u8003\u5024\", \"SkyBlockageRatio\": \"\u7a7a\u4e2d\u5074\u306eblockage\u6bd4\u7387\", \"SkyBlockageCount\": \"\u53c2\u8003\u5024\" } ] } ] } }","title":"\u8a3a\u65ad\u6a5f\u80fd\u306e\u8a55\u4fa1"},{"location":"use_case/performance_diag/#_1","text":"Autoware \u306e\u8a3a\u65ad\u6a5f\u80fd(diagnostics)\u304c\u610f\u56f3\u901a\u308a\u306b\u6a5f\u80fd\u3057\u3066\u3044\u308b\u304b\u3092\u8a55\u4fa1\u3059\u308b\u3002 \u73fe\u5728\u306f\u3001lidar \u306e visibility \u3068 blockage \u306e\u8a55\u4fa1\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u3002 visibility: \u9727\u3084\u96e8\u306a\u3069\u3067\u8996\u754c\u304c\u60aa\u304f\u306a\u3063\u3066\u3044\u306a\u3044\u304b\u3092\u5224\u5b9a\u3059\u308b\u6a5f\u80fd blockage: LiDAR \u306b\u8449\u3063\u3071\u306a\u3069\u304c\u4ed8\u7740\u3057\u3066\u8a08\u6e2c\u306e\u59a8\u3052\u3092\u3057\u3066\u3044\u306a\u3044\u304b\u3092\u5224\u5b9a\u3059\u308b\u6a5f\u80fd visibility \u306e\u8a55\u4fa1\u3067\u306f\u3001\u96e8\u5929\u6642\u3084\u4eba\u5de5\u7684\u306b\u96e8\u3092\u964d\u3089\u305b\u3089\u308c\u308b\u65bd\u8a2d\u3067\u53d6\u5f97\u3057\u305f\u30c7\u30fc\u30bf\u3092\u7528\u3044\u3066 visibility \u306e ERROR \u304c\u4e00\u5b9a\u6570\u4ee5\u4e0a\u51fa\u529b\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u3002 \u307e\u305f\u3001\u6674\u5929\u6642\u306e\u30c7\u30fc\u30bf\u3092\u5229\u7528\u3057\u3066\u3001ERROR \u304c\u4e00\u5ea6\u3082\u51fa\u306a\u3044\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u3002 blockage \u306e\u8a55\u4fa1\u3067\u306f\u3001LiDAR \u3092\u30d3\u30cb\u30fc\u30eb\u888b\u306a\u3069\u3067\u308f\u3056\u3068\u8986\u3063\u305f\u72b6\u614b\u3067\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057 blockage \u306e ERROR \u304c\u4e00\u5b9a\u6570\u4ee5\u4e0a\u51fa\u529b\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u3002 \u307e\u305f\u3001\u8986\u3063\u3066\u306a\u3044 LiDAR \u306b\u3064\u3044\u3066\u306f ERROR \u304c\u4e00\u5ea6\u3082\u51fa\u306a\u3044\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u3002 \u4e0a\u8a18\u306e\u3088\u3046\u306b\u3001\u8a55\u4fa1\u3057\u305f\u3044\u5185\u5bb9\u306b\u3088\u3063\u3066 ERROR \u304c\u51fa\u308b\u5834\u5408\u3092\u6210\u529f\u3068\u3059\u308b\u304b\u5931\u6557\u3068\u3059\u308b\u304b\u304c\u5206\u304b\u308c\u308b\u306e\u3067\u3001\u30b7\u30ca\u30ea\u30aa\u306b\u30bf\u30a4\u30d7\u3092\u8a18\u8ff0\u3059\u308b\u3053\u3068\u3067\u5909\u66f4\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u3002 \u30b7\u30ca\u30ea\u30aa\u7a2e\u985e\u304c TP \u306e\u5834\u5408\u306f Diag \u304c\u4e00\u5b9a\u6570\u4ee5\u4e0a ERROR \u306b\u306a\u308c\u3070\u6210\u529f \u30b7\u30ca\u30ea\u30aa\u7a2e\u985e\u304c FP \u306e\u5834\u5408\u306f Diag \u304c\u4e00\u5ea6\u3082 ERROR \u306b\u306a\u3089\u306a\u3051\u308c\u3070\u6210\u529f \u30b7\u30ca\u30ea\u30aa\u7a2e\u985e\u304c null \u306e\u5834\u5408\u306f\u30c6\u30b9\u30c8\u3092\u7701\u7565\u3059\u308b","title":"\u8a3a\u65ad\u6a5f\u80fd\u306e\u8a55\u4fa1"},{"location":"use_case/performance_diag/#_2","text":"driving_log_replayer/launch/performance_diag.launch.py \u3092\u7528\u3044\u3066\u3001\u8a55\u4fa1\u7528\u306e\u30ce\u30fc\u30c9\u3092 autoware_launch \u306e logging_simulator.launch \u3068\u4e00\u7dd2\u306b\u7acb\u3061\u4e0a\u3052\u308b\u3002","title":"\u8a55\u4fa1\u65b9\u6cd5"},{"location":"use_case/performance_diag/#topic","text":"subscribe topic \u540d \u30c7\u30fc\u30bf\u578b /perception/obstacle_segmentation/pointcloud sensor_msgs::msg::PointCloud2 /diagnostics_agg diagnostic_msgs::msg::DiagnosticArray /tf tf2_msgs/msg/TFMessage publish topic \u540d \u30c7\u30fc\u30bf\u578b /driving_log_replayer/visibility/value example_interfaces::msg::Float64 /driving_log_replayer/visibility/level example_interfaces::msg::Byte /driving_log_replayer/blockage/{lidar_name}/ground/ratio example_interfaces::msg::Float64 /driving_log_replayer/blockage/{lidar_name}/sky/ratio example_interfaces::msg::Float64 /driving_log_replayer/blockage/{lidar_name}/level example_interfaces::msg::Byte /initialpose geometry_msgs::msg::PoseWithCovarianceStamped {lidar_name}\u306b\u306f\u3001\u642d\u8f09\u3055\u308c\u3066\u3044\u308b lidar \u306e\u540d\u524d\u304c\u5165\u308b\u3002","title":"\u8a55\u4fa1\u30ce\u30fc\u30c9\u304c\u4f7f\u7528\u3059\u308b Topic \u3068\u30c7\u30fc\u30bf\u578b"},{"location":"use_case/performance_diag/#logging_simulatorlaunch","text":"autoware \u306e\u51e6\u7406\u3092\u8efd\u304f\u3059\u308b\u305f\u3081\u3001\u8a55\u4fa1\u306b\u95a2\u4fc2\u306e\u306a\u3044\u30e2\u30b8\u30e5\u30fc\u30eb\u306f launch \u306e\u5f15\u6570\u306b false \u3092\u6e21\u3059\u3053\u3068\u3067\u7121\u52b9\u5316\u3059\u308b\u3002\u4ee5\u4e0b\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u3002 planning: false control: false localization: false / true (\u30c7\u30d5\u30a9\u30eb\u30c8 false\u3001\u30b7\u30ca\u30ea\u30aa\u3067\u6307\u5b9a\u3059\u308b) autoware \u304b\u3089\u51fa\u529b\u3055\u308c\u308b\u8a3a\u65ad\u60c5\u5831(/diagnostics_agg)\u3092\u8a55\u4fa1\u3059\u308b\u3002 \u30e1\u30c3\u30bb\u30fc\u30b8\u6bce\u306b\u4ee5\u4e0b\u306e\u3044\u305a\u308c\u304b\u3068\u3057\u3066\u8a55\u4fa1\u3055\u308c\u308b\u3002 \u5bfe\u8c61\u3068\u306a\u308b status \u306f\u3001LiDAR \u306e visibility \u3068 blockage \u306b\u5bfe\u5fdc\u3057\u3066\u3044\u3066\u3001 visibility: /autoware/sensing/lidar/performance_monitoring/visibility/.* blockage: /autoware/sensing/lidar/performance_monitoring/blockage/.*","title":"logging_simulator.launch \u306b\u6e21\u3059\u5f15\u6570"},{"location":"use_case/performance_diag/#tp","text":"\u30b7\u30ca\u30ea\u30aa\u7a2e\u985e\u304c TP \u306e\u5834\u5408\u3067\u3001\u8a3a\u65ad\u60c5\u5831(/diagnostics_agg)\u306b\u542b\u307e\u308c\u308b visibility \u307e\u305f\u306f blockage \u306e level \u304c ERROR(=2)\u306e\u5834\u5408","title":"TP \u6b63\u5e38"},{"location":"use_case/performance_diag/#tp_1","text":"\u30b7\u30ca\u30ea\u30aa\u7a2e\u985e\u304c TP \u306e\u5834\u5408\u3067\u3001\u8a3a\u65ad\u60c5\u5831(/diagnostics_agg)\u306b\u542b\u307e\u308c\u308b visibility \u307e\u305f\u306f blockage \u306e level \u304c ERROR \u3067\u306a\u3044(!=2)\u306e\u5834\u5408","title":"TP \u7570\u5e38"},{"location":"use_case/performance_diag/#fp","text":"\u30b7\u30ca\u30ea\u30aa\u7a2e\u985e\u304c FP \u306e\u5834\u5408\u3067\u3001\u8a3a\u65ad\u60c5\u5831(/diagnostics_agg)\u306b\u542b\u307e\u308c\u308b visibility \u307e\u305f\u306f blockage \u306e level \u304c ERROR \u3067\u306a\u3044(!=2)\u306e\u5834\u5408","title":"FP \u6b63\u5e38"},{"location":"use_case/performance_diag/#fp_1","text":"\u30b7\u30ca\u30ea\u30aa\u7a2e\u985e\u304c FP \u306e\u5834\u5408\u3067\u3001\u8a3a\u65ad\u60c5\u5831(/diagnostics_agg)\u306b\u542b\u307e\u308c\u308b visibility \u307e\u305f\u306f blockage \u306e level \u304c ERROR(=2)\u306e\u5834\u5408","title":"FP \u7570\u5e38"},{"location":"use_case/performance_diag/#_3","text":"launch \u3067\u8a55\u4fa1\u30ce\u30fc\u30c9(performance_diag_evaluator_node)\u3068 logging_simulator.launch\u3001ros2 bag play \u3092\u7acb\u3061\u4e0a\u3052\u308b bag \u304b\u3089\u51fa\u529b\u3055\u308c\u305f\u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u3092 autoware \u304c\u53d7\u3051\u53d6\u3063\u3066\u3001/diagnostics_agg \u3092\u51fa\u529b\u3059\u308b \u8a55\u4fa1\u30ce\u30fc\u30c9\u304c/diagnostics_agg \u3092 subscribe \u3057\u3066\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3067\u8a55\u4fa1\u3092\u884c\u3046","title":"\u8a55\u4fa1\u30d5\u30ed\u30fc"},{"location":"use_case/performance_diag/#simulation","text":"\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u5b9f\u884c\u306b\u5fc5\u8981\u306a\u60c5\u5831\u3092\u8ff0\u3079\u308b\u3002","title":"simulation"},{"location":"use_case/performance_diag/#rosbag-topic","text":"\u8eca\u4e21\u306e ECU \u306e CAN \u3068\u3001\u4f7f\u7528\u3057\u3066\u3044\u308b sensor \u306e topic \u304c\u5fc5\u8981 \u4ee5\u4e0b\u306f\u4f8b\u3067\u3042\u308a\u3001\u9055\u3046\u30bb\u30f3\u30b5\u30fc\u3092\u4f7f\u3063\u3066\u3044\u308b\u5834\u5408\u306f\u9069\u5b9c\u8aad\u307f\u66ff\u3048\u308b\u3002 LiDAR \u304c\u8907\u6570\u3064\u3044\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u3059\u3079\u3066\u306e LiDAR \u306e packets \u3092\u542b\u3081\u308b /sensing/gnss/ublox/fix_velocity /sensing/gnss/ublox/nav_sat_fix /sensing/gnss/ublox/navpvt /sensing/imu/tamagawa/imu_raw /sensing/lidar/*/velodyne_packets /gsm8/from_can_bus /tf","title":"\u5165\u529b rosbag \u306b\u542b\u307e\u308c\u308b\u3079\u304d topic"},{"location":"use_case/performance_diag/#rosbag-topic_1","text":"/clock","title":"\u5165\u529b rosbag \u306b\u542b\u307e\u308c\u3066\u306f\u3044\u3051\u306a\u3044 topic"},{"location":"use_case/performance_diag/#evaluation","text":"\u8a55\u4fa1\u306b\u5fc5\u8981\u306a\u60c5\u5831\u3092\u8ff0\u3079\u308b\u3002","title":"evaluation"},{"location":"use_case/performance_diag/#_4","text":"Evaluation: UseCaseName: performance_diag UseCaseFormatVersion: 1.0.0 LaunchLocalization: false # false\u306e\u3068\u304d\u306fbag\u306e\u4e2d\u306b/tf\u304c\u5165\u3063\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002 InitialPose: null # LaunchLocalization\u304c\u6709\u52b9\u306e\u3068\u304d\u3060\u3051\u6a5f\u80fd\u3059\u308b Conditions: LiDAR: Visibility: PassFrameCount: 100 # ScenarioType\u304cTP\u306e\u3068\u304d\u306b\u3053\u306e\u5024\u4ee5\u4e0aERROR\u304c\u51fa\u308c\u3070Visibility\u306e\u8a66\u9a13\u306f\u6210\u529f\u3068\u3059\u308b\u3002FP\u306e\u5834\u5408\u306fERROR\u304c\u4e00\u5207\u51fa\u306a\u3044\u3053\u3068\u304c\u6761\u4ef6\u306a\u306e\u3067\u7121\u8996\u3055\u308c\u308b ScenarioType: FP # TP/FP/null Blockage: front_lower: # \u642d\u8f09\u3055\u308c\u3066\u3044\u308bLidar\u6bce\u306b\u8a2d\u5b9a\u3059\u308b ScenarioType: TP # TP/FP/null BlockageType: both # sky/ground/both \u7a7a\u5074\u3001\u5730\u9762\u5074\u3001\u307e\u305f\u306f\u305d\u306e\u4e21\u65b9\u3001\u3069\u3053\u3067blockage\u304c\u767a\u751f\u3057\u3066\u3044\u308b\u304b PassFrameCount: 100 # ScenarioType\u304cTP\u3067\u3001\u304b\u3064\u3001Blockage\u306e\u30bf\u30a4\u30d7\u304c\u4e00\u81f4\u3059\u308bERROR\u304c\u3053\u306e\u5024\u4ee5\u4e0a\u51fa\u308c\u3070Blockage\u306e\u8a66\u9a13\u306f\u6210\u529f\u3068\u3059\u308b\u3002FP\u306e\u5834\u5408\u306fERROR\u304c\u4e00\u5207\u51fa\u306a\u3044\u3053\u3068\u304c\u6761\u4ef6\u306a\u306e\u3067\u7121\u8996\u3055\u308c\u308b front_upper: ScenarioType: TP BlockageType: both PassFrameCount: 100 left_lower: ScenarioType: FP BlockageType: sky PassFrameCount: 30 left_upper: ScenarioType: FP BlockageType: both PassFrameCount: 40 rear_lower: ScenarioType: FP BlockageType: ground PassFrameCount: 50 rear_upper: ScenarioType: FP BlockageType: sky PassFrameCount: 60 right_lower: ScenarioType: FP BlockageType: both PassFrameCount: 70 right_upper: ScenarioType: FP BlockageType: ground PassFrameCount: 80","title":"\u30b7\u30ca\u30ea\u30aa\u30d5\u30a9\u30fc\u30de\u30c3\u30c8"},{"location":"use_case/performance_diag/#_5","text":"performance_diag \u3067\u306f\u3001visibility \u3068 blockage \u306e 2 \u3064\u3092\u8a55\u4fa1\u3057\u3066\u3044\u308b\u3002 1 \u56de\u306e\u70b9\u7fa4\u306e callback \u3067\u540c\u6642\u306b\u8a55\u4fa1\u3057\u3066\u3044\u308b\u304c\u3001\u305d\u308c\u305e\u308c\u5225\u306b\u30ab\u30a6\u30f3\u30c8\u3057\u3066\u3044\u308b\u3002 Result \u306f visibility \u3068 blockage \u306e\u4e21\u65b9\u3092\u30d1\u30b9\u3057\u3066\u3044\u308c\u3070 true \u3067\u305d\u308c\u4ee5\u5916\u306f false \u5931\u6557\u3068\u306a\u308b\u3002 \u4ee5\u4e0b\u306b\u3001\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u793a\u3059\u3002 \u305f\u3060\u3057\u3001\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u89e3\u8aac\u6e08\u307f\u306e\u5171\u901a\u90e8\u5206\u306b\u3064\u3044\u3066\u306f\u7701\u7565\u3059\u308b\u3002 { \"Frame\": { \"Visibility\": [ { \"Result\": \"Success or Fail or Skipped\", \"Info\": [ { \"Level\": \"diag\u306e\u30ec\u30d9\u30eb\", \"Visibility\": \"visibility\u306e\u5024\" } ] } ], \"Blockage\": [ { \"Result\": \"Success or Fail or Skipped\", \"Info\": [ { \"Name\": \"lidar\u306e\u540d\u524d\", \"Level\": \"diag\u306e\u30ec\u30d9\u30eb\", \"GroundBlockageRatio\": \"\u5730\u4e0a\u5074\u306eblockage\u6bd4\u7387\", \"GroundBlockageCount\": \"\u53c2\u8003\u5024\", \"SkyBlockageRatio\": \"\u7a7a\u4e2d\u5074\u306eblockage\u6bd4\u7387\", \"SkyBlockageCount\": \"\u53c2\u8003\u5024\" } ] } ] } }","title":"\u8a55\u4fa1\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8"}]}