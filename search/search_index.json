{"config":{"indexing":"full","lang":["en","ja"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Driving Log Replayer Documentation # Language selection is available by pressing the \"\u6587 A\" icon at the top of the page. About Driving Log Replayer # Driving Log Replayer is a ROS2 package that evaluates the performance of Autoware.Universe based on previously recorded input data. It allows for defining and checking whether the assumptions of the system operation have been met.","title":"Driving Log Replayer Documentation"},{"location":"#driving-log-replayer-documentation","text":"Language selection is available by pressing the \"\u6587 A\" icon at the top of the page.","title":"Driving Log Replayer Documentation"},{"location":"#about-driving-log-replayer","text":"Driving Log Replayer is a ROS2 package that evaluates the performance of Autoware.Universe based on previously recorded input data. It allows for defining and checking whether the assumptions of the system operation have been met.","title":"About Driving Log Replayer"},{"location":"analyzer/","text":"Driving Log Replayer Analyzer # Work in progress.","title":"Driving Log Replayer Analyzer"},{"location":"analyzer/#driving-log-replayer-analyzer","text":"Work in progress.","title":"Driving Log Replayer Analyzer"},{"location":"overview/command/","text":"Command # After installing driving_log_replayer_cli , the driving_log_replayer command can be executed in the terminal. The driving_log_replayer command has subcommands. The arguments required for each command can be displayed by specifying the --help option. # driving_log_replayer top level help driving_log_replayer --help # show version driving_log_replayer --version # show subcommand help driving_log_replayer subcommand --help # show subsubcommand help driving_log_replayer subcommand subsubcommand --help CLI subcommands # The list of supported subcommands can be found below: configure simulation driving_log_replayer configure # Command to manipulate the configuration file .driving_log_replayer.config.toml . # Set data_directory, output_directory, and autoware_path to the profile name specified by -p. # If -p is omitted, default is specified for the profile name. driving_log_replayer configure register -d ${ data_directory } -o ${ output_directory } -a ${ autoware_path } [ -p ${ profile } ] driving_log_replayer simulation # Available commands to run the Autoware evaluation: # simulation run, both jsonl and json result files are output driving_log_replayer simulation run -p ${ profile } # simulation run, do not convert jsonl to json driving_log_replayer simulation run -p ${ profile } --no-json # Check results and display summary of result files under output_directory driving_log_replayer simulation show-result ${ output_directory } # Convert result files to json driving_log_replayer simulation convert-result ${ output_directory } Run driving_log_replayer with wasim # If you have access rights to Autoware Evaluator provided by TIER IV, you can also use wasim . Please see the wasim documentation site for an example of tool usage. Since wasim downloads and executes scenarios from Autoware Evaluator, it can only execute scenarios that are already registered in the cloud environment. For scenarios not registered in the cloud, use driving_log_replayer_cli .","title":"Command"},{"location":"overview/command/#command","text":"After installing driving_log_replayer_cli , the driving_log_replayer command can be executed in the terminal. The driving_log_replayer command has subcommands. The arguments required for each command can be displayed by specifying the --help option. # driving_log_replayer top level help driving_log_replayer --help # show version driving_log_replayer --version # show subcommand help driving_log_replayer subcommand --help # show subsubcommand help driving_log_replayer subcommand subsubcommand --help","title":"Command"},{"location":"overview/command/#cli-subcommands","text":"The list of supported subcommands can be found below: configure simulation","title":"CLI subcommands"},{"location":"overview/command/#driving_log_replayer-configure","text":"Command to manipulate the configuration file .driving_log_replayer.config.toml . # Set data_directory, output_directory, and autoware_path to the profile name specified by -p. # If -p is omitted, default is specified for the profile name. driving_log_replayer configure register -d ${ data_directory } -o ${ output_directory } -a ${ autoware_path } [ -p ${ profile } ]","title":"driving_log_replayer configure"},{"location":"overview/command/#driving_log_replayer-simulation","text":"Available commands to run the Autoware evaluation: # simulation run, both jsonl and json result files are output driving_log_replayer simulation run -p ${ profile } # simulation run, do not convert jsonl to json driving_log_replayer simulation run -p ${ profile } --no-json # Check results and display summary of result files under output_directory driving_log_replayer simulation show-result ${ output_directory } # Convert result files to json driving_log_replayer simulation convert-result ${ output_directory }","title":"driving_log_replayer simulation"},{"location":"overview/command/#run-driving_log_replayer-with-wasim","text":"If you have access rights to Autoware Evaluator provided by TIER IV, you can also use wasim . Please see the wasim documentation site for an example of tool usage. Since wasim downloads and executes scenarios from Autoware Evaluator, it can only execute scenarios that are already registered in the cloud environment. For scenarios not registered in the cloud, use driving_log_replayer_cli .","title":"Run driving_log_replayer with wasim"},{"location":"overview/","text":"Overview # Driving Log Replayer is a package that runs Autoware in an open loop by supplying previously recorded input data using log(rosbag2) API. The package gathers information and evaluates topics output produced by Autoware. Its use is to test the software regression and check Autoware's performance of sensing, localization, and perception components. Related Documents # AutowareDocumentation WebAutoDocumentation Related repositories # ros2bag_extensions perception_eval Architecture # Driving Log Replayer package contains an evaluation node that extends Autoware's standard functionality. The architecture graph is shown below. Package structure # The evaluation node works in the following manner: reads a scenario describing the conditions of positive evaluation launches autoware outputs the evaluation result in a JSON file format The details of the node's operation are shown in the figure below. Example usage flow # Acquire rosbags for evaluation using a real-world vehicle. Filter the acquired rosbags to contain only sufficient input topics in required period of time For this purpose please use ros2bag_extensions package (developed by TIER IV). To properly filter the input rosbag: Autoware's output topics must be dropped except /tf . The sensor topics (input topics) should remain in the filtered rosbag. Rosbag needs 10 seconds of parking before driving. The other messages should be dropped. Create an evaluation scenario Example scenarios could be found in the repository's sample folder Refer to the format definition section of this document for description contents. If the node should test obstacle_segmentation or perception stacks, please annotate with an annotation tool that supports conversion to t4_dataset. t4_dataset conversion tool is in preparation for the release. Perform the evaluation.","title":"Overview"},{"location":"overview/#overview","text":"Driving Log Replayer is a package that runs Autoware in an open loop by supplying previously recorded input data using log(rosbag2) API. The package gathers information and evaluates topics output produced by Autoware. Its use is to test the software regression and check Autoware's performance of sensing, localization, and perception components.","title":"Overview"},{"location":"overview/#related-documents","text":"AutowareDocumentation WebAutoDocumentation","title":"Related Documents"},{"location":"overview/#related-repositories","text":"ros2bag_extensions perception_eval","title":"Related repositories"},{"location":"overview/#architecture","text":"Driving Log Replayer package contains an evaluation node that extends Autoware's standard functionality. The architecture graph is shown below.","title":"Architecture"},{"location":"overview/#package-structure","text":"The evaluation node works in the following manner: reads a scenario describing the conditions of positive evaluation launches autoware outputs the evaluation result in a JSON file format The details of the node's operation are shown in the figure below.","title":"Package structure"},{"location":"overview/#example-usage-flow","text":"Acquire rosbags for evaluation using a real-world vehicle. Filter the acquired rosbags to contain only sufficient input topics in required period of time For this purpose please use ros2bag_extensions package (developed by TIER IV). To properly filter the input rosbag: Autoware's output topics must be dropped except /tf . The sensor topics (input topics) should remain in the filtered rosbag. Rosbag needs 10 seconds of parking before driving. The other messages should be dropped. Create an evaluation scenario Example scenarios could be found in the repository's sample folder Refer to the format definition section of this document for description contents. If the node should test obstacle_segmentation or perception stacks, please annotate with an annotation tool that supports conversion to t4_dataset. t4_dataset conversion tool is in preparation for the release. Perform the evaluation.","title":"Example usage flow"},{"location":"overview/setup/","text":"Setup # This section describes the settings required to use driving_log_replayer. Cli setting # In order to reduce the number of arguments to be passed to driving_log_replayer_cli , the directories specified as arguments are described in a configuration file. Therefore, before using the cli, create a $HOME/.driving_log_replayer.config.toml file in the format presented below. You can create it manually or by using the driving_log_replayer configure command. # manual creation nano $HOME /.driving_log_replayer.config.toml # cli creation driving_log_replayer configure register -d ${ data_directory } -o ${ output_directory } -a ${ autoware_path } [ -p ${ profile } ] At least one profile is required, and one must be named default . Specifying the profile name with -p ${profile_name} in the commands described below will load the settings specified in the profile. You can switch between multiple autoware profiles, and if no profile is specified, default is used. [profile_name] data_directory = \"path of the data folder used as input for the simulation\" output_directory = \"path of the folder to output the simulation results\" autoware_path = \"path of the autoware workspace folder\" example setting # default is required and selected when profile name is omitted [default] data_directory = \"$HOME/driving_log_replayer_data/default\" output_directory = \"$HOME/driving_log_replayer_output/default\" autoware_path = \"$HOME/autoware\" [localization] data_directory = \"$HOME/driving_log_replayer_data/localization\" output_directory = \"$HOME/driving_log_replayer_output/localization\" autoware_path = \"$HOME/autoware\" [obstacle_segmentation] data_directory = \"$HOME/driving_log_replayer_data/obstacle_segmentation\" output_directory = \"$HOME/driving_log_replayer_output/obstacle_segmentation\" autoware_path = \"$HOME/autoware\" [perception] data_directory = \"$HOME/driving_log_replayer_data/perception\" output_directory = \"$HOME/driving_log_replayer_output/perception\" autoware_path = \"$HOME/autoware\" Folder structure and file naming rules # This section describes the folder structure and file naming rules expected by driving_log_replayer . In driving_log_replayer the folder structure and file names are fixed to reduce the number of paths to be described in the scenario and the arguments to be passed to the command. Also, by placing multiple folders in data_directory multiple tests can be executed in succession. Data Folder # A folder where resources used in the simulation are stored. For each test case: a scenario, rosbag, and dataset are placed. Data Folder Structure for localization and performance_diag # driving_log_replayer_data // .driving_log_replayer.config \u306e data_directory \u2502 \u251c\u2500\u2500 TC001 // Test case directory. Directry name can be named arbitrarily \u2502 \u251c\u2500\u2500 scenario.yaml // Scenario \u2502 \u2514\u2500\u2500 input_bag // Bag for input containing sensor data \u2502 \u251c\u2500\u2500 input_bag_0.db3 // Binary file of bag \u2502 \u2514\u2500\u2500 metadata.yaml // Metadata file of bag \u2502 \u251c\u2500\u2500 TC002 // Test case directory. Same structure as TC001 ... Data Folder Structure for obstacle_segmentation and perception # driving_log_replayer_data // .driving_log_replayer.config \u306e data_directory \u2502 \u251c\u2500\u2500 TC001 // Test case directory. Directry name can be named arbitrarily \u2502 \u251c\u2500\u2500 scenario.yaml // Scenario \u2502 \u2514\u2500\u2500 t4_dataset \u2502 \u251c\u2500\u2500 T4D001 // t4_dataset directory. If use case is sensing, t4_dataset is always one. \u2502 \u2502 \u251c\u2500\u2500 annotation \u2502 \u2502 \u251c\u2500\u2500 data \u2502 \u2502 \u2502 \u2514\u2500\u2500 LIDAR_CONCAT \u2502 \u2502 \u2514\u2500\u2500 input_bag \u2502 \u2514\u2500\u2500 T4D002 // t4_dataset directory. If use case is peception, t4_dataset can be multiple. \u2502 \u251c\u2500\u2500 annotation \u2502 \u251c\u2500\u2500 data \u2502 \u2502 \u2514\u2500\u2500 LIDAR_CONCAT \u2502 \u2514\u2500\u2500 input_bag \u2502 ... \u2502 \u251c\u2500\u2500 TC002 // Test case directory. Same structure as TC001 ... Map Folder # A folder where all the maps used in the simulation are stored. autoware_map \u2502 \u251c\u2500\u2500 LocalMapPath1 // Path specified by LocalMapPath in the scenario \u2502 \u251c\u2500\u2500 lanelet2_map.osm // lanelet file \u2502 \u2514\u2500\u2500 pointcloud_map.pcd // pcd file \u2502 \u251c\u2500\u2500 LocalMapPath2 // Path specified by LocalMapPath in the scenario ...","title":"Setup"},{"location":"overview/setup/#setup","text":"This section describes the settings required to use driving_log_replayer.","title":"Setup"},{"location":"overview/setup/#cli-setting","text":"In order to reduce the number of arguments to be passed to driving_log_replayer_cli , the directories specified as arguments are described in a configuration file. Therefore, before using the cli, create a $HOME/.driving_log_replayer.config.toml file in the format presented below. You can create it manually or by using the driving_log_replayer configure command. # manual creation nano $HOME /.driving_log_replayer.config.toml # cli creation driving_log_replayer configure register -d ${ data_directory } -o ${ output_directory } -a ${ autoware_path } [ -p ${ profile } ] At least one profile is required, and one must be named default . Specifying the profile name with -p ${profile_name} in the commands described below will load the settings specified in the profile. You can switch between multiple autoware profiles, and if no profile is specified, default is used. [profile_name] data_directory = \"path of the data folder used as input for the simulation\" output_directory = \"path of the folder to output the simulation results\" autoware_path = \"path of the autoware workspace folder\" example setting # default is required and selected when profile name is omitted [default] data_directory = \"$HOME/driving_log_replayer_data/default\" output_directory = \"$HOME/driving_log_replayer_output/default\" autoware_path = \"$HOME/autoware\" [localization] data_directory = \"$HOME/driving_log_replayer_data/localization\" output_directory = \"$HOME/driving_log_replayer_output/localization\" autoware_path = \"$HOME/autoware\" [obstacle_segmentation] data_directory = \"$HOME/driving_log_replayer_data/obstacle_segmentation\" output_directory = \"$HOME/driving_log_replayer_output/obstacle_segmentation\" autoware_path = \"$HOME/autoware\" [perception] data_directory = \"$HOME/driving_log_replayer_data/perception\" output_directory = \"$HOME/driving_log_replayer_output/perception\" autoware_path = \"$HOME/autoware\"","title":"Cli setting"},{"location":"overview/setup/#folder-structure-and-file-naming-rules","text":"This section describes the folder structure and file naming rules expected by driving_log_replayer . In driving_log_replayer the folder structure and file names are fixed to reduce the number of paths to be described in the scenario and the arguments to be passed to the command. Also, by placing multiple folders in data_directory multiple tests can be executed in succession.","title":"Folder structure and file naming rules"},{"location":"overview/setup/#data-folder","text":"A folder where resources used in the simulation are stored. For each test case: a scenario, rosbag, and dataset are placed.","title":"Data Folder"},{"location":"overview/setup/#data-folder-structure-for-localization-and-performance_diag","text":"driving_log_replayer_data // .driving_log_replayer.config \u306e data_directory \u2502 \u251c\u2500\u2500 TC001 // Test case directory. Directry name can be named arbitrarily \u2502 \u251c\u2500\u2500 scenario.yaml // Scenario \u2502 \u2514\u2500\u2500 input_bag // Bag for input containing sensor data \u2502 \u251c\u2500\u2500 input_bag_0.db3 // Binary file of bag \u2502 \u2514\u2500\u2500 metadata.yaml // Metadata file of bag \u2502 \u251c\u2500\u2500 TC002 // Test case directory. Same structure as TC001 ...","title":"Data Folder Structure for localization and performance_diag"},{"location":"overview/setup/#data-folder-structure-for-obstacle_segmentation-and-perception","text":"driving_log_replayer_data // .driving_log_replayer.config \u306e data_directory \u2502 \u251c\u2500\u2500 TC001 // Test case directory. Directry name can be named arbitrarily \u2502 \u251c\u2500\u2500 scenario.yaml // Scenario \u2502 \u2514\u2500\u2500 t4_dataset \u2502 \u251c\u2500\u2500 T4D001 // t4_dataset directory. If use case is sensing, t4_dataset is always one. \u2502 \u2502 \u251c\u2500\u2500 annotation \u2502 \u2502 \u251c\u2500\u2500 data \u2502 \u2502 \u2502 \u2514\u2500\u2500 LIDAR_CONCAT \u2502 \u2502 \u2514\u2500\u2500 input_bag \u2502 \u2514\u2500\u2500 T4D002 // t4_dataset directory. If use case is peception, t4_dataset can be multiple. \u2502 \u251c\u2500\u2500 annotation \u2502 \u251c\u2500\u2500 data \u2502 \u2502 \u2514\u2500\u2500 LIDAR_CONCAT \u2502 \u2514\u2500\u2500 input_bag \u2502 ... \u2502 \u251c\u2500\u2500 TC002 // Test case directory. Same structure as TC001 ...","title":"Data Folder Structure for obstacle_segmentation and perception"},{"location":"overview/setup/#map-folder","text":"A folder where all the maps used in the simulation are stored. autoware_map \u2502 \u251c\u2500\u2500 LocalMapPath1 // Path specified by LocalMapPath in the scenario \u2502 \u251c\u2500\u2500 lanelet2_map.osm // lanelet file \u2502 \u2514\u2500\u2500 pointcloud_map.pcd // pcd file \u2502 \u251c\u2500\u2500 LocalMapPath2 // Path specified by LocalMapPath in the scenario ...","title":"Map Folder"},{"location":"quick_start/installation/","text":"Installation # This document contains step-by-step instruction on how to build AWF Autoware Core/Universe with driving_log_replayer . Requirements # CPU amd64 Ubuntu 20.04 / 22.04 ROS galactic / humble Python 3.8 / 3.10 NVIDIA GPU (required if running perception) pipx zstd sudo apt install zstd How to build # Navigate to the Autoware workspace: cd autoware Add dependency packages: nano simulator.repos # add repositories below. simulator/perception_eval: type: git url: https://github.com/tier4/autoware_perception_evaluation.git version: main simulator/driving_log_replayer: type: git url: https://github.com/tier4/driving_log_replayer.git version: main simulator/vendor/ros2_numpy: type: git url: https://github.com/Box-Robotics/ros2_numpy.git # version humble is available for both humble and galactic version: humble simulator/vendor/ros2bag_extensions: type: git url: https://github.com/tier4/ros2bag_extensions.git version: main Import Simulator dependencies: vcs import src < simulator.repos Update rosdep: rosdep update Install dependent ROS packages: rosdep install -y --from-paths src --ignore-src --rosdistro $ROS_DISTRO Build the workspace: colcon build --symlink-install --cmake-args -DCMAKE_BUILD_TYPE = Release Install cli to run driving_log_replayer: pipx install git+https://github.com/tier4/driving_log_replayer.git","title":"Installation"},{"location":"quick_start/installation/#installation","text":"This document contains step-by-step instruction on how to build AWF Autoware Core/Universe with driving_log_replayer .","title":"Installation"},{"location":"quick_start/installation/#requirements","text":"CPU amd64 Ubuntu 20.04 / 22.04 ROS galactic / humble Python 3.8 / 3.10 NVIDIA GPU (required if running perception) pipx zstd sudo apt install zstd","title":"Requirements"},{"location":"quick_start/installation/#how-to-build","text":"Navigate to the Autoware workspace: cd autoware Add dependency packages: nano simulator.repos # add repositories below. simulator/perception_eval: type: git url: https://github.com/tier4/autoware_perception_evaluation.git version: main simulator/driving_log_replayer: type: git url: https://github.com/tier4/driving_log_replayer.git version: main simulator/vendor/ros2_numpy: type: git url: https://github.com/Box-Robotics/ros2_numpy.git # version humble is available for both humble and galactic version: humble simulator/vendor/ros2bag_extensions: type: git url: https://github.com/tier4/ros2bag_extensions.git version: main Import Simulator dependencies: vcs import src < simulator.repos Update rosdep: rosdep update Install dependent ROS packages: rosdep install -y --from-paths src --ignore-src --rosdistro $ROS_DISTRO Build the workspace: colcon build --symlink-install --cmake-args -DCMAKE_BUILD_TYPE = Release Install cli to run driving_log_replayer: pipx install git+https://github.com/tier4/driving_log_replayer.git","title":"How to build"},{"location":"quick_start/localization/","text":"Localization Evaluation # Preparation # Copy sample scenario mkdir -p ~/driving_log_replayer_data/localization/sample cp -r ~/autoware/src/simulator/driving_log_replayer/sample/localization/scenario.yaml ~/driving_log_replayer_data/localization/sample Copy bag file from dataset cp -r ~/driving_log_replayer_data/sample_dataset/input_bag ~/driving_log_replayer_data/localization/sample Filter and slice bag source ~/autoware/install/setup.bash cd ~/driving_log_replayer_data/localization/sample ros2 bag filter input_bag -o filtered_bag -x \"/localization/.*\" \"/sensing/lidar/concatenated/pointcloud\" \"/tf\" ros2 bag slice filtered_bag -o sliced_bag -s 1649138880 -e 1649138910 rm -rf input_bag rm -rf filtered_bag mv sliced_bag input_bag How to run # Run the simulation driving_log_replayer simulation run -p localization --rate 0 .5 Check the results Results are displayed in the terminal like below. The number of tests will vary slightly depending on PC performance and CPU load conditions, so slight differences are not a problem. test case 1 / 1 : use case : sample -------------------------------------------------- TestResult: Passed Passed: Convergence: 246 / 247 -> 99 .60% Reliability: NVTL Sequential NG Count: 0 ( Total Test: 248 )","title":"Localization Evaluation"},{"location":"quick_start/localization/#localization-evaluation","text":"","title":"Localization Evaluation"},{"location":"quick_start/localization/#preparation","text":"Copy sample scenario mkdir -p ~/driving_log_replayer_data/localization/sample cp -r ~/autoware/src/simulator/driving_log_replayer/sample/localization/scenario.yaml ~/driving_log_replayer_data/localization/sample Copy bag file from dataset cp -r ~/driving_log_replayer_data/sample_dataset/input_bag ~/driving_log_replayer_data/localization/sample Filter and slice bag source ~/autoware/install/setup.bash cd ~/driving_log_replayer_data/localization/sample ros2 bag filter input_bag -o filtered_bag -x \"/localization/.*\" \"/sensing/lidar/concatenated/pointcloud\" \"/tf\" ros2 bag slice filtered_bag -o sliced_bag -s 1649138880 -e 1649138910 rm -rf input_bag rm -rf filtered_bag mv sliced_bag input_bag","title":"Preparation"},{"location":"quick_start/localization/#how-to-run","text":"Run the simulation driving_log_replayer simulation run -p localization --rate 0 .5 Check the results Results are displayed in the terminal like below. The number of tests will vary slightly depending on PC performance and CPU load conditions, so slight differences are not a problem. test case 1 / 1 : use case : sample -------------------------------------------------- TestResult: Passed Passed: Convergence: 246 / 247 -> 99 .60% Reliability: NVTL Sequential NG Count: 0 ( Total Test: 248 )","title":"How to run"},{"location":"quick_start/obstacle_segmentation/","text":"Obstacle Segmentation Evaluation # Preparation # Copy sample scenario mkdir -p ~/driving_log_replayer_data/obstacle_segmentation/sample cp -r ~/autoware/src/simulator/driving_log_replayer/sample/obstacle_segmentation/scenario.yaml ~/driving_log_replayer_data/obstacle_segmentation/sample Copy bag file from dataset mkdir -p ~/driving_log_replayer_data/obstacle_segmentation/sample/t4_dataset cp -r ~/driving_log_replayer_data/sample_dataset ~/driving_log_replayer_data/obstacle_segmentation/sample/t4_dataset How to run # Run the simulation driving_log_replayer simulation run -p obstacle_segmentation --rate 0 .5 Check the results Results are displayed in the terminal like below. The number of tests will vary slightly depending on PC performance and CPU load conditions, so slight differences are not a problem. test case 1 / 1 : use case : sample_dataset -------------------------------------------------- TestResult: Failed Detection Failed: detection: 557 / 681 -> 81 .79% detection_warn: 0 non_detection: 681 / 681 -> 100 .00%","title":"Obstacle Segmentation Evaluation"},{"location":"quick_start/obstacle_segmentation/#obstacle-segmentation-evaluation","text":"","title":"Obstacle Segmentation Evaluation"},{"location":"quick_start/obstacle_segmentation/#preparation","text":"Copy sample scenario mkdir -p ~/driving_log_replayer_data/obstacle_segmentation/sample cp -r ~/autoware/src/simulator/driving_log_replayer/sample/obstacle_segmentation/scenario.yaml ~/driving_log_replayer_data/obstacle_segmentation/sample Copy bag file from dataset mkdir -p ~/driving_log_replayer_data/obstacle_segmentation/sample/t4_dataset cp -r ~/driving_log_replayer_data/sample_dataset ~/driving_log_replayer_data/obstacle_segmentation/sample/t4_dataset","title":"Preparation"},{"location":"quick_start/obstacle_segmentation/#how-to-run","text":"Run the simulation driving_log_replayer simulation run -p obstacle_segmentation --rate 0 .5 Check the results Results are displayed in the terminal like below. The number of tests will vary slightly depending on PC performance and CPU load conditions, so slight differences are not a problem. test case 1 / 1 : use case : sample_dataset -------------------------------------------------- TestResult: Failed Detection Failed: detection: 557 / 681 -> 81 .79% detection_warn: 0 non_detection: 681 / 681 -> 100 .00%","title":"How to run"},{"location":"quick_start/perception/","text":"Perception Evaluation # Preparation # Copy sample scenario mkdir -p ~/driving_log_replayer_data/perception/sample cp -r ~/autoware/src/simulator/driving_log_replayer/sample/perception/scenario.yaml ~/driving_log_replayer_data/perception/sample Copy bag file from dataset mkdir -p ~/driving_log_replayer_data/perception/sample/t4_dataset cp -r ~/driving_log_replayer_data/sample_dataset ~/driving_log_replayer_data/perception/sample/t4_dataset How to run # Run the simulation driving_log_replayer simulation run -p perception --rate 0 .5 Check the results Results are displayed in the terminal like below. The number of tests will vary slightly depending on PC performance and CPU load conditions, so slight differences are not a problem. test case 1 / 1 : use case : sample -------------------------------------------------- TestResult: Passed Passed: 682 / 682 -> 100 .00%","title":"Perception Evaluation"},{"location":"quick_start/perception/#perception-evaluation","text":"","title":"Perception Evaluation"},{"location":"quick_start/perception/#preparation","text":"Copy sample scenario mkdir -p ~/driving_log_replayer_data/perception/sample cp -r ~/autoware/src/simulator/driving_log_replayer/sample/perception/scenario.yaml ~/driving_log_replayer_data/perception/sample Copy bag file from dataset mkdir -p ~/driving_log_replayer_data/perception/sample/t4_dataset cp -r ~/driving_log_replayer_data/sample_dataset ~/driving_log_replayer_data/perception/sample/t4_dataset","title":"Preparation"},{"location":"quick_start/perception/#how-to-run","text":"Run the simulation driving_log_replayer simulation run -p perception --rate 0 .5 Check the results Results are displayed in the terminal like below. The number of tests will vary slightly depending on PC performance and CPU load conditions, so slight differences are not a problem. test case 1 / 1 : use case : sample -------------------------------------------------- TestResult: Passed Passed: 682 / 682 -> 100 .00%","title":"How to run"},{"location":"quick_start/performance_diag/","text":"Performance Diag Evaluation # Performance diag evaluation is currently not available with autowarefoundation-autoware.","title":"Performance Diag Evaluation"},{"location":"quick_start/performance_diag/#performance-diag-evaluation","text":"Performance diag evaluation is currently not available with autowarefoundation-autoware.","title":"Performance Diag Evaluation"},{"location":"quick_start/setup/","text":"Setup # Note Running the Driving Log Replayer requires some additional steps on top of building and installing Autoware, so make sure that Driving Log Replayer installation has been completed first before proceeding. Sample map: Copyright 2020 TIER IV, Inc. Sample Dataset: Copyright 2022 TIER IV, Inc. Set up resources # Download and unpack a sample map. mkdir -p ~/autoware_map gdown -O ~/autoware_map/sample-map-planning.zip 'https://docs.google.com/uc?export=download&id=1499_nsbUbIeturZaDj7jhUownh5fvXHd' unzip -d ~/autoware_map ~/autoware_map/sample-map-planning.zip You can also download the map manually. Download and unpack a dataset. mkdir -p ~/driving_log_replayer_data gdown -O ~/driving_log_replayer_data/sample_dataset.tar.zst 'https://docs.google.com/uc?export=download&id=1UjMWZj5Yc55O7BZiGHa0ikZGhwmcfPiS' tar -I zstd -xvf ~/driving_log_replayer_data/sample_dataset.tar.zst -C ~/driving_log_replayer_data/ You can also download the dataset manually. Copy sample setting # assuming that autoware is placed under ~/autoware directory cp ~/autoware/src/simulator/driving_log_replayer/sample/.driving_log_replayer.config.toml ~/","title":"Setup"},{"location":"quick_start/setup/#setup","text":"Note Running the Driving Log Replayer requires some additional steps on top of building and installing Autoware, so make sure that Driving Log Replayer installation has been completed first before proceeding. Sample map: Copyright 2020 TIER IV, Inc. Sample Dataset: Copyright 2022 TIER IV, Inc.","title":"Setup"},{"location":"quick_start/setup/#set-up-resources","text":"Download and unpack a sample map. mkdir -p ~/autoware_map gdown -O ~/autoware_map/sample-map-planning.zip 'https://docs.google.com/uc?export=download&id=1499_nsbUbIeturZaDj7jhUownh5fvXHd' unzip -d ~/autoware_map ~/autoware_map/sample-map-planning.zip You can also download the map manually. Download and unpack a dataset. mkdir -p ~/driving_log_replayer_data gdown -O ~/driving_log_replayer_data/sample_dataset.tar.zst 'https://docs.google.com/uc?export=download&id=1UjMWZj5Yc55O7BZiGHa0ikZGhwmcfPiS' tar -I zstd -xvf ~/driving_log_replayer_data/sample_dataset.tar.zst -C ~/driving_log_replayer_data/ You can also download the dataset manually. Copy sample setting # assuming that autoware is placed under ~/autoware directory cp ~/autoware/src/simulator/driving_log_replayer/sample/.driving_log_replayer.config.toml ~/","title":"Set up resources"},{"location":"result_format/","text":"Driving Log Replayer Result File Format # It is in JSONL format, with each line containing a string in JSON format. Format # Each line is output in the following format. The actual output is a single line of text, but it is formatted for ease of reading. { \"Result\" : { \"Success\" : \"true or false\" , \"Summary\" : \"summary of result\" }, \"Stamp\" : { \"System\" : \"system time\" , \"ROS\" : \"simulation time\" }, \"Frame\" : { \"Ego\" : { \"TransformStamped\" : \"transform_stamped from map to base_link\" }, \"Different configurations for each use case\" : \"...\" } } Each evaluation output consists of the following attributes: Result: Result of the evaluation of the executed scenario Stamp: The time of the evaluation Frame: Evaluation results for one received frame (topic) and attached information such as values used for judgment. For more information on Frame, see the evaluation results file format for each use case. Output JSON file # JSONL is used because it can be appended, and one result will be added per topic subscription. However, it is easier to read a JSON file format when investigating the files manually. Therefore, when simulations are run using driving_log_replayer_cli, the JSON file is also output by default. On the other hand, if the simulation is run locally with wasim or in the cloud , only a JSONL file is created. If you want to convert a JSONL file to JSON, you can do so with the following command. # Conversion of result files, converting result.jsonl under output_directory to result.json driving_log_replayer simulation convert-result ${ output_directory } Analyze the result files # As mentioned in the json output section, json files are output only when driving_log_replayer_cli is used locally. Therefore, when analyzing the result files, such as graphing, jsonl should be used as the analysis target. If you use python, you can read jsonl by setting lines=True in pandas.read_json .","title":"Driving Log Replayer Result File Format"},{"location":"result_format/#driving-log-replayer-result-file-format","text":"It is in JSONL format, with each line containing a string in JSON format.","title":"Driving Log Replayer Result File Format"},{"location":"result_format/#format","text":"Each line is output in the following format. The actual output is a single line of text, but it is formatted for ease of reading. { \"Result\" : { \"Success\" : \"true or false\" , \"Summary\" : \"summary of result\" }, \"Stamp\" : { \"System\" : \"system time\" , \"ROS\" : \"simulation time\" }, \"Frame\" : { \"Ego\" : { \"TransformStamped\" : \"transform_stamped from map to base_link\" }, \"Different configurations for each use case\" : \"...\" } } Each evaluation output consists of the following attributes: Result: Result of the evaluation of the executed scenario Stamp: The time of the evaluation Frame: Evaluation results for one received frame (topic) and attached information such as values used for judgment. For more information on Frame, see the evaluation results file format for each use case.","title":"Format"},{"location":"result_format/#output-json-file","text":"JSONL is used because it can be appended, and one result will be added per topic subscription. However, it is easier to read a JSON file format when investigating the files manually. Therefore, when simulations are run using driving_log_replayer_cli, the JSON file is also output by default. On the other hand, if the simulation is run locally with wasim or in the cloud , only a JSONL file is created. If you want to convert a JSONL file to JSON, you can do so with the following command. # Conversion of result files, converting result.jsonl under output_directory to result.json driving_log_replayer simulation convert-result ${ output_directory }","title":"Output JSON file"},{"location":"result_format/#analyze-the-result-files","text":"As mentioned in the json output section, json files are output only when driving_log_replayer_cli is used locally. Therefore, when analyzing the result files, such as graphing, jsonl should be used as the analysis target. If you use python, you can read jsonl by setting lines=True in pandas.read_json .","title":"Analyze the result files"},{"location":"scenario_format/","text":"Driving Log Replayer Scenario Format Definition # This section describes the scenario format used in driving_log_replayer. Notes on the format # Keys are defined in CamelCase. Unless otherwise specified, the coordinate system is map coordinate system. Unless otherwise specified, the following unit system is used. Distance: m Velocity: m/s acceleration: m/s^2 Time: s Samples # Sample scenarios are stored in the sample folder. Format # The basic structure is as follows. Details of each key are described below. 2.x.x Format # For localization and performance_diag evaluation scenarios ScenarioFormatVersion : 2.x.x ScenarioName : String ScenarioDescription : String SensorModel : String VehicleModel : String VehicleId : String LocalMapPath : String Evaluation : UseCaseName : String UseCaseFormatVersion : String Conditions : Dictionary # refer use case 3.x.x Format # For perception and obstacle_segmentation evaluation scenarios. NOTE: VehicleId and LocalMapPath have been changed to be set for each id of t4_dataset. ScenarioFormatVersion : 3.x.x ScenarioName : String ScenarioDescription : String SensorModel : String VehicleModel : String Evaluation : UseCaseName : String UseCaseFormatVersion : String Datasets : - DatasetName : VehicleId : String LocalMapPath : String Conditions : Dictionary # refer use case ScenarioFormatVersion # Describe the version information of the scenario format. Use the semantic version. localization and performance_diag scenarios use the 2.x.x series. The latest version of 2.x.x is 2.2.0. perception and obstacle_segmentation scenarios use 3.x.x series. The latest version of 3.x.x is 3.0.0 Minor versions are updated each time the format is updated. ScenarioName # Describes the name of the scenario, used as the display name of the scenario on the Autoware Evaluator. ScenarioDescription # Describes a scenario, used as a scenario description on the Autoware Evaluator. SensorModel # Specify sensor_model as argument in autoware_launch/launch/logging_simulator.launch.xml VehicleModel # Specify vehicle_model as an argument in autoware_launch/launch/logging_simulator.launch.xml VehicleId # Specify vehicle_id as an argument in autoware_launch/launch/logging_simulator.launch.xml If you don't know vehicle_id , set default . LocalMapPath # Describes the path of the map folder to be used in the local environment. Environment variables such as $HOME can be used. Evaluation # Define the evaluation conditions for the simulation. UseCaseName # Specify an evaluation program. The evaluation is executed by calling the launch file with the name specified here. The launch.py file with the same name as specified must exist in the driving_log_replayer/launch folder. UseCaseFormatVersion # Describe the version information of the use case format. The semantic version shall be used. Until the major version becomes 1, the minor version is updated every time the format is updated. The initial version is 0.1.0. Conditions # Specify conditions that can be set for each use case. Refer to each use case for the conditions that can be specified.","title":"Driving Log Replayer Scenario Format Definition"},{"location":"scenario_format/#driving-log-replayer-scenario-format-definition","text":"This section describes the scenario format used in driving_log_replayer.","title":"Driving Log Replayer Scenario Format Definition"},{"location":"scenario_format/#notes-on-the-format","text":"Keys are defined in CamelCase. Unless otherwise specified, the coordinate system is map coordinate system. Unless otherwise specified, the following unit system is used. Distance: m Velocity: m/s acceleration: m/s^2 Time: s","title":"Notes on the format"},{"location":"scenario_format/#samples","text":"Sample scenarios are stored in the sample folder.","title":"Samples"},{"location":"scenario_format/#format","text":"The basic structure is as follows. Details of each key are described below.","title":"Format"},{"location":"scenario_format/#2xx-format","text":"For localization and performance_diag evaluation scenarios ScenarioFormatVersion : 2.x.x ScenarioName : String ScenarioDescription : String SensorModel : String VehicleModel : String VehicleId : String LocalMapPath : String Evaluation : UseCaseName : String UseCaseFormatVersion : String Conditions : Dictionary # refer use case","title":"2.x.x Format"},{"location":"scenario_format/#3xx-format","text":"For perception and obstacle_segmentation evaluation scenarios. NOTE: VehicleId and LocalMapPath have been changed to be set for each id of t4_dataset. ScenarioFormatVersion : 3.x.x ScenarioName : String ScenarioDescription : String SensorModel : String VehicleModel : String Evaluation : UseCaseName : String UseCaseFormatVersion : String Datasets : - DatasetName : VehicleId : String LocalMapPath : String Conditions : Dictionary # refer use case","title":"3.x.x Format"},{"location":"scenario_format/#scenarioformatversion","text":"Describe the version information of the scenario format. Use the semantic version. localization and performance_diag scenarios use the 2.x.x series. The latest version of 2.x.x is 2.2.0. perception and obstacle_segmentation scenarios use 3.x.x series. The latest version of 3.x.x is 3.0.0 Minor versions are updated each time the format is updated.","title":"ScenarioFormatVersion"},{"location":"scenario_format/#scenarioname","text":"Describes the name of the scenario, used as the display name of the scenario on the Autoware Evaluator.","title":"ScenarioName"},{"location":"scenario_format/#scenariodescription","text":"Describes a scenario, used as a scenario description on the Autoware Evaluator.","title":"ScenarioDescription"},{"location":"scenario_format/#sensormodel","text":"Specify sensor_model as argument in autoware_launch/launch/logging_simulator.launch.xml","title":"SensorModel"},{"location":"scenario_format/#vehiclemodel","text":"Specify vehicle_model as an argument in autoware_launch/launch/logging_simulator.launch.xml","title":"VehicleModel"},{"location":"scenario_format/#vehicleid","text":"Specify vehicle_id as an argument in autoware_launch/launch/logging_simulator.launch.xml If you don't know vehicle_id , set default .","title":"VehicleId"},{"location":"scenario_format/#localmappath","text":"Describes the path of the map folder to be used in the local environment. Environment variables such as $HOME can be used.","title":"LocalMapPath"},{"location":"scenario_format/#evaluation","text":"Define the evaluation conditions for the simulation.","title":"Evaluation"},{"location":"use_case/","text":"Evaluation Use Cases # This section describes how driving_log_replayer can be used for evaluation. List of Driving Log Replayer use cases # Localization Obstacle Segmentation Perception Performance Diag","title":"Evaluation Use Cases"},{"location":"use_case/#evaluation-use-cases","text":"This section describes how driving_log_replayer can be used for evaluation.","title":"Evaluation Use Cases"},{"location":"use_case/#list-of-driving-log-replayer-use-cases","text":"Localization Obstacle Segmentation Perception Performance Diag","title":"List of Driving Log Replayer use cases"},{"location":"use_case/localization/","text":"Evaluate self-localization estimation # Evaluate whether Autoware's localization is working stably. In the evaluation of localization, the reliability and convergence of NDT are evaluated. Evaluation method # The localization's evaluation is executed by launching the localization.launch.py file. Launching the file executes the following steps: Execute launch of evaluation node ( localization_evaluator_node ), logging_simulator.launch file and ros2 bag play command Autoware receives sensor data input from previously prepared rosbag and performs localization estimation Evaluation node subscribes to Autoware's output topics, determines whether NDT reliability and convergence meet the criteria, and dumps the results to a file When the playback of the rosbag is finished, Autoware's launch is automatically terminated, and the evaluation is completed. Reliability of NDT # Of the following two topics, the one specified in the scenario will be used for evaluation. /localization/pose_estimator/transform_probability /localization/pose_estimator/nearest_voxel_transformation_likelihood Convergence of NDT # Convergence evaluation is based on the following topics: /localization/pose_estimator/pose /localization/pose_twist_fusion_filter/pose However, evaluation of convergence will be started after NDT convergence, and convergence is determined by /localization/pose_estimator/transform_probability > 0 or /localization/pose_estimator/nearest_voxel_transformation_likelihood > 0. Evaluation Result # The results are calculated for each subscription. The format and available states are described below. Reliability Normal # If the data in /localization/pose_estimator/transform_probability or /localization/pose_estimator/nearest_voxel_transformation_likelihood is greater than or equal the AllowableLikelihood described in the scenario. Reliability Error # If the data in /localization/pose_estimator/transform_probability or /localization/pose_estimator/nearest_voxel_transformation_likelihood is less than the AllowableLikelihood described in the scenario. Convergence Normal # If all of the following conditions are met, the convergence is reported as Normal: The lateral distance (calculated from /localization/pose_estimator/pose and /localization/pose_twist_fusion_filter/pose topics output) is less than or equal to AllowableDistance described in the scenario Execution time published to /localization/pose_estimator/exe_time_ms is less than or equal to AllowableExeTimeMs described in the scenario Number of iterations published to /localization/pose_estimator/iteration_num is less than or equal to AllowableIterationNum described in the scenario The lateral distance calculated in the step 1 is published as /driving_log_replayer/localization/lateral_distance . Convergence Error # The convergence evaluation output is marked as Error when conditions for Convergence Normal are not met. Topic name and data type used by evaluation node # Subscribed topics: Topic name Data type /localization/pose_estimator/transform_probability tier4_debug_msgs::msg::Float32Stamped /localization/pose_estimator/nearest_voxel_transformation_likelihood tier4_debug_msgs::msg::Float32Stamped /localization/pose_estimator/pose geometry_msgs::msg::PoseStamped /localization/kinematic_state nav_msgs::msg::Odometry /tf tf2_msgs/msg/TFMessage /localization/util/downsample/pointcloud sensor_msgs::msg::PointCloud2 /localization/pose_estimator/points_aligned sensor_msgs::msg::PointCloud2 /localization/pose_estimator/exe_time_ms tier4_debug_msgs::msg::Float32Stamped /localization/pose_estimator/iteration_num tier4_debug_msgs::msg::Int32Stamped Published topics: Topic name Data type /driving_log_replayer/localization/lateral_distance example_interfaces::msg::Float64 /initialpose geometry_msgs::msg::PoseWithCovarianceStamped Arguments passed to logging_simulator.launch # To make Autoware processing less resource-consuming, modules that are not relevant to evaluation are disabled by passing the false parameter as a launch argument. The following parameters are set to false when launching the localization evaluation scenario: planning: false control: false About simulation # State the information required to run the simulation. Topic to be included in the input rosbag # The vehicle's ECU CAN and sensors data topics are required for the evaluation to be run correctly. The following example shows the topic list available in evaluation input rosbag when multiple LiDARs are used in a real-world vehicle configuration. /sensing/gnss/ublox/fix_velocity /sensing/gnss/ublox/nav_sat_fix /sensing/gnss/ublox/navpvt /sensing/imu/tamagawa/imu_raw /sensing/lidar/*/velodyne_packets /gsm8/from_can_bus Topics that must not be included in the input rosbag # /clock About Evaluation # State the information necessary for the evaluation. Scenario Format # Evaluation : UseCaseName : localization UseCaseFormatVersion : 1.2.0 Conditions : Convergence : AllowableDistance : 0.2 # Lateral distance to be considered convergence AllowableExeTimeMs : 100.0 # If the NDT computation time is less than or equal to this value, it is considered successful. AllowableIterationNum : 30 # If the number of NDT calculations is less than or equal to this value, it is considered a success. PassRate : 95.0 # How much (%) of the evaluation attempts are considered successful. Reliability : Method : NVTL # NVTL or TP which method to use for evaluation AllowableLikelihood : 2.3 # If above this value, the localization reliability value is considered normal. NGCount : 10 # If the reliability value is lower than the threshold value for more than this number in the sequence. the evaluation is considered to have failed. InitialPose : position : x : 3836.5478515625 y : 73729.96875 z : 0.0 orientation : x : 0.0 y : 0.0 z : -0.9689404241590215 w : 0.2472942668776119 Evaluation Result Format # Since localization evaluates both convergence and confidence of the localization, each line contains the result of either convergence or confidence. The result is true if both convergence and confidence are evaluated correctly. Otherwise, the output is set to false . Examples of each evaluation are described below. NOTE: common part of the result file format, which has already been explained, is omitted. Convergence Result example: { \"Frame\" : { \"Convergence\" : { \"Result\" : \"Success or Fail\" , \"Info\" : [ { \"LateralDistance\" : \"Lateral distance between ndt and ekf pose\" , \"HorizontalDistance\" : \"Horizontal distance between ndt and ekf. Reference value\" , \"ExeTimeMs\" : \"Time taken to calculate ndt\" , \"IterationNum\" : \"Number of recalculations of ndt\" } ] } } } Reliability Result example: { \"Frame\" : { \"Reliability\" : { \"Result\" : \"Success or Fail\" , \"Info\" : [ { \"Value\" : \"Value of NVTL or TP\" , \"Reference\" : \"Likelihood not used in the evaluation. Reference value; if Value is NVTL, TP is entered.\" } ] } } }","title":"Evaluate self-localization estimation"},{"location":"use_case/localization/#evaluate-self-localization-estimation","text":"Evaluate whether Autoware's localization is working stably. In the evaluation of localization, the reliability and convergence of NDT are evaluated.","title":"Evaluate self-localization estimation"},{"location":"use_case/localization/#evaluation-method","text":"The localization's evaluation is executed by launching the localization.launch.py file. Launching the file executes the following steps: Execute launch of evaluation node ( localization_evaluator_node ), logging_simulator.launch file and ros2 bag play command Autoware receives sensor data input from previously prepared rosbag and performs localization estimation Evaluation node subscribes to Autoware's output topics, determines whether NDT reliability and convergence meet the criteria, and dumps the results to a file When the playback of the rosbag is finished, Autoware's launch is automatically terminated, and the evaluation is completed.","title":"Evaluation method"},{"location":"use_case/localization/#reliability-of-ndt","text":"Of the following two topics, the one specified in the scenario will be used for evaluation. /localization/pose_estimator/transform_probability /localization/pose_estimator/nearest_voxel_transformation_likelihood","title":"Reliability of NDT"},{"location":"use_case/localization/#convergence-of-ndt","text":"Convergence evaluation is based on the following topics: /localization/pose_estimator/pose /localization/pose_twist_fusion_filter/pose However, evaluation of convergence will be started after NDT convergence, and convergence is determined by /localization/pose_estimator/transform_probability > 0 or /localization/pose_estimator/nearest_voxel_transformation_likelihood > 0.","title":"Convergence of NDT"},{"location":"use_case/localization/#evaluation-result","text":"The results are calculated for each subscription. The format and available states are described below.","title":"Evaluation Result"},{"location":"use_case/localization/#reliability-normal","text":"If the data in /localization/pose_estimator/transform_probability or /localization/pose_estimator/nearest_voxel_transformation_likelihood is greater than or equal the AllowableLikelihood described in the scenario.","title":"Reliability Normal"},{"location":"use_case/localization/#reliability-error","text":"If the data in /localization/pose_estimator/transform_probability or /localization/pose_estimator/nearest_voxel_transformation_likelihood is less than the AllowableLikelihood described in the scenario.","title":"Reliability Error"},{"location":"use_case/localization/#convergence-normal","text":"If all of the following conditions are met, the convergence is reported as Normal: The lateral distance (calculated from /localization/pose_estimator/pose and /localization/pose_twist_fusion_filter/pose topics output) is less than or equal to AllowableDistance described in the scenario Execution time published to /localization/pose_estimator/exe_time_ms is less than or equal to AllowableExeTimeMs described in the scenario Number of iterations published to /localization/pose_estimator/iteration_num is less than or equal to AllowableIterationNum described in the scenario The lateral distance calculated in the step 1 is published as /driving_log_replayer/localization/lateral_distance .","title":"Convergence Normal"},{"location":"use_case/localization/#convergence-error","text":"The convergence evaluation output is marked as Error when conditions for Convergence Normal are not met.","title":"Convergence Error"},{"location":"use_case/localization/#topic-name-and-data-type-used-by-evaluation-node","text":"Subscribed topics: Topic name Data type /localization/pose_estimator/transform_probability tier4_debug_msgs::msg::Float32Stamped /localization/pose_estimator/nearest_voxel_transformation_likelihood tier4_debug_msgs::msg::Float32Stamped /localization/pose_estimator/pose geometry_msgs::msg::PoseStamped /localization/kinematic_state nav_msgs::msg::Odometry /tf tf2_msgs/msg/TFMessage /localization/util/downsample/pointcloud sensor_msgs::msg::PointCloud2 /localization/pose_estimator/points_aligned sensor_msgs::msg::PointCloud2 /localization/pose_estimator/exe_time_ms tier4_debug_msgs::msg::Float32Stamped /localization/pose_estimator/iteration_num tier4_debug_msgs::msg::Int32Stamped Published topics: Topic name Data type /driving_log_replayer/localization/lateral_distance example_interfaces::msg::Float64 /initialpose geometry_msgs::msg::PoseWithCovarianceStamped","title":"Topic name and data type used by evaluation node"},{"location":"use_case/localization/#arguments-passed-to-logging_simulatorlaunch","text":"To make Autoware processing less resource-consuming, modules that are not relevant to evaluation are disabled by passing the false parameter as a launch argument. The following parameters are set to false when launching the localization evaluation scenario: planning: false control: false","title":"Arguments passed to logging_simulator.launch"},{"location":"use_case/localization/#about-simulation","text":"State the information required to run the simulation.","title":"About simulation"},{"location":"use_case/localization/#topic-to-be-included-in-the-input-rosbag","text":"The vehicle's ECU CAN and sensors data topics are required for the evaluation to be run correctly. The following example shows the topic list available in evaluation input rosbag when multiple LiDARs are used in a real-world vehicle configuration. /sensing/gnss/ublox/fix_velocity /sensing/gnss/ublox/nav_sat_fix /sensing/gnss/ublox/navpvt /sensing/imu/tamagawa/imu_raw /sensing/lidar/*/velodyne_packets /gsm8/from_can_bus","title":"Topic to be included in the input rosbag"},{"location":"use_case/localization/#topics-that-must-not-be-included-in-the-input-rosbag","text":"/clock","title":"Topics that must not be included in the input rosbag"},{"location":"use_case/localization/#about-evaluation","text":"State the information necessary for the evaluation.","title":"About Evaluation"},{"location":"use_case/localization/#scenario-format","text":"Evaluation : UseCaseName : localization UseCaseFormatVersion : 1.2.0 Conditions : Convergence : AllowableDistance : 0.2 # Lateral distance to be considered convergence AllowableExeTimeMs : 100.0 # If the NDT computation time is less than or equal to this value, it is considered successful. AllowableIterationNum : 30 # If the number of NDT calculations is less than or equal to this value, it is considered a success. PassRate : 95.0 # How much (%) of the evaluation attempts are considered successful. Reliability : Method : NVTL # NVTL or TP which method to use for evaluation AllowableLikelihood : 2.3 # If above this value, the localization reliability value is considered normal. NGCount : 10 # If the reliability value is lower than the threshold value for more than this number in the sequence. the evaluation is considered to have failed. InitialPose : position : x : 3836.5478515625 y : 73729.96875 z : 0.0 orientation : x : 0.0 y : 0.0 z : -0.9689404241590215 w : 0.2472942668776119","title":"Scenario Format"},{"location":"use_case/localization/#evaluation-result-format","text":"Since localization evaluates both convergence and confidence of the localization, each line contains the result of either convergence or confidence. The result is true if both convergence and confidence are evaluated correctly. Otherwise, the output is set to false . Examples of each evaluation are described below. NOTE: common part of the result file format, which has already been explained, is omitted. Convergence Result example: { \"Frame\" : { \"Convergence\" : { \"Result\" : \"Success or Fail\" , \"Info\" : [ { \"LateralDistance\" : \"Lateral distance between ndt and ekf pose\" , \"HorizontalDistance\" : \"Horizontal distance between ndt and ekf. Reference value\" , \"ExeTimeMs\" : \"Time taken to calculate ndt\" , \"IterationNum\" : \"Number of recalculations of ndt\" } ] } } } Reliability Result example: { \"Frame\" : { \"Reliability\" : { \"Result\" : \"Success or Fail\" , \"Info\" : [ { \"Value\" : \"Value of NVTL or TP\" , \"Reference\" : \"Likelihood not used in the evaluation. Reference value; if Value is NVTL, TP is entered.\" } ] } } }","title":"Evaluation Result Format"},{"location":"use_case/obstacle_segmentation/","text":"Evaluate point cloud generation # Evaluate if the Autoware point cloud generation process (if there is a connection between sensing and perception nodes) runs, and if data is being published to the /perception/obstacle_segmentation/pointcloud topic as intended. The following evaluations are performed simultaneously to check if point cloud published by perception nodes is valid. Check whether vehicles, pedestrians and other traffic participants, annotated in advance, are detected (detection step). Check whether extra point clouds appear in the overlapping area between the lane and the polygons around the vehicle defined in the scenario (non_detection step). It is also possible not to evaluate if null is specified as the evaluation condition. In other words, evaluation can be performed in the following three modes. evaluate detection and non_detection at the same time evaluate only detection (NonDetection: null) Evaluate only non_detection (Detection: null) The recommended annotation tool is Deepen , but any tool that supports conversion to t4_dataset format can be used. Multiple annotation tools can be used as long as a conversion tool can be created. Evaluation method # The obstacle segmentation evaluation is executed by launching the obstacle_segmentation.launch.py file. Launching the file executes the following steps: Launch C++ evaluation node, Python evaluation node, launch logging_simulator.launch file, and execute ros2 bag play command. Autoware receives sensor data output from input rosbag and outputs /perception/obstacle_segmentation/pointcloud topic. The C++ evaluation node subscribes /perception/obstacle_segmentation/pointcloud topic and calculates the polygon of the non-detection area at the time specified in the header. The non-detection area polygon along with a pointcloud is published to /driving_log_replayer/obstacle_segmentation/input topic. Python evaluation node subscribes /driving_log_replayer/obstacle_segmentation/input and evaluates data. The result is dumped into a file. When the playback of the rosbag is finished, Autoware's launch is automatically terminated, and the evaluation is completed. Evaluation Result # The results are calculated for each subscription. The format and available states are described below. Detection Normal # If all of the following conditions are met, the evaluation is reported as normal: A bounding box with the UUID specified in the scenario must contain a point cloud (topic /perception/obstacle_segmentation/pointcloud ) with at least a number of points equal to the specified number. If multiple UUIDs are specified, the condition must be satisfied for all the specified bounding boxes. The output rate of the point cloud cannot be in error state (this data is provided by Autoware's diagnostic function). The default frequency value is 1.0Hz. Detection Warning # The state is achieved when the visibility of the bounding box with the UUID specified in the scenario is none (bounding box is occluded) and cannot be evaluated. Detection Error # The detection state is Error when neither conditions for Normal nor Warning state cannot be met. Non-Detection Normal # The state is Normal when no point is contained in the non-detection area, which is calculated by the C++ node in step 3 of the evaluation method. Non-Detection Error # The state is Error when any point was found in the non-detection area. Topic name and data type used by evaluation node # Subscribed topics: Topic name Data type /perception/obstacle_segmentation/pointcloud sensor_msgs::msg::PointCloud2 /diagnostics_agg diagnostic_msgs::msg::DiagnosticArray /map/vector_map autoware_auto_mapping_msgs::msg::HADMapBin /tf tf2_msgs/msg/TFMessage /planning/scenario_planning/status/stop_reasons tier4_planning_msgs::msg::StopReasonArray /planning/scenario_planning/trajectory autoware_auto_planning_msgs::msg::Trajectory Published topics: Topic name Data type /driving_log_replayer/obstacle_segmentation/input driving_log_replayer_msgs::msg:ObstacleSegmentationInput /driving_log_replayer/marker/detection visualization_msgs::msg::MarkerArray /driving_log_replayer/marker/non_detection visualization_msgs::msg::MarkerArray /driving_log_replayer/pcd/detection sensor_msgs::msg::PointCloud2 /driving_log_replayer/pcd/non_detection sensor_msgs::msg::PointCloud2 /planning/mission_planning/goal geometry_msgs::msg::PoseStamped Arguments passed to logging_simulator.launch # To make Autoware processing less resource-consuming, modules that are not relevant to evaluation are disabled by passing the false parameter as a launch argument. The following parameters are set to false when launching the obstacle_segmentation evaluation scenario: localization: false control: false About simulation # State the information required to run the simulation. Topic to be included in the input rosbag # Must contain the required topics in t4_dataset format. About Evaluation # State the information necessary for the evaluation. Scenario Format # Evaluation : UseCaseName : obstacle_segmentation UseCaseFormatVersion : 0.2.0 Datasets : - sample_dataset : VehicleId : default LocalMapPath : $HOME/autoware_map/sample-map-planning Conditions : Detection : # set `null` if Detection is not evaluated. PassRate : 99.0 # How much (%) of the evaluation attempts are considered successful. NonDetection : set `null` if NonDetection is not evaluated. PassRate : 99.0 # How much (%) of the evaluation attempts are considered successful. ProposedArea : # Non-detection area centered on the base_link with a single stroke polygon. polygon_2d : # Describe polygon in xy-plane in clockwise direction - [ 10.0 , 1.5 ] - [ 10.0 , -1.5 ] - [ 0.0 , -1.5 ] - [ 0.0 , 1.5 ] z_min : 0.0 # Lower z for 3D polygon z_max : 1.5 # Upper z for 3D polygon SensingEvaluationConfig : evaluation_config_dict : evaluation_task : sensing # fixed value target_uuids : # UUIDs of bounding box to be detected - dcb2b352232fff50c4fad23718f31611 box_scale_0m : 1.0 # Scaling factor to scale the bounding box according to distance. Value at 0m box_scale_100m : 1.0 # Scaling factor at 100m. Magnification is determined by linear completion according to distance from 0 to 100m min_points_threshold : 1 # Threshold of how many points must be in the bounding box to be successful. Evaluation Result Format # In obstacle_segmentation evaluation scenario, two types of checks, detection (Detection) and non-detection (NonDetection), are evaluated. Although they are evaluated simultaneously, in one callback function, they are counted separately. The Result is true if both detection and non-detection evaluation steps have passed. Otherwise the Result is false . An example of evaluation is described below. NOTE: common part of the result file format, which has already been explained, is omitted. { \"Frame\" : { \"FrameName\" : \"Frame number of t4_dataset used for evaluation\" , \"FrameSkip\" : \"Number of times that an object was requested to be evaluated but the evaluation was skipped because there was no ground truth in the dataset within 75msec\" , \"Detection\" : { \"Result\" : \"Success, Warn, Fail, or Skipped\" , \"Info\" : [ { \"Annotation\" : \"Annotated banding box information, position pose, and ID\" , \"PointCloud\" : \"Information on the evaluated point cloud, number of points in the bounding box and position of the nearest point from the base_link.\" } ] }, \"NonDetection\" : { \"Result\" : \"Success, Fail, or Skipped\" , \"Info\" : [ { \"PointCloud\" : \"Number of points out in the non-detection area and distribution by distance from the base_link.\" } ] }, \"StopReasons\" : \"Reasons for stopping output by the Planning module. Reference value\" , \"TopicRate\" : \"Result of diag indicating whether the output rate of the point cloud is normal or not.\" } }","title":"Evaluate point cloud generation"},{"location":"use_case/obstacle_segmentation/#evaluate-point-cloud-generation","text":"Evaluate if the Autoware point cloud generation process (if there is a connection between sensing and perception nodes) runs, and if data is being published to the /perception/obstacle_segmentation/pointcloud topic as intended. The following evaluations are performed simultaneously to check if point cloud published by perception nodes is valid. Check whether vehicles, pedestrians and other traffic participants, annotated in advance, are detected (detection step). Check whether extra point clouds appear in the overlapping area between the lane and the polygons around the vehicle defined in the scenario (non_detection step). It is also possible not to evaluate if null is specified as the evaluation condition. In other words, evaluation can be performed in the following three modes. evaluate detection and non_detection at the same time evaluate only detection (NonDetection: null) Evaluate only non_detection (Detection: null) The recommended annotation tool is Deepen , but any tool that supports conversion to t4_dataset format can be used. Multiple annotation tools can be used as long as a conversion tool can be created.","title":"Evaluate point cloud generation"},{"location":"use_case/obstacle_segmentation/#evaluation-method","text":"The obstacle segmentation evaluation is executed by launching the obstacle_segmentation.launch.py file. Launching the file executes the following steps: Launch C++ evaluation node, Python evaluation node, launch logging_simulator.launch file, and execute ros2 bag play command. Autoware receives sensor data output from input rosbag and outputs /perception/obstacle_segmentation/pointcloud topic. The C++ evaluation node subscribes /perception/obstacle_segmentation/pointcloud topic and calculates the polygon of the non-detection area at the time specified in the header. The non-detection area polygon along with a pointcloud is published to /driving_log_replayer/obstacle_segmentation/input topic. Python evaluation node subscribes /driving_log_replayer/obstacle_segmentation/input and evaluates data. The result is dumped into a file. When the playback of the rosbag is finished, Autoware's launch is automatically terminated, and the evaluation is completed.","title":"Evaluation method"},{"location":"use_case/obstacle_segmentation/#evaluation-result","text":"The results are calculated for each subscription. The format and available states are described below.","title":"Evaluation Result"},{"location":"use_case/obstacle_segmentation/#detection-normal","text":"If all of the following conditions are met, the evaluation is reported as normal: A bounding box with the UUID specified in the scenario must contain a point cloud (topic /perception/obstacle_segmentation/pointcloud ) with at least a number of points equal to the specified number. If multiple UUIDs are specified, the condition must be satisfied for all the specified bounding boxes. The output rate of the point cloud cannot be in error state (this data is provided by Autoware's diagnostic function). The default frequency value is 1.0Hz.","title":"Detection Normal"},{"location":"use_case/obstacle_segmentation/#detection-warning","text":"The state is achieved when the visibility of the bounding box with the UUID specified in the scenario is none (bounding box is occluded) and cannot be evaluated.","title":"Detection Warning"},{"location":"use_case/obstacle_segmentation/#detection-error","text":"The detection state is Error when neither conditions for Normal nor Warning state cannot be met.","title":"Detection Error"},{"location":"use_case/obstacle_segmentation/#non-detection-normal","text":"The state is Normal when no point is contained in the non-detection area, which is calculated by the C++ node in step 3 of the evaluation method.","title":"Non-Detection Normal"},{"location":"use_case/obstacle_segmentation/#non-detection-error","text":"The state is Error when any point was found in the non-detection area.","title":"Non-Detection Error"},{"location":"use_case/obstacle_segmentation/#topic-name-and-data-type-used-by-evaluation-node","text":"Subscribed topics: Topic name Data type /perception/obstacle_segmentation/pointcloud sensor_msgs::msg::PointCloud2 /diagnostics_agg diagnostic_msgs::msg::DiagnosticArray /map/vector_map autoware_auto_mapping_msgs::msg::HADMapBin /tf tf2_msgs/msg/TFMessage /planning/scenario_planning/status/stop_reasons tier4_planning_msgs::msg::StopReasonArray /planning/scenario_planning/trajectory autoware_auto_planning_msgs::msg::Trajectory Published topics: Topic name Data type /driving_log_replayer/obstacle_segmentation/input driving_log_replayer_msgs::msg:ObstacleSegmentationInput /driving_log_replayer/marker/detection visualization_msgs::msg::MarkerArray /driving_log_replayer/marker/non_detection visualization_msgs::msg::MarkerArray /driving_log_replayer/pcd/detection sensor_msgs::msg::PointCloud2 /driving_log_replayer/pcd/non_detection sensor_msgs::msg::PointCloud2 /planning/mission_planning/goal geometry_msgs::msg::PoseStamped","title":"Topic name and data type used by evaluation node"},{"location":"use_case/obstacle_segmentation/#arguments-passed-to-logging_simulatorlaunch","text":"To make Autoware processing less resource-consuming, modules that are not relevant to evaluation are disabled by passing the false parameter as a launch argument. The following parameters are set to false when launching the obstacle_segmentation evaluation scenario: localization: false control: false","title":"Arguments passed to logging_simulator.launch"},{"location":"use_case/obstacle_segmentation/#about-simulation","text":"State the information required to run the simulation.","title":"About simulation"},{"location":"use_case/obstacle_segmentation/#topic-to-be-included-in-the-input-rosbag","text":"Must contain the required topics in t4_dataset format.","title":"Topic to be included in the input rosbag"},{"location":"use_case/obstacle_segmentation/#about-evaluation","text":"State the information necessary for the evaluation.","title":"About Evaluation"},{"location":"use_case/obstacle_segmentation/#scenario-format","text":"Evaluation : UseCaseName : obstacle_segmentation UseCaseFormatVersion : 0.2.0 Datasets : - sample_dataset : VehicleId : default LocalMapPath : $HOME/autoware_map/sample-map-planning Conditions : Detection : # set `null` if Detection is not evaluated. PassRate : 99.0 # How much (%) of the evaluation attempts are considered successful. NonDetection : set `null` if NonDetection is not evaluated. PassRate : 99.0 # How much (%) of the evaluation attempts are considered successful. ProposedArea : # Non-detection area centered on the base_link with a single stroke polygon. polygon_2d : # Describe polygon in xy-plane in clockwise direction - [ 10.0 , 1.5 ] - [ 10.0 , -1.5 ] - [ 0.0 , -1.5 ] - [ 0.0 , 1.5 ] z_min : 0.0 # Lower z for 3D polygon z_max : 1.5 # Upper z for 3D polygon SensingEvaluationConfig : evaluation_config_dict : evaluation_task : sensing # fixed value target_uuids : # UUIDs of bounding box to be detected - dcb2b352232fff50c4fad23718f31611 box_scale_0m : 1.0 # Scaling factor to scale the bounding box according to distance. Value at 0m box_scale_100m : 1.0 # Scaling factor at 100m. Magnification is determined by linear completion according to distance from 0 to 100m min_points_threshold : 1 # Threshold of how many points must be in the bounding box to be successful.","title":"Scenario Format"},{"location":"use_case/obstacle_segmentation/#evaluation-result-format","text":"In obstacle_segmentation evaluation scenario, two types of checks, detection (Detection) and non-detection (NonDetection), are evaluated. Although they are evaluated simultaneously, in one callback function, they are counted separately. The Result is true if both detection and non-detection evaluation steps have passed. Otherwise the Result is false . An example of evaluation is described below. NOTE: common part of the result file format, which has already been explained, is omitted. { \"Frame\" : { \"FrameName\" : \"Frame number of t4_dataset used for evaluation\" , \"FrameSkip\" : \"Number of times that an object was requested to be evaluated but the evaluation was skipped because there was no ground truth in the dataset within 75msec\" , \"Detection\" : { \"Result\" : \"Success, Warn, Fail, or Skipped\" , \"Info\" : [ { \"Annotation\" : \"Annotated banding box information, position pose, and ID\" , \"PointCloud\" : \"Information on the evaluated point cloud, number of points in the bounding box and position of the nearest point from the base_link.\" } ] }, \"NonDetection\" : { \"Result\" : \"Success, Fail, or Skipped\" , \"Info\" : [ { \"PointCloud\" : \"Number of points out in the non-detection area and distribution by distance from the base_link.\" } ] }, \"StopReasons\" : \"Reasons for stopping output by the Planning module. Reference value\" , \"TopicRate\" : \"Result of diag indicating whether the output rate of the point cloud is normal or not.\" } }","title":"Evaluation Result Format"},{"location":"use_case/perception/","text":"Evaluate perception # The performance of Autoware's recognition function (perception) is evaluated by calculating mAP (mean Average Precision) and other indices from the recognition results. Run the perception module and pass the output perception topic to the evaluation library for evaluation. Evaluation method # The perception evaluation is executed by launching the perception.launch.py file. Launching the file executes the following steps: Execute launch of evaluation node ( perception_evaluator_node ), logging_simulator.launch file and ros2 bag play command Autoware receives sensor data output from input rosbag and outputs point cloud data, and the perception module performs recognition. The evaluation node subscribes to /perception/object_recognition/{detection, tracking}/objects and evaluates data. The result is dumped into a file. When the playback of the rosbag is finished, Autoware's launch is automatically terminated, and the evaluation is completed. Notes # Autoware's perception module is launched for the first time, it converts onnx files in lidar_centerpoint package. In step 1 of the evaluation method, there is a long, seemingly halting process as it waits for the conversion to complete. This is normal operation, so please do not stop with keyboard input, but wait as is. Evaluation results # The results are calculated for each subscription. The format and available states are described below. Perception Normal # If no object fail the evaluation function perception_eval ( frame_result.pass_fail_result.get_fail_object_num() == 0 ). Perception Error # The perception evaluation output is marked as Error when condition for Normal is not met. Topic name and data type used by evaluation node # Subscribed topics: Topic name Data type /perception/object_recognition/detection/objects autoware_auto_perception_msgs/msg/DetectedObjects /perception/object_recognition/tracking/objects autoware_auto_perception_msgs/msg/TrackedObjects Published topics: Topic name Data type /driving_log_replayer/marker/ground_truth visualization_msgs::msg::MarkerArray /driving_log_replayer/marker/results visualization_msgs::msg::MarkerArray Arguments passed to logging_simulator.launch # To make Autoware processing less resource-consuming, modules that are not relevant to evaluation are disabled by passing the false parameter as a launch argument. The following parameters are set to false when launching the perception evaluation scenario: localization: false planning: false control: false sensing: false / true (default value is false. Specify by LaunchSensing key for each t4_dataset in the scenario) NOTE: The tf in the bag is used to align the localization during annotation and simulation. Therefore, localization is invalid. Dependent libraries # The perception evaluation step bases on the perception_eval library. Division of roles of driving_log_replayer with dependent libraries # driving_log_replayer package is in charge of the connection with ROS. The actual perception evaluation is conducted in perception_eval library. The perception_eval is a ROS-independent library, it cannot receive ROS objects. Also, ROS timestamps use nanoseconds while the t4_dataset format is based on milliseconds (because it uses nuScenes ), so the values must be properly converted before using the library's functions. driving_log_replayer subscribes the topic output from the perception module of Autoware, converts it to the data format expected by perception_eval , and passes it on. It is also responsible for publishing and visualizing the evaluation results from perception_eval on proper ROS topic. perception_eval is in charge of the part that compares the detection results passed from driving_log_replayer with ground truth data, calculates the index, and outputs the results. About simulation # State the information required to run the simulation. Topic to be included in the input rosbag # Must contain the required topics in t4_dataset format. About Evaluation # State the information necessary for the evaluation. Scenario Format # There are two types of evaluation: use case evaluation and database evaluation. Use case evaluation is performed on a single dataset, while database evaluation uses multiple datasets and takes the average of the results for each dataset. In the database evaluation, the vehicle_id should be able to be set for each data set, since the calibration values may change. Also, it is necessary to set whether or not to activate the sensing module. Evaluation : UseCaseName : perception UseCaseFormatVersion : 0.3.0 Datasets : - sample_dataset : VehicleId : default LaunchSensing : false LocalMapPath : $HOME/autoware_map/sample-map-planning Conditions : PassRate : 99.0 # How much (%) of the evaluation attempts are considered successful. PerceptionEvaluationConfig : evaluation_config_dict : evaluation_task : detection # detection or tracking. Evaluate the objects specified here target_labels : [ car , bicycle , pedestrian , motorbike ] # evaluation label max_x_position : 102.4 # Maximum x position of object to be evaluated max_y_position : 102.4 # Maximum y position of object to be evaluated max_distance : null # Maximum distance from the base_link of the object to be evaluated. Exclusive use with max_x_potion, max_y_position. min_distance : null # Minimum distance from the base_link of the object to be evaluated. Exclusive use with max_x_potion, max_y_position. min_point_numbers : [ 0 , 0 , 0 , 0 ] # Minimum number of point clouds in bounding box for ground truth object. If min_point_numbers=0, all ground truth objects are evaluated confidence_threshold : null # Threshold of confidence for the estimated object to be evaluated target_uuids : null # If you want to evaluate only specific ground truths, specify the UUIDs of the ground truths to be evaluated. If null, use all center_distance_thresholds : [[ 1.0 , 1.0 , 1.0 , 1.0 ], [ 2.0 , 2.0 , 2.0 , 2.0 ]] # Threshold for center-to-center distance matching plane_distance_thresholds : [ 2.0 , 30.0 ] # Threshold for planar distance matching iou_bev_thresholds : [ 0.5 ] # Threshold for BEV IoU iou_3d_thresholds : [ 0.5 ] # Threshold for 3D IoU CriticalObjectFilterConfig : target_labels : [ car , bicycle , pedestrian , motorbike ] max_x_position_list : [ 30.0 , 30.0 , 30.0 , 30.0 ] max_y_position_list : [ 30.0 , 30.0 , 30.0 , 30.0 ] max_distance_list : null min_distance_list : null min_point_numbers : [ 0 , 0 , 0 , 0 ] confidence_threshold_list : null target_uuids : null PerceptionPassFailConfig : target_labels : [ car , bicycle , pedestrian , motorbike ] plane_distance_threshold_list : [ 2.0 , 2.0 , 2.0 , 2.0 ] Evaluation Result Format # The evaluation results by perception_eval under the conditions specified in the scenario are output for each frame. Only the final line has a different format from the other lines since the final metrics are calculated after all data has been flushed. The format of each frame and the metrics format are shown below. NOTE: common part of the result file format, which has already been explained, is omitted. Format of each frame: { \"Frame\" : { \"FrameName\" : \"Frame number of t4_dataset used for evaluation\" , \"FrameSkip\" : \"Number of times that an object was requested to be evaluated but the evaluation was skipped because there was no ground truth in the dataset within 75msec\" , \"PassFail\" : { \"Result\" : \"Success or Fail\" , \"Info\" : [ { \"TP\" : \"Number of TPs\" , \"FP\" : \"Number of FPs\" , \"FN\" : \"Number of FNs\" } ] } } } Metrics Data Format: { \"Frame\" : { \"FinalScore\" : { \"Score\" : { \"TP\" : \"TP rate of the label\" , \"FP\" : \"FP rate of the label\" , \"FN\" : \"FN rate of the label\" , \"AP\" : \"AP value of the label\" , \"APH\" : \"APH value of the label\" }, \"Error\" : { \"Label\" : \"Error metrics for the label\" } } } } pickle file # In database evaluation, it is necessary to replay multiple rosbags, but due to the ROS specification, it is impossible to use multiple bags in a single launch. Since one rosbag, i.e., one t4_dataset , requires one launch, it is necessary to execute as many launches as the number of datasets contained in the database evaluation. Since database evaluation cannot be done in a single launch, perception outputs a file scene_result.pkl in addition to result.jsonl file. A pickle file is a python object saved as a file, PerceptionEvaluationManager.frame_results of perception_eval . The dataset evaluation can be performed by reading all the objects recorded in the pickle file and outputting the index of the dataset's average. Result file of database evaluation # In the case of a database evaluation with multiple datasets in the scenario, a file named database_result.json is output to the results directory. The format is the same as the Metrics Data Format .","title":"Evaluate perception"},{"location":"use_case/perception/#evaluate-perception","text":"The performance of Autoware's recognition function (perception) is evaluated by calculating mAP (mean Average Precision) and other indices from the recognition results. Run the perception module and pass the output perception topic to the evaluation library for evaluation.","title":"Evaluate perception"},{"location":"use_case/perception/#evaluation-method","text":"The perception evaluation is executed by launching the perception.launch.py file. Launching the file executes the following steps: Execute launch of evaluation node ( perception_evaluator_node ), logging_simulator.launch file and ros2 bag play command Autoware receives sensor data output from input rosbag and outputs point cloud data, and the perception module performs recognition. The evaluation node subscribes to /perception/object_recognition/{detection, tracking}/objects and evaluates data. The result is dumped into a file. When the playback of the rosbag is finished, Autoware's launch is automatically terminated, and the evaluation is completed.","title":"Evaluation method"},{"location":"use_case/perception/#notes","text":"Autoware's perception module is launched for the first time, it converts onnx files in lidar_centerpoint package. In step 1 of the evaluation method, there is a long, seemingly halting process as it waits for the conversion to complete. This is normal operation, so please do not stop with keyboard input, but wait as is.","title":"Notes"},{"location":"use_case/perception/#evaluation-results","text":"The results are calculated for each subscription. The format and available states are described below.","title":"Evaluation results"},{"location":"use_case/perception/#perception-normal","text":"If no object fail the evaluation function perception_eval ( frame_result.pass_fail_result.get_fail_object_num() == 0 ).","title":"Perception Normal"},{"location":"use_case/perception/#perception-error","text":"The perception evaluation output is marked as Error when condition for Normal is not met.","title":"Perception Error"},{"location":"use_case/perception/#topic-name-and-data-type-used-by-evaluation-node","text":"Subscribed topics: Topic name Data type /perception/object_recognition/detection/objects autoware_auto_perception_msgs/msg/DetectedObjects /perception/object_recognition/tracking/objects autoware_auto_perception_msgs/msg/TrackedObjects Published topics: Topic name Data type /driving_log_replayer/marker/ground_truth visualization_msgs::msg::MarkerArray /driving_log_replayer/marker/results visualization_msgs::msg::MarkerArray","title":"Topic name and data type used by evaluation node"},{"location":"use_case/perception/#arguments-passed-to-logging_simulatorlaunch","text":"To make Autoware processing less resource-consuming, modules that are not relevant to evaluation are disabled by passing the false parameter as a launch argument. The following parameters are set to false when launching the perception evaluation scenario: localization: false planning: false control: false sensing: false / true (default value is false. Specify by LaunchSensing key for each t4_dataset in the scenario) NOTE: The tf in the bag is used to align the localization during annotation and simulation. Therefore, localization is invalid.","title":"Arguments passed to logging_simulator.launch"},{"location":"use_case/perception/#dependent-libraries","text":"The perception evaluation step bases on the perception_eval library.","title":"Dependent libraries"},{"location":"use_case/perception/#division-of-roles-of-driving_log_replayer-with-dependent-libraries","text":"driving_log_replayer package is in charge of the connection with ROS. The actual perception evaluation is conducted in perception_eval library. The perception_eval is a ROS-independent library, it cannot receive ROS objects. Also, ROS timestamps use nanoseconds while the t4_dataset format is based on milliseconds (because it uses nuScenes ), so the values must be properly converted before using the library's functions. driving_log_replayer subscribes the topic output from the perception module of Autoware, converts it to the data format expected by perception_eval , and passes it on. It is also responsible for publishing and visualizing the evaluation results from perception_eval on proper ROS topic. perception_eval is in charge of the part that compares the detection results passed from driving_log_replayer with ground truth data, calculates the index, and outputs the results.","title":"Division of roles of driving_log_replayer with dependent libraries"},{"location":"use_case/perception/#about-simulation","text":"State the information required to run the simulation.","title":"About simulation"},{"location":"use_case/perception/#topic-to-be-included-in-the-input-rosbag","text":"Must contain the required topics in t4_dataset format.","title":"Topic to be included in the input rosbag"},{"location":"use_case/perception/#about-evaluation","text":"State the information necessary for the evaluation.","title":"About Evaluation"},{"location":"use_case/perception/#scenario-format","text":"There are two types of evaluation: use case evaluation and database evaluation. Use case evaluation is performed on a single dataset, while database evaluation uses multiple datasets and takes the average of the results for each dataset. In the database evaluation, the vehicle_id should be able to be set for each data set, since the calibration values may change. Also, it is necessary to set whether or not to activate the sensing module. Evaluation : UseCaseName : perception UseCaseFormatVersion : 0.3.0 Datasets : - sample_dataset : VehicleId : default LaunchSensing : false LocalMapPath : $HOME/autoware_map/sample-map-planning Conditions : PassRate : 99.0 # How much (%) of the evaluation attempts are considered successful. PerceptionEvaluationConfig : evaluation_config_dict : evaluation_task : detection # detection or tracking. Evaluate the objects specified here target_labels : [ car , bicycle , pedestrian , motorbike ] # evaluation label max_x_position : 102.4 # Maximum x position of object to be evaluated max_y_position : 102.4 # Maximum y position of object to be evaluated max_distance : null # Maximum distance from the base_link of the object to be evaluated. Exclusive use with max_x_potion, max_y_position. min_distance : null # Minimum distance from the base_link of the object to be evaluated. Exclusive use with max_x_potion, max_y_position. min_point_numbers : [ 0 , 0 , 0 , 0 ] # Minimum number of point clouds in bounding box for ground truth object. If min_point_numbers=0, all ground truth objects are evaluated confidence_threshold : null # Threshold of confidence for the estimated object to be evaluated target_uuids : null # If you want to evaluate only specific ground truths, specify the UUIDs of the ground truths to be evaluated. If null, use all center_distance_thresholds : [[ 1.0 , 1.0 , 1.0 , 1.0 ], [ 2.0 , 2.0 , 2.0 , 2.0 ]] # Threshold for center-to-center distance matching plane_distance_thresholds : [ 2.0 , 30.0 ] # Threshold for planar distance matching iou_bev_thresholds : [ 0.5 ] # Threshold for BEV IoU iou_3d_thresholds : [ 0.5 ] # Threshold for 3D IoU CriticalObjectFilterConfig : target_labels : [ car , bicycle , pedestrian , motorbike ] max_x_position_list : [ 30.0 , 30.0 , 30.0 , 30.0 ] max_y_position_list : [ 30.0 , 30.0 , 30.0 , 30.0 ] max_distance_list : null min_distance_list : null min_point_numbers : [ 0 , 0 , 0 , 0 ] confidence_threshold_list : null target_uuids : null PerceptionPassFailConfig : target_labels : [ car , bicycle , pedestrian , motorbike ] plane_distance_threshold_list : [ 2.0 , 2.0 , 2.0 , 2.0 ]","title":"Scenario Format"},{"location":"use_case/perception/#evaluation-result-format","text":"The evaluation results by perception_eval under the conditions specified in the scenario are output for each frame. Only the final line has a different format from the other lines since the final metrics are calculated after all data has been flushed. The format of each frame and the metrics format are shown below. NOTE: common part of the result file format, which has already been explained, is omitted. Format of each frame: { \"Frame\" : { \"FrameName\" : \"Frame number of t4_dataset used for evaluation\" , \"FrameSkip\" : \"Number of times that an object was requested to be evaluated but the evaluation was skipped because there was no ground truth in the dataset within 75msec\" , \"PassFail\" : { \"Result\" : \"Success or Fail\" , \"Info\" : [ { \"TP\" : \"Number of TPs\" , \"FP\" : \"Number of FPs\" , \"FN\" : \"Number of FNs\" } ] } } } Metrics Data Format: { \"Frame\" : { \"FinalScore\" : { \"Score\" : { \"TP\" : \"TP rate of the label\" , \"FP\" : \"FP rate of the label\" , \"FN\" : \"FN rate of the label\" , \"AP\" : \"AP value of the label\" , \"APH\" : \"APH value of the label\" }, \"Error\" : { \"Label\" : \"Error metrics for the label\" } } } }","title":"Evaluation Result Format"},{"location":"use_case/perception/#pickle-file","text":"In database evaluation, it is necessary to replay multiple rosbags, but due to the ROS specification, it is impossible to use multiple bags in a single launch. Since one rosbag, i.e., one t4_dataset , requires one launch, it is necessary to execute as many launches as the number of datasets contained in the database evaluation. Since database evaluation cannot be done in a single launch, perception outputs a file scene_result.pkl in addition to result.jsonl file. A pickle file is a python object saved as a file, PerceptionEvaluationManager.frame_results of perception_eval . The dataset evaluation can be performed by reading all the objects recorded in the pickle file and outputting the index of the dataset's average.","title":"pickle file"},{"location":"use_case/perception/#result-file-of-database-evaluation","text":"In the case of a database evaluation with multiple datasets in the scenario, a file named database_result.json is output to the results directory. The format is the same as the Metrics Data Format .","title":"Result file of database evaluation"},{"location":"use_case/performance_diag/","text":"Evaluate diagnostics # Evaluate whether Autoware's diagnostics functionality behaves as expected. The following subjects of evaluation are currently supported: visibility: function to determine if visibility is impaired by fog, rain, etc. blockage: function to determine if leaves or other objects are attached to LiDAR and obstructing the measurement. Evaluation Method # The diagnostics evaluation is executed by launching the performance_diag.launch.py file. Launching the file executes the following steps: Execute launch of evaluation node ( performance_diag_evaluator_node ), logging_simulator.launch file and ros2 bag play command. Autoware receives sensor data output from the input rosbag and outputs the /diagnostics_agg topic. The evaluation node subscribes to /diagnostics_agg topic, and evaluates data. The result is dumped into a file. When the playback of the rosbag is finished, Autoware's launch is automatically terminated, and the evaluation is completed. visibility evaluation # The evaluation process confirms that more than a specified number of ERRORs for limited visibility are generated for rosbag input data obtained under rainy conditions (naturally or artificially generated). Also, using data obtained during sunny weather, it is confirmed that ERRORs are never generated. The status.name in /diagnostics_agg corresponding to /autoware/sensing/lidar/performance_monitoring/visibility/\\* is used for judgment. blockage evaluation # For blockage evaluation, acquire data with LiDAR intentionally covered with a material that will not pass the laser beam (for example box). The evaluation confirms that ERROR for blockage is output more than a certain number of times for the considered situation. The node will also confirm that no ERROR is generated for not covered LiDAR. The status.name in /diagnostics_agg corresponding to /autoware/sensing/lidar/performance_monitoring/blockage/* is used for judgment. Evaluation Result # For each LiDAR diagnostic subscription, the evaluation judgment will be published on the topics described below: Each output of the evaluation can be considered a success or a failure depending on what you want to evaluate. You can change this by describing the type in the scenario. If the scenario type is TP (true positive), it succeeds if the Diag state is ERROR. If the scenario type is FP (false positive), it succeeds if the Diag state is not ERROR. If the scenario type is null, the test is omitted. TP Normal # If the scenario type is TP and the level in the diagnostic information is ERROR TP Error # If the scenario type is TP and the level in the diagnostic information is not ERROR. FP Normal # If the scenario type is FP and the level in the diagnostic information is not ERROR. FP Error # If the scenario type is FP and the level in the diagnostic information is ERROR. Topic name and data type used by evaluation node # Subscribed topics: Topic name Data type /perception/obstacle_segmentation/pointcloud sensor_msgs::msg::PointCloud2 /diagnostics_agg diagnostic_msgs::msg::DiagnosticArray /tf tf2_msgs/msg/TFMessage Published topics: Topic name Data type /driving_log_replayer/visibility/value example_interfaces::msg::Float64 /driving_log_replayer/visibility/level example_interfaces::msg::Byte /driving_log_replayer/blockage/{lidar_name}/ground/ratio example_interfaces::msg::Float64 /driving_log_replayer/blockage/{lidar_name}/sky/ratio example_interfaces::msg::Float64 /driving_log_replayer/blockage/{lidar_name}/level example_interfaces::msg::Byte /initialpose geometry_msgs::msg::PoseWithCovarianceStamped {lidar_name} contains the name of the mounted lidar. Arguments passed to logging_simulator.launch # To make Autoware processing less resource-consuming, modules that are not relevant to evaluation are disabled by passing the false parameter as a launch argument. The following parameters are set to false when launching the performance_diag evaluation scenario: planning: false control: false localization: false / true (default value is false. Specify in scenario) About simulation # State the information required to run the simulation. Topic to be included in the input rosbag # The vehicle's ECU CAN and sensors data topics are required for the evaluation to be run correctly. The following example shows the topic list available in evaluation input rosbag when multiple LiDARs are used in a real-world vehicle configuration. /sensing/gnss/ublox/fix_velocity /sensing/gnss/ublox/nav_sat_fix /sensing/gnss/ublox/navpvt /sensing/imu/tamagawa/imu_raw /sensing/lidar/*/velodyne_packets /gsm8/from_can_bus /tf NOTE: If localization is false (false by default), /tf is required. Topics that must not be included in the input rosbag # /clock About Evaluation # State the information necessary for the evaluation. Scenario Format # Evaluation : UseCaseName : performance_diag UseCaseFormatVersion : 1.0.0 LaunchLocalization : false # If false, /tf in the bag is output; if true, /tf in the bag is remapped and disabled. InitialPose : null # Specifies the initial pose; only works when LaunchLocalization is enabled. Conditions : LiDAR : Visibility : PassFrameCount : 100 # When ScenarioType is TP, the Visibility test is considered successful if this number of ERRORs are generated; for FP, this condition is ignored because the test must not generate any ERRORs. ScenarioType : FP # TP/FP/null Blockage : front_lower : # Set for each on-board LiDAR ScenarioType : TP # TP/FP/null BlockageType : both # sky/ground/both Where is the blockage occurring? PassFrameCount : 100 # If ScenarioType is TP, Blockage type matches, and ERROR is generated at least this many times, the Blockage test is considered successful. for FP, this condition is ignored because the test must not generate any ERRORs. front_upper : ScenarioType : TP BlockageType : both PassFrameCount : 100 left_lower : ScenarioType : FP BlockageType : sky PassFrameCount : 30 left_upper : ScenarioType : FP BlockageType : both PassFrameCount : 40 rear_lower : ScenarioType : FP BlockageType : ground PassFrameCount : 50 rear_upper : ScenarioType : FP BlockageType : sky PassFrameCount : 60 right_lower : ScenarioType : FP BlockageType : both PassFrameCount : 70 right_upper : ScenarioType : FP BlockageType : ground PassFrameCount : 80 Evaluation Result Format # In performance_diag evaluation scenario visibility and blockage are evaluated. The Result is true if both visibility and blockage evaluation steps have passed. Otherwise, the Result is false . The result format is shown below. NOTE: common part of the result file format, which has already been explained, is omitted. { \"Frame\" : { \"Visibility\" : [ { \"Result\" : \"Success, Fail, Skipped\" , \"Info\" : [ { \"Level\" : \"Level of diag\" , \"Visibility\" : \"Value of visibility\" } ] } ], \"Blockage\" : [ { \"Result\" : \"Success, Fail, or Skipped\" , \"Info\" : [ { \"Name\" : \"Name of LiDAR\" , \"Level\" : \"Level of diag\" , \"GroundBlockageRatio\" : \"Ground blockage ratio\" , \"GroundBlockageCount\" : \"Ground blockage count. Reference\" , \"SkyBlockageRatio\" : \"Sky blockage ratio\" , \"SkyBlockageCount\" : \"Sky blockage count. Reference\" } ] } ] } }","title":"Evaluate diagnostics"},{"location":"use_case/performance_diag/#evaluate-diagnostics","text":"Evaluate whether Autoware's diagnostics functionality behaves as expected. The following subjects of evaluation are currently supported: visibility: function to determine if visibility is impaired by fog, rain, etc. blockage: function to determine if leaves or other objects are attached to LiDAR and obstructing the measurement.","title":"Evaluate diagnostics"},{"location":"use_case/performance_diag/#evaluation-method","text":"The diagnostics evaluation is executed by launching the performance_diag.launch.py file. Launching the file executes the following steps: Execute launch of evaluation node ( performance_diag_evaluator_node ), logging_simulator.launch file and ros2 bag play command. Autoware receives sensor data output from the input rosbag and outputs the /diagnostics_agg topic. The evaluation node subscribes to /diagnostics_agg topic, and evaluates data. The result is dumped into a file. When the playback of the rosbag is finished, Autoware's launch is automatically terminated, and the evaluation is completed.","title":"Evaluation Method"},{"location":"use_case/performance_diag/#visibility-evaluation","text":"The evaluation process confirms that more than a specified number of ERRORs for limited visibility are generated for rosbag input data obtained under rainy conditions (naturally or artificially generated). Also, using data obtained during sunny weather, it is confirmed that ERRORs are never generated. The status.name in /diagnostics_agg corresponding to /autoware/sensing/lidar/performance_monitoring/visibility/\\* is used for judgment.","title":"visibility evaluation"},{"location":"use_case/performance_diag/#blockage-evaluation","text":"For blockage evaluation, acquire data with LiDAR intentionally covered with a material that will not pass the laser beam (for example box). The evaluation confirms that ERROR for blockage is output more than a certain number of times for the considered situation. The node will also confirm that no ERROR is generated for not covered LiDAR. The status.name in /diagnostics_agg corresponding to /autoware/sensing/lidar/performance_monitoring/blockage/* is used for judgment.","title":"blockage evaluation"},{"location":"use_case/performance_diag/#evaluation-result","text":"For each LiDAR diagnostic subscription, the evaluation judgment will be published on the topics described below: Each output of the evaluation can be considered a success or a failure depending on what you want to evaluate. You can change this by describing the type in the scenario. If the scenario type is TP (true positive), it succeeds if the Diag state is ERROR. If the scenario type is FP (false positive), it succeeds if the Diag state is not ERROR. If the scenario type is null, the test is omitted.","title":"Evaluation Result"},{"location":"use_case/performance_diag/#tp-normal","text":"If the scenario type is TP and the level in the diagnostic information is ERROR","title":"TP Normal"},{"location":"use_case/performance_diag/#tp-error","text":"If the scenario type is TP and the level in the diagnostic information is not ERROR.","title":"TP Error"},{"location":"use_case/performance_diag/#fp-normal","text":"If the scenario type is FP and the level in the diagnostic information is not ERROR.","title":"FP Normal"},{"location":"use_case/performance_diag/#fp-error","text":"If the scenario type is FP and the level in the diagnostic information is ERROR.","title":"FP Error"},{"location":"use_case/performance_diag/#topic-name-and-data-type-used-by-evaluation-node","text":"Subscribed topics: Topic name Data type /perception/obstacle_segmentation/pointcloud sensor_msgs::msg::PointCloud2 /diagnostics_agg diagnostic_msgs::msg::DiagnosticArray /tf tf2_msgs/msg/TFMessage Published topics: Topic name Data type /driving_log_replayer/visibility/value example_interfaces::msg::Float64 /driving_log_replayer/visibility/level example_interfaces::msg::Byte /driving_log_replayer/blockage/{lidar_name}/ground/ratio example_interfaces::msg::Float64 /driving_log_replayer/blockage/{lidar_name}/sky/ratio example_interfaces::msg::Float64 /driving_log_replayer/blockage/{lidar_name}/level example_interfaces::msg::Byte /initialpose geometry_msgs::msg::PoseWithCovarianceStamped {lidar_name} contains the name of the mounted lidar.","title":"Topic name and data type used by evaluation node"},{"location":"use_case/performance_diag/#arguments-passed-to-logging_simulatorlaunch","text":"To make Autoware processing less resource-consuming, modules that are not relevant to evaluation are disabled by passing the false parameter as a launch argument. The following parameters are set to false when launching the performance_diag evaluation scenario: planning: false control: false localization: false / true (default value is false. Specify in scenario)","title":"Arguments passed to logging_simulator.launch"},{"location":"use_case/performance_diag/#about-simulation","text":"State the information required to run the simulation.","title":"About simulation"},{"location":"use_case/performance_diag/#topic-to-be-included-in-the-input-rosbag","text":"The vehicle's ECU CAN and sensors data topics are required for the evaluation to be run correctly. The following example shows the topic list available in evaluation input rosbag when multiple LiDARs are used in a real-world vehicle configuration. /sensing/gnss/ublox/fix_velocity /sensing/gnss/ublox/nav_sat_fix /sensing/gnss/ublox/navpvt /sensing/imu/tamagawa/imu_raw /sensing/lidar/*/velodyne_packets /gsm8/from_can_bus /tf NOTE: If localization is false (false by default), /tf is required.","title":"Topic to be included in the input rosbag"},{"location":"use_case/performance_diag/#topics-that-must-not-be-included-in-the-input-rosbag","text":"/clock","title":"Topics that must not be included in the input rosbag"},{"location":"use_case/performance_diag/#about-evaluation","text":"State the information necessary for the evaluation.","title":"About Evaluation"},{"location":"use_case/performance_diag/#scenario-format","text":"Evaluation : UseCaseName : performance_diag UseCaseFormatVersion : 1.0.0 LaunchLocalization : false # If false, /tf in the bag is output; if true, /tf in the bag is remapped and disabled. InitialPose : null # Specifies the initial pose; only works when LaunchLocalization is enabled. Conditions : LiDAR : Visibility : PassFrameCount : 100 # When ScenarioType is TP, the Visibility test is considered successful if this number of ERRORs are generated; for FP, this condition is ignored because the test must not generate any ERRORs. ScenarioType : FP # TP/FP/null Blockage : front_lower : # Set for each on-board LiDAR ScenarioType : TP # TP/FP/null BlockageType : both # sky/ground/both Where is the blockage occurring? PassFrameCount : 100 # If ScenarioType is TP, Blockage type matches, and ERROR is generated at least this many times, the Blockage test is considered successful. for FP, this condition is ignored because the test must not generate any ERRORs. front_upper : ScenarioType : TP BlockageType : both PassFrameCount : 100 left_lower : ScenarioType : FP BlockageType : sky PassFrameCount : 30 left_upper : ScenarioType : FP BlockageType : both PassFrameCount : 40 rear_lower : ScenarioType : FP BlockageType : ground PassFrameCount : 50 rear_upper : ScenarioType : FP BlockageType : sky PassFrameCount : 60 right_lower : ScenarioType : FP BlockageType : both PassFrameCount : 70 right_upper : ScenarioType : FP BlockageType : ground PassFrameCount : 80","title":"Scenario Format"},{"location":"use_case/performance_diag/#evaluation-result-format","text":"In performance_diag evaluation scenario visibility and blockage are evaluated. The Result is true if both visibility and blockage evaluation steps have passed. Otherwise, the Result is false . The result format is shown below. NOTE: common part of the result file format, which has already been explained, is omitted. { \"Frame\" : { \"Visibility\" : [ { \"Result\" : \"Success, Fail, Skipped\" , \"Info\" : [ { \"Level\" : \"Level of diag\" , \"Visibility\" : \"Value of visibility\" } ] } ], \"Blockage\" : [ { \"Result\" : \"Success, Fail, or Skipped\" , \"Info\" : [ { \"Name\" : \"Name of LiDAR\" , \"Level\" : \"Level of diag\" , \"GroundBlockageRatio\" : \"Ground blockage ratio\" , \"GroundBlockageCount\" : \"Ground blockage count. Reference\" , \"SkyBlockageRatio\" : \"Sky blockage ratio\" , \"SkyBlockageCount\" : \"Sky blockage count. Reference\" } ] } ] } }","title":"Evaluation Result Format"},{"location":"ja/","text":"Driving Log Replayer \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 # \u30da\u30fc\u30b8\u30c8\u30c3\u30d7\u306e \"\u6587 A\" \u30a2\u30a4\u30b3\u30f3\u304b\u3089\u8a00\u8a9e\u306e\u5207\u308a\u66ff\u3048\u304c\u53ef\u80fd\u3067\u3059\u3002 Driving Log Replayer \u306b\u3064\u3044\u3066 # Driving Log Replayer \u306f\u3001\u904e\u53bb\u306b\u8a18\u9332\u3055\u308c\u305f\u5165\u529b\u30c7\u30fc\u30bf\u3092\u3082\u3068\u306b Autoware.Universe \u306e\u6027\u80fd\u3092\u8a55\u4fa1\u3059\u308b ROS2 \u30d1\u30c3\u30b1\u30fc\u30b8\u3067\u3059\u3002 \u30b7\u30b9\u30c6\u30e0\u904b\u7528\u306e\u524d\u63d0\u6761\u4ef6\u3092\u5b9a\u7fa9\u3057\u3001\u305d\u306e\u6761\u4ef6\u3092\u6e80\u305f\u3057\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002","title":"Driving Log Replayer \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8"},{"location":"ja/#driving-log-replayer","text":"\u30da\u30fc\u30b8\u30c8\u30c3\u30d7\u306e \"\u6587 A\" \u30a2\u30a4\u30b3\u30f3\u304b\u3089\u8a00\u8a9e\u306e\u5207\u308a\u66ff\u3048\u304c\u53ef\u80fd\u3067\u3059\u3002","title":"Driving Log Replayer \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8"},{"location":"ja/#driving-log-replayer_1","text":"Driving Log Replayer \u306f\u3001\u904e\u53bb\u306b\u8a18\u9332\u3055\u308c\u305f\u5165\u529b\u30c7\u30fc\u30bf\u3092\u3082\u3068\u306b Autoware.Universe \u306e\u6027\u80fd\u3092\u8a55\u4fa1\u3059\u308b ROS2 \u30d1\u30c3\u30b1\u30fc\u30b8\u3067\u3059\u3002 \u30b7\u30b9\u30c6\u30e0\u904b\u7528\u306e\u524d\u63d0\u6761\u4ef6\u3092\u5b9a\u7fa9\u3057\u3001\u305d\u306e\u6761\u4ef6\u3092\u6e80\u305f\u3057\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002","title":"Driving Log Replayer \u306b\u3064\u3044\u3066"},{"location":"ja/analyzer/","text":"Driving Log Replayer Analyzer # Driving Log Replayer \u3067\u884c\u3063\u305f\u30c6\u30b9\u30c8\u306e\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u3092\u5206\u6790\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u3002 \u6ce8\u610f # \u958b\u767a\u4e2d\u3067\u3042\u308a\u3001\u73fe\u72b6\u3067\u306f obstacle_segmentation \u306e result.jsonl \u306e\u5206\u6790\u306e\u307f\u53ef\u80fd \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5 # driving_log_replayer_cli \u3068\u4e00\u7dd2\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b driving_log_replayer \u3068\u4e00\u7dd2\u306b ros \u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b \u69cb\u6210 # \u73fe\u72b6\u3001ROS \u306e\u6a5f\u80fd\u3092\u4f7f\u7528\u3057\u306a\u3044 python \u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u306a\u3063\u3066\u3044\u308b\u304c\u3001ROS \u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u3057\u3066\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b\u3002 perception \u8a55\u4fa1\u7528\u306e\u4f9d\u5b58\u30e9\u30a4\u30d6\u30e9\u30ea \u3068\u540c\u3058\u3088\u3046\u306b\u69cb\u6210\u3057\u3066\u3044\u308b\u3002 ROS \u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u3059\u308b\u7406\u7531 # Autoware Evaluator \u3067\u30d3\u30eb\u30c9\u3057\u3066\u5b9f\u884c\u3055\u308c\u308b\u3053\u3068\u3092\u8003\u3048\u308b\u3068\u3001pip \u306a\u3069\u3067\u5225\u9014\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u69cb\u6210\u306b\u3057\u3066\u3057\u307e\u3046\u3068\u30af\u30e9\u30a6\u30c9\u57fa\u76e4\u5074\u306b\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u5c0e\u5165\u3059\u308b\u305f\u3081\u306e\u7279\u5225\u306a\u51e6\u7406\u304c\u5fc5\u8981\u306b\u306a\u308b\u3002 ROS \u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u306a\u3063\u3066\u3044\u308c\u3070\u3001\u4ed6\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u81ea\u52d5\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b\u3002 \u4f7f\u3044\u65b9 # # python\u306ecli\u30b3\u30de\u30f3\u30c9\u3067\u4f7f\u3046\u5834\u5408 driving_log_replayer_analyzer ${ jsonl_path } -c ${ config_path } # ros2 launch\u304b\u3089\u4f7f\u3046\u3002\u3053\u3061\u3089\u306f\u5f8c\u3067\u6d88\u3059\u4e88\u5b9a ros2 launch driving_log_replayer obstacle_segmentation_analyze.launch.py result_json_path = ${ jsonl_path } \u3053\u308c\u304b\u3089\u3084\u308b # \u73fe\u72b6\u3067\u306f\u3001cli \u3068\u3001ros2 \u306e launch \u3067\u540c\u3058\u3053\u3068\u3092\u3084\u3063\u3066\u3044\u308b\u3060\u3051\u306b\u904e\u304e\u306a\u3044\u304c\u3001\u4eca\u5f8c\u7528\u9014\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5206\u3051\u3066\u3044\u304f\u3002 cli # \u30e6\u30fc\u30b6\u30fc\u304c\u30ed\u30fc\u30ab\u30eb\u3067\u5206\u6790\u3059\u308b\u305f\u3081\u306b\u5229\u7528\u3059\u308b jsonl \u304b\u3089\u5206\u6790\u7d50\u679c\u306e html \u3084\u753b\u50cf\u30d5\u30a1\u30a4\u30eb\u3092\u51fa\u529b\u3059\u308b\u305f\u3081\u306b\u5229\u7528\u3059\u308b ROS \u5074 # driving_log_replayer_analyzer \u3092 jsonl \u5206\u6790\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3068\u3057\u3066\u306e\u307f\u4f7f\u7528\u3059\u308b\u3002 pandas \u306e data frame \u3092 jsonl \u307e\u305f\u306f rosbag \u3067\u4fdd\u5b58\u3057\u3066\u304a\u304f\u3053\u3068\u3067\u3001Autoware Evaluator \u306e\u30d5\u30ed\u30f3\u30c8\u3067\u53ef\u8996\u5316\u3059\u308b\u305f\u3081\u306e\u5143\u30c7\u30fc\u30bf\u306b\u3059\u308b\u3002","title":"Driving Log Replayer Analyzer"},{"location":"ja/analyzer/#driving-log-replayer-analyzer","text":"Driving Log Replayer \u3067\u884c\u3063\u305f\u30c6\u30b9\u30c8\u306e\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u3092\u5206\u6790\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u3002","title":"Driving Log Replayer Analyzer"},{"location":"ja/analyzer/#_1","text":"\u958b\u767a\u4e2d\u3067\u3042\u308a\u3001\u73fe\u72b6\u3067\u306f obstacle_segmentation \u306e result.jsonl \u306e\u5206\u6790\u306e\u307f\u53ef\u80fd","title":"\u6ce8\u610f"},{"location":"ja/analyzer/#_2","text":"driving_log_replayer_cli \u3068\u4e00\u7dd2\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b driving_log_replayer \u3068\u4e00\u7dd2\u306b ros \u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5"},{"location":"ja/analyzer/#_3","text":"\u73fe\u72b6\u3001ROS \u306e\u6a5f\u80fd\u3092\u4f7f\u7528\u3057\u306a\u3044 python \u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u306a\u3063\u3066\u3044\u308b\u304c\u3001ROS \u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u3057\u3066\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b\u3002 perception \u8a55\u4fa1\u7528\u306e\u4f9d\u5b58\u30e9\u30a4\u30d6\u30e9\u30ea \u3068\u540c\u3058\u3088\u3046\u306b\u69cb\u6210\u3057\u3066\u3044\u308b\u3002","title":"\u69cb\u6210"},{"location":"ja/analyzer/#ros","text":"Autoware Evaluator \u3067\u30d3\u30eb\u30c9\u3057\u3066\u5b9f\u884c\u3055\u308c\u308b\u3053\u3068\u3092\u8003\u3048\u308b\u3068\u3001pip \u306a\u3069\u3067\u5225\u9014\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u69cb\u6210\u306b\u3057\u3066\u3057\u307e\u3046\u3068\u30af\u30e9\u30a6\u30c9\u57fa\u76e4\u5074\u306b\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u5c0e\u5165\u3059\u308b\u305f\u3081\u306e\u7279\u5225\u306a\u51e6\u7406\u304c\u5fc5\u8981\u306b\u306a\u308b\u3002 ROS \u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u306a\u3063\u3066\u3044\u308c\u3070\u3001\u4ed6\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u81ea\u52d5\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b\u3002","title":"ROS \u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u3059\u308b\u7406\u7531"},{"location":"ja/analyzer/#_4","text":"# python\u306ecli\u30b3\u30de\u30f3\u30c9\u3067\u4f7f\u3046\u5834\u5408 driving_log_replayer_analyzer ${ jsonl_path } -c ${ config_path } # ros2 launch\u304b\u3089\u4f7f\u3046\u3002\u3053\u3061\u3089\u306f\u5f8c\u3067\u6d88\u3059\u4e88\u5b9a ros2 launch driving_log_replayer obstacle_segmentation_analyze.launch.py result_json_path = ${ jsonl_path }","title":"\u4f7f\u3044\u65b9"},{"location":"ja/analyzer/#_5","text":"\u73fe\u72b6\u3067\u306f\u3001cli \u3068\u3001ros2 \u306e launch \u3067\u540c\u3058\u3053\u3068\u3092\u3084\u3063\u3066\u3044\u308b\u3060\u3051\u306b\u904e\u304e\u306a\u3044\u304c\u3001\u4eca\u5f8c\u7528\u9014\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5206\u3051\u3066\u3044\u304f\u3002","title":"\u3053\u308c\u304b\u3089\u3084\u308b"},{"location":"ja/analyzer/#cli","text":"\u30e6\u30fc\u30b6\u30fc\u304c\u30ed\u30fc\u30ab\u30eb\u3067\u5206\u6790\u3059\u308b\u305f\u3081\u306b\u5229\u7528\u3059\u308b jsonl \u304b\u3089\u5206\u6790\u7d50\u679c\u306e html \u3084\u753b\u50cf\u30d5\u30a1\u30a4\u30eb\u3092\u51fa\u529b\u3059\u308b\u305f\u3081\u306b\u5229\u7528\u3059\u308b","title":"cli"},{"location":"ja/analyzer/#ros_1","text":"driving_log_replayer_analyzer \u3092 jsonl \u5206\u6790\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3068\u3057\u3066\u306e\u307f\u4f7f\u7528\u3059\u308b\u3002 pandas \u306e data frame \u3092 jsonl \u307e\u305f\u306f rosbag \u3067\u4fdd\u5b58\u3057\u3066\u304a\u304f\u3053\u3068\u3067\u3001Autoware Evaluator \u306e\u30d5\u30ed\u30f3\u30c8\u3067\u53ef\u8996\u5316\u3059\u308b\u305f\u3081\u306e\u5143\u30c7\u30fc\u30bf\u306b\u3059\u308b\u3002","title":"ROS \u5074"},{"location":"ja/overview/command/","text":"\u30b3\u30de\u30f3\u30c9 # driving_log_replayer_cli \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u3001\u30bf\u30fc\u30df\u30ca\u30eb\u3067 driving_log_replayer \u3068\u3044\u3046\u30b3\u30de\u30f3\u30c9\u304c\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002 driving_log_replayer \u30b3\u30de\u30f3\u30c9\u306f\u3001\u30b5\u30d6\u30b3\u30de\u30f3\u30c9\u3092\u6301\u3063\u3066\u3044\u307e\u3059\u3002 \u5404\u30b3\u30de\u30f3\u30c9\u306b\u5fc5\u8981\u306a\u5f15\u6570\u306f --help \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u3068\u8868\u793a\u3067\u304d\u308b\u307e\u3059\u3002 # driving_log_replayer top level help driving_log_replayer --help # show version driving_log_replayer --version # show subcommand help driving_log_replayer subcommand --help # show subsubcommand help driving_log_replayer subcommand subsubcommand --help cli \u30b5\u30d6\u30b3\u30de\u30f3\u30c9 # \u30b5\u30d6\u30b3\u30de\u30f3\u30c9\u3068\u3057\u3066\u4ee5\u4e0b\u304c\u5b58\u5728\u3059\u308b configure simulation driving_log_replayer configure # \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb .driving_log_replayer.config.toml \u3092\u64cd\u4f5c\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3002 # -p\u3067\u6307\u5b9a\u3057\u305fprofile\u540d\u306bdata_directory\u3001output_directory\u3001autoware_path\u3092\u8a2d\u5b9a\u3059\u308b\u3002 # -p\u3092\u7701\u7565\u3057\u305f\u5834\u5408\u306fprofile\u540d\u306bdefault\u304c\u6307\u5b9a\u3055\u308c\u308b driving_log_replayer configure register -d ${ data_directory } -o ${ output_directory } -a ${ autoware_path } [ -p ${ profile } ] driving_log_replayer simulation # simulation \u3092\u5b9f\u884c\u3059\u308b\u30b3\u30de\u30f3\u30c9 # simulation \u5b9f\u884c\u3001jsonl\u3068json\u306e\u4e21\u65b9\u306e\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u304c\u51fa\u529b\u3055\u308c\u308b driving_log_replayer simulation run -p ${ profile } # simulation \u5b9f\u884c\u3001jsonl\u3092json\u306b\u5909\u63db\u3057\u306a\u3044 driving_log_replayer simulation run -p ${ profile } --no-json # \u7d50\u679c\u306e\u78ba\u8a8d\u3001output_directory\u4ee5\u4e0b\u306e\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u306e\u30b5\u30de\u30ea\u30fc\u3092\u8868\u793a\u3059\u308b driving_log_replayer simulation show-result ${ output_directory } # \u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u3092json\u306b\u5909\u63db\u3059\u308b driving_log_replayer simulation convert-result ${ output_directory } wasim \u306b\u3088\u308b driving_log_replayer \u5b9f\u884c # TIER IV \u304c\u63d0\u4f9b\u3057\u3066\u3044\u308b Autoware Evaluator \u3078 \u30a2\u30af\u30bb\u30b9\u6a29\u304c\u3042\u308b\u5834\u5408\u306f wasim \u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u308b\u3002 \u4f7f\u3044\u65b9\u306f \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30b5\u30a4\u30c8 \u3092\u53c2\u7167\u3002 wasim \u306f Autoware Evaluator \u304b\u3089\u30b7\u30ca\u30ea\u30aa\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u5b9f\u884c\u3059\u308b\u306e\u3067\u3001\u30af\u30e9\u30a6\u30c9\u74b0\u5883\u306b\u767b\u9332\u6e08\u307f\u306e\u30b7\u30ca\u30ea\u30aa\u3057\u304b\u5b9f\u884c\u51fa\u6765\u306a\u3044\u3002 \u30af\u30e9\u30a6\u30c9\u306b\u767b\u9332\u3057\u3066\u306a\u3044\u30b7\u30ca\u30ea\u30aa\u306f driving_log_replayer_cli \u3092\u4f7f\u7528\u3059\u308b\u3002","title":"\u30b3\u30de\u30f3\u30c9"},{"location":"ja/overview/command/#_1","text":"driving_log_replayer_cli \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u3001\u30bf\u30fc\u30df\u30ca\u30eb\u3067 driving_log_replayer \u3068\u3044\u3046\u30b3\u30de\u30f3\u30c9\u304c\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002 driving_log_replayer \u30b3\u30de\u30f3\u30c9\u306f\u3001\u30b5\u30d6\u30b3\u30de\u30f3\u30c9\u3092\u6301\u3063\u3066\u3044\u307e\u3059\u3002 \u5404\u30b3\u30de\u30f3\u30c9\u306b\u5fc5\u8981\u306a\u5f15\u6570\u306f --help \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u3068\u8868\u793a\u3067\u304d\u308b\u307e\u3059\u3002 # driving_log_replayer top level help driving_log_replayer --help # show version driving_log_replayer --version # show subcommand help driving_log_replayer subcommand --help # show subsubcommand help driving_log_replayer subcommand subsubcommand --help","title":"\u30b3\u30de\u30f3\u30c9"},{"location":"ja/overview/command/#cli","text":"\u30b5\u30d6\u30b3\u30de\u30f3\u30c9\u3068\u3057\u3066\u4ee5\u4e0b\u304c\u5b58\u5728\u3059\u308b configure simulation","title":"cli \u30b5\u30d6\u30b3\u30de\u30f3\u30c9"},{"location":"ja/overview/command/#driving_log_replayer-configure","text":"\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb .driving_log_replayer.config.toml \u3092\u64cd\u4f5c\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3002 # -p\u3067\u6307\u5b9a\u3057\u305fprofile\u540d\u306bdata_directory\u3001output_directory\u3001autoware_path\u3092\u8a2d\u5b9a\u3059\u308b\u3002 # -p\u3092\u7701\u7565\u3057\u305f\u5834\u5408\u306fprofile\u540d\u306bdefault\u304c\u6307\u5b9a\u3055\u308c\u308b driving_log_replayer configure register -d ${ data_directory } -o ${ output_directory } -a ${ autoware_path } [ -p ${ profile } ]","title":"driving_log_replayer configure"},{"location":"ja/overview/command/#driving_log_replayer-simulation","text":"simulation \u3092\u5b9f\u884c\u3059\u308b\u30b3\u30de\u30f3\u30c9 # simulation \u5b9f\u884c\u3001jsonl\u3068json\u306e\u4e21\u65b9\u306e\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u304c\u51fa\u529b\u3055\u308c\u308b driving_log_replayer simulation run -p ${ profile } # simulation \u5b9f\u884c\u3001jsonl\u3092json\u306b\u5909\u63db\u3057\u306a\u3044 driving_log_replayer simulation run -p ${ profile } --no-json # \u7d50\u679c\u306e\u78ba\u8a8d\u3001output_directory\u4ee5\u4e0b\u306e\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u306e\u30b5\u30de\u30ea\u30fc\u3092\u8868\u793a\u3059\u308b driving_log_replayer simulation show-result ${ output_directory } # \u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u3092json\u306b\u5909\u63db\u3059\u308b driving_log_replayer simulation convert-result ${ output_directory }","title":"driving_log_replayer simulation"},{"location":"ja/overview/command/#wasim-driving_log_replayer","text":"TIER IV \u304c\u63d0\u4f9b\u3057\u3066\u3044\u308b Autoware Evaluator \u3078 \u30a2\u30af\u30bb\u30b9\u6a29\u304c\u3042\u308b\u5834\u5408\u306f wasim \u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u308b\u3002 \u4f7f\u3044\u65b9\u306f \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30b5\u30a4\u30c8 \u3092\u53c2\u7167\u3002 wasim \u306f Autoware Evaluator \u304b\u3089\u30b7\u30ca\u30ea\u30aa\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u5b9f\u884c\u3059\u308b\u306e\u3067\u3001\u30af\u30e9\u30a6\u30c9\u74b0\u5883\u306b\u767b\u9332\u6e08\u307f\u306e\u30b7\u30ca\u30ea\u30aa\u3057\u304b\u5b9f\u884c\u51fa\u6765\u306a\u3044\u3002 \u30af\u30e9\u30a6\u30c9\u306b\u767b\u9332\u3057\u3066\u306a\u3044\u30b7\u30ca\u30ea\u30aa\u306f driving_log_replayer_cli \u3092\u4f7f\u7528\u3059\u308b\u3002","title":"wasim \u306b\u3088\u308b driving_log_replayer \u5b9f\u884c"},{"location":"ja/overview/","text":"\u6982\u8981 # Driving Log Replayer \u306f\u3001log(rosbag2)\u3092\u7528\u3044\u3066 Autoware \u306e open loop simulation \u3092\u5b9f\u884c\u3057\u3001Autoware \u304c\u51fa\u529b\u3059\u308b\u30c8\u30d4\u30c3\u30af\u3092\u8a55\u4fa1\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u3067\u3059\u3002 Sensing, Localization, Perception \u306e\u6027\u80fd\u78ba\u8a8d\u3068\u3001\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u30ea\u30b0\u30ec\u30c3\u30b7\u30e7\u30f3\u30c6\u30b9\u30c8\u306b\u4f7f\u7528\u3057\u307e\u3059\u3002 \u95a2\u9023\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 # AutowareDocumentation WebAutoDocumentation \u95a2\u9023\u30ea\u30dd\u30b8\u30c8\u30ea # ros2bag_extensions perception_eval \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3 # Driving Log Replayer \u306f\u3001Autoware \u306e\u8a55\u4fa1\u30ce\u30fc\u30c9\u3092 Autoware \u306e\u6a19\u6e96\u6a5f\u80fd\u306b\u4ed8\u52a0\u3057\u305f\u69cb\u6210\u3068\u306a\u3063\u3066\u3044\u308b\u3002 \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u56f3\u3092\u4ee5\u4e0b\u306b\u793a\u3059\u3002 \u30d1\u30c3\u30b1\u30fc\u30b8\u69cb\u6210 # Driving Log Replayer \u306e\u8a55\u4fa1\u30ce\u30fc\u30c9\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u52d5\u4f5c\u3057\u307e\u3059\u3002 \u8a55\u4fa1\u306e\u6761\u4ef6\u304c\u8a18\u8f09\u3055\u308c\u305f\u30b7\u30ca\u30ea\u30aa\u3092\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u8aad\u307f\u53d6\u308b autoware \u3092\u8d77\u52d5\u3059\u308b \u8a55\u4fa1\u7d50\u679c\u3092 jsonl \u30d5\u30a1\u30a4\u30eb\u5f62\u5f0f\u3067\u51fa\u529b\u3059\u308b \u30ce\u30fc\u30c9\u306e\u52d5\u4f5c\u306e\u8a73\u7d30\u3092\u4e0b\u56f3\u306b\u793a\u3059\u3002 \u5229\u7528\u30d5\u30ed\u30fc # \u8a55\u4fa1\u7528\u306e rosbag \u3092\u5b9f\u8eca\u3067\u53d6\u5f97\u3059\u308b \u53d6\u5f97\u3057\u305f rosbag \u3092\u5fc5\u8981\u306a\u6642\u9593\u3001topic \u3060\u3051\u6b8b\u308b\u3088\u3046\u306b\u30d5\u30a3\u30eb\u30bf\u3059\u308b \u30d5\u30a3\u30eb\u30bf\u51e6\u7406\u306b\u306f TIER IV \u3067\u958b\u767a\u3057\u305f ros2bag_extensions \u3092\u4f7f\u7528\u3059\u308b /tf \u3092\u9664\u304d\u53ce\u9332\u6642\u306b autoware \u304c\u51fa\u529b\u3057\u305f\u30c8\u30d4\u30c3\u30af\u3092\u843d\u3068\u3059\u3002\u30bb\u30f3\u30b5\u30fc\u306e\u30c8\u30d4\u30c3\u30af\u3060\u3051\u3092\u6b8b\u3059 \u81ea\u5df1\u4f4d\u7f6e\u5408\u308f\u305b\u306e\u305f\u3081\u306b\u8d70\u884c\u524d\u306b 10 \u79d2\u505c\u8eca\u3057\u3066\u3044\u308b\u6642\u9593\u3092\u6b8b\u3057\u3066\u304a\u304f \u30b7\u30ca\u30ea\u30aa\u3092\u4f5c\u6210\u3059\u308b sample folder \u5185\u306b\u30b7\u30ca\u30ea\u30aa\u306e\u4f8b\u3042\u308a \u8a18\u8ff0\u5185\u5bb9\u306f \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u5b9a\u7fa9 \u3092\u53c2\u7167 \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u304c obstacle_segmentation, perception \u306e\u5834\u5408\u3001t4_dataset \u3078\u306e\u5909\u63db\u306b\u5bfe\u5fdc\u3057\u305f\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u30c4\u30fc\u30eb\u3067\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u65bd\u3059\u308b\u3002 t4_dataset \u5909\u63db\u30c4\u30fc\u30eb\u306f\u516c\u958b\u6e96\u5099\u4e2d \u8a55\u4fa1\u3092\u5b9f\u884c\u3059\u308b\u3002","title":"\u6982\u8981"},{"location":"ja/overview/#_1","text":"Driving Log Replayer \u306f\u3001log(rosbag2)\u3092\u7528\u3044\u3066 Autoware \u306e open loop simulation \u3092\u5b9f\u884c\u3057\u3001Autoware \u304c\u51fa\u529b\u3059\u308b\u30c8\u30d4\u30c3\u30af\u3092\u8a55\u4fa1\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u3067\u3059\u3002 Sensing, Localization, Perception \u306e\u6027\u80fd\u78ba\u8a8d\u3068\u3001\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u30ea\u30b0\u30ec\u30c3\u30b7\u30e7\u30f3\u30c6\u30b9\u30c8\u306b\u4f7f\u7528\u3057\u307e\u3059\u3002","title":"\u6982\u8981"},{"location":"ja/overview/#_2","text":"AutowareDocumentation WebAutoDocumentation","title":"\u95a2\u9023\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8"},{"location":"ja/overview/#_3","text":"ros2bag_extensions perception_eval","title":"\u95a2\u9023\u30ea\u30dd\u30b8\u30c8\u30ea"},{"location":"ja/overview/#_4","text":"Driving Log Replayer \u306f\u3001Autoware \u306e\u8a55\u4fa1\u30ce\u30fc\u30c9\u3092 Autoware \u306e\u6a19\u6e96\u6a5f\u80fd\u306b\u4ed8\u52a0\u3057\u305f\u69cb\u6210\u3068\u306a\u3063\u3066\u3044\u308b\u3002 \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u56f3\u3092\u4ee5\u4e0b\u306b\u793a\u3059\u3002","title":"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3"},{"location":"ja/overview/#_5","text":"Driving Log Replayer \u306e\u8a55\u4fa1\u30ce\u30fc\u30c9\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u52d5\u4f5c\u3057\u307e\u3059\u3002 \u8a55\u4fa1\u306e\u6761\u4ef6\u304c\u8a18\u8f09\u3055\u308c\u305f\u30b7\u30ca\u30ea\u30aa\u3092\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u8aad\u307f\u53d6\u308b autoware \u3092\u8d77\u52d5\u3059\u308b \u8a55\u4fa1\u7d50\u679c\u3092 jsonl \u30d5\u30a1\u30a4\u30eb\u5f62\u5f0f\u3067\u51fa\u529b\u3059\u308b \u30ce\u30fc\u30c9\u306e\u52d5\u4f5c\u306e\u8a73\u7d30\u3092\u4e0b\u56f3\u306b\u793a\u3059\u3002","title":"\u30d1\u30c3\u30b1\u30fc\u30b8\u69cb\u6210"},{"location":"ja/overview/#_6","text":"\u8a55\u4fa1\u7528\u306e rosbag \u3092\u5b9f\u8eca\u3067\u53d6\u5f97\u3059\u308b \u53d6\u5f97\u3057\u305f rosbag \u3092\u5fc5\u8981\u306a\u6642\u9593\u3001topic \u3060\u3051\u6b8b\u308b\u3088\u3046\u306b\u30d5\u30a3\u30eb\u30bf\u3059\u308b \u30d5\u30a3\u30eb\u30bf\u51e6\u7406\u306b\u306f TIER IV \u3067\u958b\u767a\u3057\u305f ros2bag_extensions \u3092\u4f7f\u7528\u3059\u308b /tf \u3092\u9664\u304d\u53ce\u9332\u6642\u306b autoware \u304c\u51fa\u529b\u3057\u305f\u30c8\u30d4\u30c3\u30af\u3092\u843d\u3068\u3059\u3002\u30bb\u30f3\u30b5\u30fc\u306e\u30c8\u30d4\u30c3\u30af\u3060\u3051\u3092\u6b8b\u3059 \u81ea\u5df1\u4f4d\u7f6e\u5408\u308f\u305b\u306e\u305f\u3081\u306b\u8d70\u884c\u524d\u306b 10 \u79d2\u505c\u8eca\u3057\u3066\u3044\u308b\u6642\u9593\u3092\u6b8b\u3057\u3066\u304a\u304f \u30b7\u30ca\u30ea\u30aa\u3092\u4f5c\u6210\u3059\u308b sample folder \u5185\u306b\u30b7\u30ca\u30ea\u30aa\u306e\u4f8b\u3042\u308a \u8a18\u8ff0\u5185\u5bb9\u306f \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u5b9a\u7fa9 \u3092\u53c2\u7167 \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u304c obstacle_segmentation, perception \u306e\u5834\u5408\u3001t4_dataset \u3078\u306e\u5909\u63db\u306b\u5bfe\u5fdc\u3057\u305f\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u30c4\u30fc\u30eb\u3067\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u65bd\u3059\u308b\u3002 t4_dataset \u5909\u63db\u30c4\u30fc\u30eb\u306f\u516c\u958b\u6e96\u5099\u4e2d \u8a55\u4fa1\u3092\u5b9f\u884c\u3059\u308b\u3002","title":"\u5229\u7528\u30d5\u30ed\u30fc"},{"location":"ja/overview/setup/","text":"\u8a2d\u5b9a # driving_log_replayer \u3092\u5229\u7528\u3059\u308b\u306e\u306b\u5fc5\u8981\u306a\u8a2d\u5b9a\u3092\u8ff0\u3079\u308b\u3002 cli \u306e\u8a2d\u5b9a # driving_log_replayer_cli \u3067\u306f\u3001cli \u306b\u6e21\u3059\u5f15\u6570\u3092\u5c11\u306a\u304f\u3059\u308b\u305f\u3081\u306b\u5f15\u6570\u306b\u6307\u5b9a\u3059\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u8f09\u3057\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u8aad\u307f\u8fbc\u3080\u5f62\u5f0f\u3092\u53d6\u308b\u3002 \u3088\u3063\u3066 cli \u3092\u4f7f\u3046\u524d\u306b\u4ee5\u4e0b\u306e\u5f62\u5f0f\u3067$HOME/.driving_log_replayer.config.toml \u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066\u304a\u304f\u3002 \u624b\u52d5\u3067\u4f5c\u6210\u3001\u3082\u3057\u304f\u306f driving_log_replayer configure \u30b3\u30de\u30f3\u30c9\u3067\u4f5c\u6210\u3059\u308b\u3002 # \u624b\u52d5\u3067\u4f5c\u6210 nano $HOME /.driving_log_replayer.config.toml # cli\u3067\u4f5c\u6210 driving_log_replayer configure register -d ${ data_directory } -o ${ output_directory } -a ${ autoware_path } [ -p ${ profile } ] profile \u306f\u6700\u4f4e 1 \u3064\u5fc5\u8981\u3067\u30011 \u3064\u306f default \u3068\u3044\u3046\u540d\u524d\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002 \u4ee5\u964d\u3067\u8aac\u660e\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3067-p ${profile}\u3067 profile \u540d\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306b\u6307\u5b9a\u3057\u305f\u8a2d\u5b9a\u304c\u8aad\u307f\u8fbc\u307e\u308c\u308b\u3002 \u8907\u6570\u306e autoware \u3092\u5207\u308a\u66ff\u3048\u3066\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u3001\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3092\u4f55\u3082\u6307\u5b9a\u3057\u306a\u3044\u5834\u5408\u306f default \u304c\u4f7f\u7528\u3055\u308c\u308b\u3002 [profile_name] data_directory = \"\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u5165\u529b\u306b\u4f7f\u3046\u30c7\u30fc\u30bf\u30d5\u30a9\u30eb\u30c0\u306e\u30d1\u30b9\" output_directory = \"\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u7d50\u679c\u3092\u51fa\u529b\u3059\u308b\u30d5\u30a9\u30eb\u30c0\u306e\u30d1\u30b9\" autoware_path = \"autoware\u306e\u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9\u306e\u30d1\u30b9\" \u8a2d\u5b9a\u4f8b # default\u306f\u5fc5\u305a\u5fc5\u8981\u3001profile\u540d\u3092\u7701\u7565\u3057\u305f\u3068\u304d\u306b\u9078\u629e\u3055\u308c\u308b [default] data_directory = \"$HOME/driving_log_replayer_data/default\" output_directory = \"$HOME/driving_log_replayer_output/default\" autoware_path = \"$HOME/autoware\" [localization] data_directory = \"$HOME/driving_log_replayer_data/localization\" output_directory = \"$HOME/driving_log_replayer_output/localization\" autoware_path = \"$HOME/autoware\" [obstacle_segmentation] data_directory = \"$HOME/driving_log_replayer_data/obstacle_segmentation\" output_directory = \"$HOME/driving_log_replayer_output/obstacle_segmentation\" autoware_path = \"$HOME/autoware\" [perception] data_directory = \"$HOME/driving_log_replayer_data/perception\" output_directory = \"$HOME/driving_log_replayer_output/perception\" autoware_path = \"$HOME/autoware\" \u30d5\u30a9\u30eb\u30c0\u69cb\u6210\u3001\u30d5\u30a1\u30a4\u30eb\u547d\u540d\u898f\u5247 # driving_log_replayer \u304c\u671f\u5f85\u3059\u308b\u30d5\u30a9\u30eb\u30c0\u69cb\u6210\u3001\u30d5\u30a1\u30a4\u30eb\u547d\u540d\u898f\u5247\u306b\u3064\u3044\u3066\u89e3\u8aac\u3059\u308b\u3002 driving_log_replayer \u3067\u306f\u3001\u30d5\u30a9\u30eb\u30c0\u69cb\u6210\u3001\u30d5\u30a1\u30a4\u30eb\u540d\u306a\u3069\u3092\u56fa\u5b9a\u306b\u3059\u308b\u3053\u3068\u3067\u3001\u30b7\u30ca\u30ea\u30aa\u306b\u8a18\u8ff0\u3059\u308b\u30d1\u30b9\u3084\u3001\u30b3\u30de\u30f3\u30c9\u306b\u6e21\u3059\u5f15\u6570\u3092\u5c11\u306a\u304f\u3057\u3066\u3044\u308b\u3002 \u307e\u305f\u3001 data_directory \u306b\u8907\u6570\u306e\u30d5\u30a9\u30eb\u30c0\u3092\u7f6e\u304f\u3053\u3068\u3067\u3001\u8907\u6570\u306e\u30c6\u30b9\u30c8\u3092\u9023\u7d9a\u3067\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u3002 \u30c7\u30fc\u30bf\u30d5\u30a9\u30eb\u30c0 # \u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u4f7f\u7528\u3059\u308b\u30ea\u30bd\u30fc\u30b9\u3092\u4fdd\u5b58\u3057\u3066\u304a\u304f\u30d5\u30a9\u30eb\u30c0\u3002 \u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u6bce\u306b\u3001\u30b7\u30ca\u30ea\u30aa\u3068\u3001bag\u3001dataset \u3092\u914d\u7f6e\u3059\u308b\u3002 localization, performance_diag \u306e\u30c7\u30fc\u30bf\u30d5\u30a9\u30eb\u30c0\u69cb\u6210 # driving_log_replayer_data // .driving_log_replayer.config \u306e data_directory \u2502 \u251c\u2500\u2500 TC001 // \u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u30c7\u30a3\u30ec\u30af\u30c8\u30ea \u4efb\u610f\u306e\u540d\u79f0\u3092\u3064\u3051\u3066\u3088\u3044 \u2502 \u251c\u2500\u2500 scenario.yaml // \u30b7\u30ca\u30ea\u30aa \u2502 \u2514\u2500\u2500 input_bag // \u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u304c\u53ce\u9332\u3055\u308c\u305f\u5165\u529b\u7528\u306ebag \u2502 \u251c\u2500\u2500 input_bag_0.db3 // bag\u306e\u30d0\u30a4\u30ca\u30ea\u30d5\u30a1\u30a4\u30eb \u2502 \u2514\u2500\u2500 metadata.yaml // bag\u306emetadata \u2502 \u251c\u2500\u2500 TC002 // \u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u30c7\u30a3\u30ec\u30af\u30c8\u30ea S001\u3068\u69cb\u6210\u306f\u540c\u3058 ... obstacle_segmentation, perception \u306e\u30c7\u30fc\u30bf\u30d5\u30a9\u30eb\u30c0\u69cb\u6210 # driving_log_replayer_data // .driving_log_replayer.config \u306e data_directory \u2502 \u251c\u2500\u2500 TC001 // \u30b7\u30ca\u30ea\u30aa\u30c7\u30a3\u30ec\u30af\u30c8\u30ea \u4efb\u610f\u306e\u540d\u79f0\u3092\u3064\u3051\u3066\u3088\u3044 \u2502 \u251c\u2500\u2500 scenario.yaml // \u30b7\u30ca\u30ea\u30aa \u2502 \u2514\u2500\u2500 t4_dataset \u2502 \u251c\u2500\u2500 T4D001 // t4_dataset\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3001sensing\u306e\u5834\u5408\u306f1\u500b \u2502 \u2502 \u251c\u2500\u2500 annotation \u2502 \u2502 \u251c\u2500\u2500 data \u2502 \u2502 \u2502 \u2514\u2500\u2500 LIDAR_CONCAT \u2502 \u2502 \u2514\u2500\u2500 input_bag \u2502 \u2514\u2500\u2500 T4D002 // t4_dataset\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3001perception\u306e\u5834\u5408\u306f\u8907\u6570\u500b\u6301\u3066\u308b \u2502 \u251c\u2500\u2500 annotation \u2502 \u251c\u2500\u2500 data \u2502 \u2502 \u2514\u2500\u2500 LIDAR_CONCAT \u2502 \u2514\u2500\u2500 input_bag \u2502 ... \u2502 \u251c\u2500\u2500 TC002 // \u30b7\u30ca\u30ea\u30aa\u30c7\u30a3\u30ec\u30af\u30c8\u30ea S001\u3068\u69cb\u6210\u306f\u540c\u3058 ... \u30de\u30c3\u30d7\u30d5\u30a9\u30eb\u30c0 # \u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u4f7f\u7528\u3059\u308b\u5730\u56f3\u3092\u4fdd\u5b58\u3057\u3066\u304a\u304f\u30d5\u30a9\u30eb\u30c0\u3002 autoware_map \u2502 \u251c\u2500\u2500 LocalMapPath1 // \u30b7\u30ca\u30ea\u30aa\u306eLocalMapPath\u3067\u6307\u5b9a\u3059\u308b\u30d1\u30b9 \u2502 \u251c\u2500\u2500 lanelet2_map.osm // lanelet\u30d5\u30a1\u30a4\u30eb \u2502 \u2514\u2500\u2500 pointcloud_map.pcd // pcd\u30d5\u30a1\u30a4\u30eb \u2502 \u251c\u2500\u2500 LocalMapPath2 // \u30b7\u30ca\u30ea\u30aa\u306eLocalMapPath\u3067\u6307\u5b9a\u3059\u308b\u30d1\u30b9 ...","title":"\u8a2d\u5b9a"},{"location":"ja/overview/setup/#_1","text":"driving_log_replayer \u3092\u5229\u7528\u3059\u308b\u306e\u306b\u5fc5\u8981\u306a\u8a2d\u5b9a\u3092\u8ff0\u3079\u308b\u3002","title":"\u8a2d\u5b9a"},{"location":"ja/overview/setup/#cli","text":"driving_log_replayer_cli \u3067\u306f\u3001cli \u306b\u6e21\u3059\u5f15\u6570\u3092\u5c11\u306a\u304f\u3059\u308b\u305f\u3081\u306b\u5f15\u6570\u306b\u6307\u5b9a\u3059\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u8f09\u3057\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u8aad\u307f\u8fbc\u3080\u5f62\u5f0f\u3092\u53d6\u308b\u3002 \u3088\u3063\u3066 cli \u3092\u4f7f\u3046\u524d\u306b\u4ee5\u4e0b\u306e\u5f62\u5f0f\u3067$HOME/.driving_log_replayer.config.toml \u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066\u304a\u304f\u3002 \u624b\u52d5\u3067\u4f5c\u6210\u3001\u3082\u3057\u304f\u306f driving_log_replayer configure \u30b3\u30de\u30f3\u30c9\u3067\u4f5c\u6210\u3059\u308b\u3002 # \u624b\u52d5\u3067\u4f5c\u6210 nano $HOME /.driving_log_replayer.config.toml # cli\u3067\u4f5c\u6210 driving_log_replayer configure register -d ${ data_directory } -o ${ output_directory } -a ${ autoware_path } [ -p ${ profile } ] profile \u306f\u6700\u4f4e 1 \u3064\u5fc5\u8981\u3067\u30011 \u3064\u306f default \u3068\u3044\u3046\u540d\u524d\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002 \u4ee5\u964d\u3067\u8aac\u660e\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3067-p ${profile}\u3067 profile \u540d\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306b\u6307\u5b9a\u3057\u305f\u8a2d\u5b9a\u304c\u8aad\u307f\u8fbc\u307e\u308c\u308b\u3002 \u8907\u6570\u306e autoware \u3092\u5207\u308a\u66ff\u3048\u3066\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u3001\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3092\u4f55\u3082\u6307\u5b9a\u3057\u306a\u3044\u5834\u5408\u306f default \u304c\u4f7f\u7528\u3055\u308c\u308b\u3002 [profile_name] data_directory = \"\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u5165\u529b\u306b\u4f7f\u3046\u30c7\u30fc\u30bf\u30d5\u30a9\u30eb\u30c0\u306e\u30d1\u30b9\" output_directory = \"\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u7d50\u679c\u3092\u51fa\u529b\u3059\u308b\u30d5\u30a9\u30eb\u30c0\u306e\u30d1\u30b9\" autoware_path = \"autoware\u306e\u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9\u306e\u30d1\u30b9\" \u8a2d\u5b9a\u4f8b # default\u306f\u5fc5\u305a\u5fc5\u8981\u3001profile\u540d\u3092\u7701\u7565\u3057\u305f\u3068\u304d\u306b\u9078\u629e\u3055\u308c\u308b [default] data_directory = \"$HOME/driving_log_replayer_data/default\" output_directory = \"$HOME/driving_log_replayer_output/default\" autoware_path = \"$HOME/autoware\" [localization] data_directory = \"$HOME/driving_log_replayer_data/localization\" output_directory = \"$HOME/driving_log_replayer_output/localization\" autoware_path = \"$HOME/autoware\" [obstacle_segmentation] data_directory = \"$HOME/driving_log_replayer_data/obstacle_segmentation\" output_directory = \"$HOME/driving_log_replayer_output/obstacle_segmentation\" autoware_path = \"$HOME/autoware\" [perception] data_directory = \"$HOME/driving_log_replayer_data/perception\" output_directory = \"$HOME/driving_log_replayer_output/perception\" autoware_path = \"$HOME/autoware\"","title":"cli \u306e\u8a2d\u5b9a"},{"location":"ja/overview/setup/#_2","text":"driving_log_replayer \u304c\u671f\u5f85\u3059\u308b\u30d5\u30a9\u30eb\u30c0\u69cb\u6210\u3001\u30d5\u30a1\u30a4\u30eb\u547d\u540d\u898f\u5247\u306b\u3064\u3044\u3066\u89e3\u8aac\u3059\u308b\u3002 driving_log_replayer \u3067\u306f\u3001\u30d5\u30a9\u30eb\u30c0\u69cb\u6210\u3001\u30d5\u30a1\u30a4\u30eb\u540d\u306a\u3069\u3092\u56fa\u5b9a\u306b\u3059\u308b\u3053\u3068\u3067\u3001\u30b7\u30ca\u30ea\u30aa\u306b\u8a18\u8ff0\u3059\u308b\u30d1\u30b9\u3084\u3001\u30b3\u30de\u30f3\u30c9\u306b\u6e21\u3059\u5f15\u6570\u3092\u5c11\u306a\u304f\u3057\u3066\u3044\u308b\u3002 \u307e\u305f\u3001 data_directory \u306b\u8907\u6570\u306e\u30d5\u30a9\u30eb\u30c0\u3092\u7f6e\u304f\u3053\u3068\u3067\u3001\u8907\u6570\u306e\u30c6\u30b9\u30c8\u3092\u9023\u7d9a\u3067\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u3002","title":"\u30d5\u30a9\u30eb\u30c0\u69cb\u6210\u3001\u30d5\u30a1\u30a4\u30eb\u547d\u540d\u898f\u5247"},{"location":"ja/overview/setup/#_3","text":"\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u4f7f\u7528\u3059\u308b\u30ea\u30bd\u30fc\u30b9\u3092\u4fdd\u5b58\u3057\u3066\u304a\u304f\u30d5\u30a9\u30eb\u30c0\u3002 \u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u6bce\u306b\u3001\u30b7\u30ca\u30ea\u30aa\u3068\u3001bag\u3001dataset \u3092\u914d\u7f6e\u3059\u308b\u3002","title":"\u30c7\u30fc\u30bf\u30d5\u30a9\u30eb\u30c0"},{"location":"ja/overview/setup/#localization-performance_diag","text":"driving_log_replayer_data // .driving_log_replayer.config \u306e data_directory \u2502 \u251c\u2500\u2500 TC001 // \u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u30c7\u30a3\u30ec\u30af\u30c8\u30ea \u4efb\u610f\u306e\u540d\u79f0\u3092\u3064\u3051\u3066\u3088\u3044 \u2502 \u251c\u2500\u2500 scenario.yaml // \u30b7\u30ca\u30ea\u30aa \u2502 \u2514\u2500\u2500 input_bag // \u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u304c\u53ce\u9332\u3055\u308c\u305f\u5165\u529b\u7528\u306ebag \u2502 \u251c\u2500\u2500 input_bag_0.db3 // bag\u306e\u30d0\u30a4\u30ca\u30ea\u30d5\u30a1\u30a4\u30eb \u2502 \u2514\u2500\u2500 metadata.yaml // bag\u306emetadata \u2502 \u251c\u2500\u2500 TC002 // \u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u30c7\u30a3\u30ec\u30af\u30c8\u30ea S001\u3068\u69cb\u6210\u306f\u540c\u3058 ...","title":"localization, performance_diag \u306e\u30c7\u30fc\u30bf\u30d5\u30a9\u30eb\u30c0\u69cb\u6210"},{"location":"ja/overview/setup/#obstacle_segmentation-perception","text":"driving_log_replayer_data // .driving_log_replayer.config \u306e data_directory \u2502 \u251c\u2500\u2500 TC001 // \u30b7\u30ca\u30ea\u30aa\u30c7\u30a3\u30ec\u30af\u30c8\u30ea \u4efb\u610f\u306e\u540d\u79f0\u3092\u3064\u3051\u3066\u3088\u3044 \u2502 \u251c\u2500\u2500 scenario.yaml // \u30b7\u30ca\u30ea\u30aa \u2502 \u2514\u2500\u2500 t4_dataset \u2502 \u251c\u2500\u2500 T4D001 // t4_dataset\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3001sensing\u306e\u5834\u5408\u306f1\u500b \u2502 \u2502 \u251c\u2500\u2500 annotation \u2502 \u2502 \u251c\u2500\u2500 data \u2502 \u2502 \u2502 \u2514\u2500\u2500 LIDAR_CONCAT \u2502 \u2502 \u2514\u2500\u2500 input_bag \u2502 \u2514\u2500\u2500 T4D002 // t4_dataset\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3001perception\u306e\u5834\u5408\u306f\u8907\u6570\u500b\u6301\u3066\u308b \u2502 \u251c\u2500\u2500 annotation \u2502 \u251c\u2500\u2500 data \u2502 \u2502 \u2514\u2500\u2500 LIDAR_CONCAT \u2502 \u2514\u2500\u2500 input_bag \u2502 ... \u2502 \u251c\u2500\u2500 TC002 // \u30b7\u30ca\u30ea\u30aa\u30c7\u30a3\u30ec\u30af\u30c8\u30ea S001\u3068\u69cb\u6210\u306f\u540c\u3058 ...","title":"obstacle_segmentation, perception \u306e\u30c7\u30fc\u30bf\u30d5\u30a9\u30eb\u30c0\u69cb\u6210"},{"location":"ja/overview/setup/#_4","text":"\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u4f7f\u7528\u3059\u308b\u5730\u56f3\u3092\u4fdd\u5b58\u3057\u3066\u304a\u304f\u30d5\u30a9\u30eb\u30c0\u3002 autoware_map \u2502 \u251c\u2500\u2500 LocalMapPath1 // \u30b7\u30ca\u30ea\u30aa\u306eLocalMapPath\u3067\u6307\u5b9a\u3059\u308b\u30d1\u30b9 \u2502 \u251c\u2500\u2500 lanelet2_map.osm // lanelet\u30d5\u30a1\u30a4\u30eb \u2502 \u2514\u2500\u2500 pointcloud_map.pcd // pcd\u30d5\u30a1\u30a4\u30eb \u2502 \u251c\u2500\u2500 LocalMapPath2 // \u30b7\u30ca\u30ea\u30aa\u306eLocalMapPath\u3067\u6307\u5b9a\u3059\u308b\u30d1\u30b9 ...","title":"\u30de\u30c3\u30d7\u30d5\u30a9\u30eb\u30c0"},{"location":"ja/quick_start/installation/","text":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb # AWF Autoware Core/Universe \u3092 driving_log_replayer \u3068\u4e00\u7dd2\u306b\u30d3\u30eb\u30c9\u3059\u308b\u65b9\u6cd5\u3092\u89e3\u8aac\u3057\u307e\u3059\u3002 Requirements # CPU amd64 Ubuntu 20.04 / 22.04 ROS galactic / humble Python 3.8 / 3.10 NVIDIA GPU (required if running perception) pipx zstd sudo apt install zstd \u30d3\u30eb\u30c9\u65b9\u6cd5 # Autoware workspace \u306b\u79fb\u52d5\u3059\u308b: cd autoware \u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u8ffd\u52a0\u3059\u308b: nano simulator.repos # \u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u8ffd\u52a0\u3059\u308b simulator/perception_eval: type: git url: https://github.com/tier4/autoware_perception_evaluation.git version: main simulator/driving_log_replayer: type: git url: https://github.com/tier4/driving_log_replayer.git version: main simulator/vendor/ros2_numpy: type: git url: https://github.com/Box-Robotics/ros2_numpy.git # version humble is available for both humble and galactic version: humble simulator/vendor/ros2bag_extensions: type: git url: https://github.com/tier4/ros2bag_extensions.git version: main simulator \u306e\u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b: vcs import src < simulator.repos \u4f9d\u5b58\u89e3\u6c7a\u306e\u305f\u3081\u306b rosdep \u3092\u66f4\u65b0\u3059\u308b: rosdep update rosdep \u3067\u4f9d\u5b58\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b: rosdep install -y --from-paths src --ignore-src --rosdistro $ROS_DISTRO \u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9\u3092\u30d3\u30eb\u30c9\u3059\u308b: colcon build --symlink-install --cmake-args -DCMAKE_BUILD_TYPE = Release driving_log_replayer_cli \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b: pipx install git+https://github.com/tier4/driving_log_replayer.git","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"ja/quick_start/installation/#_1","text":"AWF Autoware Core/Universe \u3092 driving_log_replayer \u3068\u4e00\u7dd2\u306b\u30d3\u30eb\u30c9\u3059\u308b\u65b9\u6cd5\u3092\u89e3\u8aac\u3057\u307e\u3059\u3002","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"ja/quick_start/installation/#requirements","text":"CPU amd64 Ubuntu 20.04 / 22.04 ROS galactic / humble Python 3.8 / 3.10 NVIDIA GPU (required if running perception) pipx zstd sudo apt install zstd","title":"Requirements"},{"location":"ja/quick_start/installation/#_2","text":"Autoware workspace \u306b\u79fb\u52d5\u3059\u308b: cd autoware \u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u8ffd\u52a0\u3059\u308b: nano simulator.repos # \u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u8ffd\u52a0\u3059\u308b simulator/perception_eval: type: git url: https://github.com/tier4/autoware_perception_evaluation.git version: main simulator/driving_log_replayer: type: git url: https://github.com/tier4/driving_log_replayer.git version: main simulator/vendor/ros2_numpy: type: git url: https://github.com/Box-Robotics/ros2_numpy.git # version humble is available for both humble and galactic version: humble simulator/vendor/ros2bag_extensions: type: git url: https://github.com/tier4/ros2bag_extensions.git version: main simulator \u306e\u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b: vcs import src < simulator.repos \u4f9d\u5b58\u89e3\u6c7a\u306e\u305f\u3081\u306b rosdep \u3092\u66f4\u65b0\u3059\u308b: rosdep update rosdep \u3067\u4f9d\u5b58\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b: rosdep install -y --from-paths src --ignore-src --rosdistro $ROS_DISTRO \u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9\u3092\u30d3\u30eb\u30c9\u3059\u308b: colcon build --symlink-install --cmake-args -DCMAKE_BUILD_TYPE = Release driving_log_replayer_cli \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b: pipx install git+https://github.com/tier4/driving_log_replayer.git","title":"\u30d3\u30eb\u30c9\u65b9\u6cd5"},{"location":"ja/quick_start/localization/","text":"\u81ea\u5df1\u4f4d\u7f6e\u63a8\u5b9a\u6a5f\u80fd\u306e\u8a55\u4fa1 # \u6e96\u5099 # \u30b5\u30f3\u30d7\u30eb\u306e\u30b7\u30ca\u30ea\u30aa\u306e\u30b3\u30d4\u30fc mkdir -p ~/driving_log_replayer_data/localization/sample cp -r ~/autoware/src/simulator/driving_log_replayer/sample/localization/scenario.yaml ~/driving_log_replayer_data/localization/sample \u30b5\u30f3\u30d7\u30eb\u306e\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3092\u30b3\u30d4\u30fc cp -r ~/driving_log_replayer_data/sample_dataset/input_bag ~/driving_log_replayer_data/localization/sample \u5165\u529b\u306e bag \u30d5\u30a1\u30a4\u30eb\u306e\u30d5\u30a3\u30eb\u30bf\u3068\u30b9\u30e9\u30a4\u30b9\u51e6\u7406 source ~/autoware/install/setup.bash cd ~/driving_log_replayer_data/localization/sample ros2 bag filter input_bag -o filtered_bag -x \"/localization/.*\" \"/sensing/lidar/concatenated/pointcloud\" \"/tf\" ros2 bag slice filtered_bag -o sliced_bag -s 1649138880 -e 1649138910 rm -rf input_bag rm -rf filtered_bag mv sliced_bag input_bag \u5b9f\u884c\u65b9\u6cd5 # \u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u884c driving_log_replayer simulation run -p localization --rate 0 .5 \u7d50\u679c\u306e\u78ba\u8a8d \u4ee5\u4e0b\u306e\u3088\u3046\u306a\u7d50\u679c\u304c\u30bf\u30fc\u30df\u30ca\u30eb\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002 PC \u306e\u6027\u80fd\u3084 CPU \u306e\u8ca0\u8377\u72b6\u6cc1\u306b\u3088\u3063\u3066\u30c6\u30b9\u30c8\u56de\u6570\u304c\u82e5\u5e72\u7570\u306a\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u591a\u5c11\u306e\u5dee\u306f\u554f\u984c\u3042\u308a\u307e\u305b\u3093\u3002 test case 1 / 1 : use case : sample -------------------------------------------------- TestResult: Passed Passed: Convergence: 246 / 247 -> 99 .60% Reliability: NVTL Sequential NG Count: 0 ( Total Test: 248 )","title":"\u81ea\u5df1\u4f4d\u7f6e\u63a8\u5b9a\u6a5f\u80fd\u306e\u8a55\u4fa1"},{"location":"ja/quick_start/localization/#_1","text":"","title":"\u81ea\u5df1\u4f4d\u7f6e\u63a8\u5b9a\u6a5f\u80fd\u306e\u8a55\u4fa1"},{"location":"ja/quick_start/localization/#_2","text":"\u30b5\u30f3\u30d7\u30eb\u306e\u30b7\u30ca\u30ea\u30aa\u306e\u30b3\u30d4\u30fc mkdir -p ~/driving_log_replayer_data/localization/sample cp -r ~/autoware/src/simulator/driving_log_replayer/sample/localization/scenario.yaml ~/driving_log_replayer_data/localization/sample \u30b5\u30f3\u30d7\u30eb\u306e\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3092\u30b3\u30d4\u30fc cp -r ~/driving_log_replayer_data/sample_dataset/input_bag ~/driving_log_replayer_data/localization/sample \u5165\u529b\u306e bag \u30d5\u30a1\u30a4\u30eb\u306e\u30d5\u30a3\u30eb\u30bf\u3068\u30b9\u30e9\u30a4\u30b9\u51e6\u7406 source ~/autoware/install/setup.bash cd ~/driving_log_replayer_data/localization/sample ros2 bag filter input_bag -o filtered_bag -x \"/localization/.*\" \"/sensing/lidar/concatenated/pointcloud\" \"/tf\" ros2 bag slice filtered_bag -o sliced_bag -s 1649138880 -e 1649138910 rm -rf input_bag rm -rf filtered_bag mv sliced_bag input_bag","title":"\u6e96\u5099"},{"location":"ja/quick_start/localization/#_3","text":"\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u884c driving_log_replayer simulation run -p localization --rate 0 .5 \u7d50\u679c\u306e\u78ba\u8a8d \u4ee5\u4e0b\u306e\u3088\u3046\u306a\u7d50\u679c\u304c\u30bf\u30fc\u30df\u30ca\u30eb\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002 PC \u306e\u6027\u80fd\u3084 CPU \u306e\u8ca0\u8377\u72b6\u6cc1\u306b\u3088\u3063\u3066\u30c6\u30b9\u30c8\u56de\u6570\u304c\u82e5\u5e72\u7570\u306a\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u591a\u5c11\u306e\u5dee\u306f\u554f\u984c\u3042\u308a\u307e\u305b\u3093\u3002 test case 1 / 1 : use case : sample -------------------------------------------------- TestResult: Passed Passed: Convergence: 246 / 247 -> 99 .60% Reliability: NVTL Sequential NG Count: 0 ( Total Test: 248 )","title":"\u5b9f\u884c\u65b9\u6cd5"},{"location":"ja/quick_start/obstacle_segmentation/","text":"Obstacle Segmentation \u306e\u8a55\u4fa1 # \u6e96\u5099 # \u30b5\u30f3\u30d7\u30eb\u306e\u30b7\u30ca\u30ea\u30aa\u306e\u30b3\u30d4\u30fc mkdir -p ~/driving_log_replayer_data/obstacle_segmentation/sample cp -r ~/autoware/src/simulator/driving_log_replayer/sample/obstacle_segmentation/scenario.yaml ~/driving_log_replayer_data/obstacle_segmentation/sample \u30b5\u30f3\u30d7\u30eb\u306e\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u306e\u30b3\u30d4\u30fc mkdir -p ~/driving_log_replayer_data/obstacle_segmentation/sample/t4_dataset cp -r ~/driving_log_replayer_data/sample_dataset ~/driving_log_replayer_data/obstacle_segmentation/sample/t4_dataset \u5b9f\u884c\u65b9\u6cd5 # \u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u884c driving_log_replayer simulation run -p obstacle_segmentation --rate 0 .5 \u7d50\u679c\u306e\u78ba\u8a8d \u4ee5\u4e0b\u306e\u3088\u3046\u306a\u7d50\u679c\u304c\u30bf\u30fc\u30df\u30ca\u30eb\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002 PC \u306e\u6027\u80fd\u3084 CPU \u306e\u8ca0\u8377\u72b6\u6cc1\u306b\u3088\u3063\u3066\u30c6\u30b9\u30c8\u56de\u6570\u304c\u82e5\u5e72\u7570\u306a\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u591a\u5c11\u306e\u5dee\u306f\u554f\u984c\u3042\u308a\u307e\u305b\u3093\u3002 test case 1 / 1 : use case : sample_dataset -------------------------------------------------- TestResult: Failed Detection Failed: detection: 557 / 681 -> 81 .79% detection_warn: 0 non_detection: 681 / 681 -> 100 .00%","title":"Obstacle Segmentation \u306e\u8a55\u4fa1"},{"location":"ja/quick_start/obstacle_segmentation/#obstacle-segmentation","text":"","title":"Obstacle Segmentation \u306e\u8a55\u4fa1"},{"location":"ja/quick_start/obstacle_segmentation/#_1","text":"\u30b5\u30f3\u30d7\u30eb\u306e\u30b7\u30ca\u30ea\u30aa\u306e\u30b3\u30d4\u30fc mkdir -p ~/driving_log_replayer_data/obstacle_segmentation/sample cp -r ~/autoware/src/simulator/driving_log_replayer/sample/obstacle_segmentation/scenario.yaml ~/driving_log_replayer_data/obstacle_segmentation/sample \u30b5\u30f3\u30d7\u30eb\u306e\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u306e\u30b3\u30d4\u30fc mkdir -p ~/driving_log_replayer_data/obstacle_segmentation/sample/t4_dataset cp -r ~/driving_log_replayer_data/sample_dataset ~/driving_log_replayer_data/obstacle_segmentation/sample/t4_dataset","title":"\u6e96\u5099"},{"location":"ja/quick_start/obstacle_segmentation/#_2","text":"\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u884c driving_log_replayer simulation run -p obstacle_segmentation --rate 0 .5 \u7d50\u679c\u306e\u78ba\u8a8d \u4ee5\u4e0b\u306e\u3088\u3046\u306a\u7d50\u679c\u304c\u30bf\u30fc\u30df\u30ca\u30eb\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002 PC \u306e\u6027\u80fd\u3084 CPU \u306e\u8ca0\u8377\u72b6\u6cc1\u306b\u3088\u3063\u3066\u30c6\u30b9\u30c8\u56de\u6570\u304c\u82e5\u5e72\u7570\u306a\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u591a\u5c11\u306e\u5dee\u306f\u554f\u984c\u3042\u308a\u307e\u305b\u3093\u3002 test case 1 / 1 : use case : sample_dataset -------------------------------------------------- TestResult: Failed Detection Failed: detection: 557 / 681 -> 81 .79% detection_warn: 0 non_detection: 681 / 681 -> 100 .00%","title":"\u5b9f\u884c\u65b9\u6cd5"},{"location":"ja/quick_start/perception/","text":"\u8a8d\u8b58\u6a5f\u80fd\u306e\u8a55\u4fa1 # \u6e96\u5099 # \u30b5\u30f3\u30d7\u30eb\u306e\u30b7\u30ca\u30ea\u30aa\u306e\u30b3\u30d4\u30fc mkdir -p ~/driving_log_replayer_data/perception/sample cp -r ~/autoware/src/simulator/driving_log_replayer/sample/perception/scenario.yaml ~/driving_log_replayer_data/perception/sample \u30b5\u30f3\u30d7\u30eb\u306e\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3092\u30b3\u30d4\u30fc mkdir -p ~/driving_log_replayer_data/perception/sample/t4_dataset cp -r ~/driving_log_replayer_data/sample_dataset ~/driving_log_replayer_data/perception/sample/t4_dataset \u5b9f\u884c\u65b9\u6cd5 # \u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u884c driving_log_replayer simulation run -p perception --rate 0 .5 \u7d50\u679c\u306e\u78ba\u8a8d \u4ee5\u4e0b\u306e\u3088\u3046\u306a\u7d50\u679c\u304c\u30bf\u30fc\u30df\u30ca\u30eb\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002 PC \u306e\u6027\u80fd\u3084 CPU \u306e\u8ca0\u8377\u72b6\u6cc1\u306b\u3088\u3063\u3066\u30c6\u30b9\u30c8\u56de\u6570\u304c\u82e5\u5e72\u7570\u306a\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u591a\u5c11\u306e\u5dee\u306f\u554f\u984c\u3042\u308a\u307e\u305b\u3093\u3002 test case 1 / 1 : use case : sample -------------------------------------------------- TestResult: Passed Passed: 682 / 682 -> 100 .00%","title":"\u8a8d\u8b58\u6a5f\u80fd\u306e\u8a55\u4fa1"},{"location":"ja/quick_start/perception/#_1","text":"","title":"\u8a8d\u8b58\u6a5f\u80fd\u306e\u8a55\u4fa1"},{"location":"ja/quick_start/perception/#_2","text":"\u30b5\u30f3\u30d7\u30eb\u306e\u30b7\u30ca\u30ea\u30aa\u306e\u30b3\u30d4\u30fc mkdir -p ~/driving_log_replayer_data/perception/sample cp -r ~/autoware/src/simulator/driving_log_replayer/sample/perception/scenario.yaml ~/driving_log_replayer_data/perception/sample \u30b5\u30f3\u30d7\u30eb\u306e\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3092\u30b3\u30d4\u30fc mkdir -p ~/driving_log_replayer_data/perception/sample/t4_dataset cp -r ~/driving_log_replayer_data/sample_dataset ~/driving_log_replayer_data/perception/sample/t4_dataset","title":"\u6e96\u5099"},{"location":"ja/quick_start/perception/#_3","text":"\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u884c driving_log_replayer simulation run -p perception --rate 0 .5 \u7d50\u679c\u306e\u78ba\u8a8d \u4ee5\u4e0b\u306e\u3088\u3046\u306a\u7d50\u679c\u304c\u30bf\u30fc\u30df\u30ca\u30eb\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002 PC \u306e\u6027\u80fd\u3084 CPU \u306e\u8ca0\u8377\u72b6\u6cc1\u306b\u3088\u3063\u3066\u30c6\u30b9\u30c8\u56de\u6570\u304c\u82e5\u5e72\u7570\u306a\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u591a\u5c11\u306e\u5dee\u306f\u554f\u984c\u3042\u308a\u307e\u305b\u3093\u3002 test case 1 / 1 : use case : sample -------------------------------------------------- TestResult: Passed Passed: 682 / 682 -> 100 .00%","title":"\u5b9f\u884c\u65b9\u6cd5"},{"location":"ja/quick_start/performance_diag/","text":"\u8a3a\u65ad\u6a5f\u80fd\u306e\u8a55\u4fa1 # autowarefoundation-autoware \u3067\u306f\u3001\u73fe\u5728\u3001\u8a3a\u65ad\u6a5f\u80fd\u306e\u8a55\u4fa1\u306f\u3067\u304d\u307e\u305b\u3093\u3002","title":"\u8a3a\u65ad\u6a5f\u80fd\u306e\u8a55\u4fa1"},{"location":"ja/quick_start/performance_diag/#_1","text":"autowarefoundation-autoware \u3067\u306f\u3001\u73fe\u5728\u3001\u8a3a\u65ad\u6a5f\u80fd\u306e\u8a55\u4fa1\u306f\u3067\u304d\u307e\u305b\u3093\u3002","title":"\u8a3a\u65ad\u6a5f\u80fd\u306e\u8a55\u4fa1"},{"location":"ja/quick_start/setup/","text":"\u8a2d\u5b9a # Note Driving Log Replayer\u3092\u5b9f\u884c\u3059\u308b\u306b\u306f\u3001Autoware\u306e\u30d3\u30eb\u30c9\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u52a0\u3048\u3066\u3001 Driving Log Replayer\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb \u304c\u5b8c\u4e86\u3057\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 Sample map: Copyright 2020 TIER IV, Inc. Sample Dataset: Copyright 2022 TIER IV, Inc. \u30ea\u30bd\u30fc\u30b9\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7 # \u5730\u56f3\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3068\u89e3\u51cd mkdir -p ~/autoware_map gdown -O ~/autoware_map/sample-map-planning.zip 'https://docs.google.com/uc?export=download&id=1499_nsbUbIeturZaDj7jhUownh5fvXHd' unzip -d ~/autoware_map ~/autoware_map/sample-map-planning.zip \u30d6\u30e9\u30a6\u30b6\u304b\u3089\u624b\u52d5\u3067 \u5730\u56f3 \u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002 \u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u306e\u30c0\u30a6\u30ed\u30fc\u30c9\u3068\u89e3\u51cd mkdir -p ~/driving_log_replayer_data gdown -O ~/driving_log_replayer_data/sample_dataset.tar.zst 'https://docs.google.com/uc?export=download&id=1UjMWZj5Yc55O7BZiGHa0ikZGhwmcfPiS' tar -I zstd -xvf ~/driving_log_replayer_data/sample_dataset.tar.zst -C ~/driving_log_replayer_data/ \u30d6\u30e9\u30a6\u30b6\u304b\u3089\u624b\u52d5\u3067 \u30c7\u30fc\u30bf\u30bb\u30c3\u30c8 \u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002 \u30b5\u30f3\u30d7\u30eb\u8a2d\u5b9a\u3092\u30b3\u30d4\u30fc\u3059\u308b # assuming that autoware is placed under ~/autoware directory cp ~/autoware/src/simulator/driving_log_replayer/sample/.driving_log_replayer.config.toml ~/","title":"\u8a2d\u5b9a"},{"location":"ja/quick_start/setup/#_1","text":"Note Driving Log Replayer\u3092\u5b9f\u884c\u3059\u308b\u306b\u306f\u3001Autoware\u306e\u30d3\u30eb\u30c9\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u52a0\u3048\u3066\u3001 Driving Log Replayer\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb \u304c\u5b8c\u4e86\u3057\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 Sample map: Copyright 2020 TIER IV, Inc. Sample Dataset: Copyright 2022 TIER IV, Inc.","title":"\u8a2d\u5b9a"},{"location":"ja/quick_start/setup/#_2","text":"\u5730\u56f3\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3068\u89e3\u51cd mkdir -p ~/autoware_map gdown -O ~/autoware_map/sample-map-planning.zip 'https://docs.google.com/uc?export=download&id=1499_nsbUbIeturZaDj7jhUownh5fvXHd' unzip -d ~/autoware_map ~/autoware_map/sample-map-planning.zip \u30d6\u30e9\u30a6\u30b6\u304b\u3089\u624b\u52d5\u3067 \u5730\u56f3 \u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002 \u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u306e\u30c0\u30a6\u30ed\u30fc\u30c9\u3068\u89e3\u51cd mkdir -p ~/driving_log_replayer_data gdown -O ~/driving_log_replayer_data/sample_dataset.tar.zst 'https://docs.google.com/uc?export=download&id=1UjMWZj5Yc55O7BZiGHa0ikZGhwmcfPiS' tar -I zstd -xvf ~/driving_log_replayer_data/sample_dataset.tar.zst -C ~/driving_log_replayer_data/ \u30d6\u30e9\u30a6\u30b6\u304b\u3089\u624b\u52d5\u3067 \u30c7\u30fc\u30bf\u30bb\u30c3\u30c8 \u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002 \u30b5\u30f3\u30d7\u30eb\u8a2d\u5b9a\u3092\u30b3\u30d4\u30fc\u3059\u308b # assuming that autoware is placed under ~/autoware directory cp ~/autoware/src/simulator/driving_log_replayer/sample/.driving_log_replayer.config.toml ~/","title":"\u30ea\u30bd\u30fc\u30b9\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7"},{"location":"ja/result_format/","text":"Driving Log Replayer \u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8 # 1 \u884c\u6bce\u306b json \u5f62\u5f0f\u306e\u6587\u5b57\u5217\u304c\u5165\u3063\u3066\u3044\u308b jsonl \u5f62\u5f0f\u3068\u306a\u3063\u3066\u3044\u308b\u3002 \u30d5\u30a9\u30fc\u30de\u30c3\u30c8 # \u5404\u884c\u4ee5\u4e0b\u306e\u5f62\u5f0f\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u51fa\u529b\u3055\u308c\u308b\u3002 \u5b9f\u969b\u306b\u306f\u4e00\u884c\u306e\u6587\u5b57\u5217\u3060\u304c\u307f\u3084\u3059\u3055\u306e\u305f\u3081\u306b\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3057\u3066\u3044\u308b\u3002 { \"Result\" : { \"Success\" : \"true or false\" , \"Summary\" : \"\u8a55\u4fa1\u3057\u305f\u7d50\u679c\u306e\u8981\u7d04\" }, \"Stamp\" : { \"System\" : \"PC\u306e\u6642\u523b\" , \"ROS\" : \"\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u6642\u523b\" }, \"Frame\" : { \"Ego\" : { \"TransformStamped\" : \"map\u304b\u3089base_link\u3078\u306etransform_stamped\" }, \"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u6bce\u306b\u69cb\u6210\u304c\u7570\u306a\u308b\" : \"...\" } } \u7d50\u679c\u51fa\u529b\u306f\u4ee5\u4e0b\u306e\u5c5e\u6027\u304b\u3089\u69cb\u6210\u3055\u308c\u308b\u3002 Result: \u5b9f\u884c\u3057\u305f\u30b7\u30ca\u30ea\u30aa\u306e\u8a55\u4fa1\u7d50\u679c Stamp: \u8a55\u4fa1\u3057\u305f\u6642\u523b Frame: \u53d7\u3051\u53d6\u3063\u305f frame(topic) 1 \u56de\u5206\u306e\u8a55\u4fa1\u7d50\u679c\u3068\u3001\u5224\u5b9a\u306b\u4f7f\u7528\u3057\u305f\u5024\u306a\u3069\u306e\u4ed8\u5c5e\u60c5\u5831 Frame \u306e\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001\u5404\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306e\u8a55\u4fa1\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u53c2\u7167\u3002 json \u30d5\u30a1\u30a4\u30eb\u306e\u51fa\u529b # jsonl \u306f\u8ffd\u8a18\u53ef\u80fd\u3067\u30011 \u56de\u306e topic \u53d7\u4fe1\u306b\u5bfe\u3057\u3066 1 \u56de\u5206\u306e\u7d50\u679c\u3092\u8ffd\u8a18\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u305f\u3081\u63a1\u7528\u3057\u3066\u3044\u308b\u3002 \u3057\u304b\u3057\u3001\u4eba\u304c\u76ee\u3067\u898b\u3066\u7d50\u679c\u3092\u78ba\u8a8d\u3059\u308b\u5834\u5408\u306f\u3001json \u5f62\u5f0f\u3067\u30a4\u30f3\u30c7\u30f3\u30c8\u3055\u308c\u3066\u3044\u308b\u307b\u3046\u304c\u7406\u89e3\u3057\u3084\u3059\u3044\u3002 \u305d\u306e\u305f\u3081\u3001driving_log_replayer_cli \u3092\u7528\u3044\u3066\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u5b9f\u884c\u3057\u305f\u5834\u5408\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067 json \u30d5\u30a1\u30a4\u30eb\u3082\u51fa\u529b\u3055\u308c\u308b\u3002 \u4e00\u65b9\u3001\u30ed\u30fc\u30ab\u30eb\u3067 wasim \u3067\u5b9f\u884c\u3057\u305f\u5834\u5408\u3084\u3001\u30af\u30e9\u30a6\u30c9\u3067\u5b9f\u884c\u3057\u305f\u5834\u5408\u306f jsonl \u30d5\u30a1\u30a4\u30eb\u3057\u304b\u4f5c\u3089\u308c\u306a\u3044\u3002 jsonl \u30d5\u30a1\u30a4\u30eb\u3092 json \u306b\u5909\u63db\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u5909\u63db\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002 # \u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u306e\u5909\u63db\u3001output_directory\u4ee5\u4e0b\u306eresult.jsonl\u3092result.json\u306b\u5909\u63db\u3059\u308b driving_log_replayer simulation convert-result ${ output_directory } \u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u306e\u5206\u6790 # json \u51fa\u529b\u306e\u9805\u76ee\u3067\u3082\u8ff0\u3079\u305f\u901a\u308a\u3001json \u30d5\u30a1\u30a4\u30eb\u306e\u51fa\u529b\u306f\u30ed\u30fc\u30ab\u30eb\u3067 driving_log_replayer_cli \u3092\u7528\u3044\u305f\u5834\u5408\u306e\u307f\u51fa\u529b\u3055\u308c\u308b\u3002 \u306a\u306e\u3067\u3001\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u3092\u30b0\u30e9\u30d5\u5316\u3059\u308b\u306a\u3069\u306e\u89e3\u6790\u4f5c\u696d\u3092\u884c\u3046\u5834\u5408\u306f\u3001jsonl \u3092\u89e3\u6790\u5bfe\u8c61\u3068\u3059\u308b\u3053\u3068\u3002 python \u3092\u7528\u3044\u308b\u5834\u5408\u306f\u3001 pandas.read_json \u3067 lines=True \u3068\u3059\u308b\u3068 jsonl \u3092\u8aad\u307f\u8fbc\u3080\u3053\u3068\u304c\u3067\u304d\u308b","title":"Driving Log Replayer \u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8"},{"location":"ja/result_format/#driving-log-replayer","text":"1 \u884c\u6bce\u306b json \u5f62\u5f0f\u306e\u6587\u5b57\u5217\u304c\u5165\u3063\u3066\u3044\u308b jsonl \u5f62\u5f0f\u3068\u306a\u3063\u3066\u3044\u308b\u3002","title":"Driving Log Replayer \u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8"},{"location":"ja/result_format/#_1","text":"\u5404\u884c\u4ee5\u4e0b\u306e\u5f62\u5f0f\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u51fa\u529b\u3055\u308c\u308b\u3002 \u5b9f\u969b\u306b\u306f\u4e00\u884c\u306e\u6587\u5b57\u5217\u3060\u304c\u307f\u3084\u3059\u3055\u306e\u305f\u3081\u306b\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3057\u3066\u3044\u308b\u3002 { \"Result\" : { \"Success\" : \"true or false\" , \"Summary\" : \"\u8a55\u4fa1\u3057\u305f\u7d50\u679c\u306e\u8981\u7d04\" }, \"Stamp\" : { \"System\" : \"PC\u306e\u6642\u523b\" , \"ROS\" : \"\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u6642\u523b\" }, \"Frame\" : { \"Ego\" : { \"TransformStamped\" : \"map\u304b\u3089base_link\u3078\u306etransform_stamped\" }, \"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u6bce\u306b\u69cb\u6210\u304c\u7570\u306a\u308b\" : \"...\" } } \u7d50\u679c\u51fa\u529b\u306f\u4ee5\u4e0b\u306e\u5c5e\u6027\u304b\u3089\u69cb\u6210\u3055\u308c\u308b\u3002 Result: \u5b9f\u884c\u3057\u305f\u30b7\u30ca\u30ea\u30aa\u306e\u8a55\u4fa1\u7d50\u679c Stamp: \u8a55\u4fa1\u3057\u305f\u6642\u523b Frame: \u53d7\u3051\u53d6\u3063\u305f frame(topic) 1 \u56de\u5206\u306e\u8a55\u4fa1\u7d50\u679c\u3068\u3001\u5224\u5b9a\u306b\u4f7f\u7528\u3057\u305f\u5024\u306a\u3069\u306e\u4ed8\u5c5e\u60c5\u5831 Frame \u306e\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001\u5404\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306e\u8a55\u4fa1\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u53c2\u7167\u3002","title":"\u30d5\u30a9\u30fc\u30de\u30c3\u30c8"},{"location":"ja/result_format/#json","text":"jsonl \u306f\u8ffd\u8a18\u53ef\u80fd\u3067\u30011 \u56de\u306e topic \u53d7\u4fe1\u306b\u5bfe\u3057\u3066 1 \u56de\u5206\u306e\u7d50\u679c\u3092\u8ffd\u8a18\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u305f\u3081\u63a1\u7528\u3057\u3066\u3044\u308b\u3002 \u3057\u304b\u3057\u3001\u4eba\u304c\u76ee\u3067\u898b\u3066\u7d50\u679c\u3092\u78ba\u8a8d\u3059\u308b\u5834\u5408\u306f\u3001json \u5f62\u5f0f\u3067\u30a4\u30f3\u30c7\u30f3\u30c8\u3055\u308c\u3066\u3044\u308b\u307b\u3046\u304c\u7406\u89e3\u3057\u3084\u3059\u3044\u3002 \u305d\u306e\u305f\u3081\u3001driving_log_replayer_cli \u3092\u7528\u3044\u3066\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u5b9f\u884c\u3057\u305f\u5834\u5408\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067 json \u30d5\u30a1\u30a4\u30eb\u3082\u51fa\u529b\u3055\u308c\u308b\u3002 \u4e00\u65b9\u3001\u30ed\u30fc\u30ab\u30eb\u3067 wasim \u3067\u5b9f\u884c\u3057\u305f\u5834\u5408\u3084\u3001\u30af\u30e9\u30a6\u30c9\u3067\u5b9f\u884c\u3057\u305f\u5834\u5408\u306f jsonl \u30d5\u30a1\u30a4\u30eb\u3057\u304b\u4f5c\u3089\u308c\u306a\u3044\u3002 jsonl \u30d5\u30a1\u30a4\u30eb\u3092 json \u306b\u5909\u63db\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u5909\u63db\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002 # \u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u306e\u5909\u63db\u3001output_directory\u4ee5\u4e0b\u306eresult.jsonl\u3092result.json\u306b\u5909\u63db\u3059\u308b driving_log_replayer simulation convert-result ${ output_directory }","title":"json \u30d5\u30a1\u30a4\u30eb\u306e\u51fa\u529b"},{"location":"ja/result_format/#_2","text":"json \u51fa\u529b\u306e\u9805\u76ee\u3067\u3082\u8ff0\u3079\u305f\u901a\u308a\u3001json \u30d5\u30a1\u30a4\u30eb\u306e\u51fa\u529b\u306f\u30ed\u30fc\u30ab\u30eb\u3067 driving_log_replayer_cli \u3092\u7528\u3044\u305f\u5834\u5408\u306e\u307f\u51fa\u529b\u3055\u308c\u308b\u3002 \u306a\u306e\u3067\u3001\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u3092\u30b0\u30e9\u30d5\u5316\u3059\u308b\u306a\u3069\u306e\u89e3\u6790\u4f5c\u696d\u3092\u884c\u3046\u5834\u5408\u306f\u3001jsonl \u3092\u89e3\u6790\u5bfe\u8c61\u3068\u3059\u308b\u3053\u3068\u3002 python \u3092\u7528\u3044\u308b\u5834\u5408\u306f\u3001 pandas.read_json \u3067 lines=True \u3068\u3059\u308b\u3068 jsonl \u3092\u8aad\u307f\u8fbc\u3080\u3053\u3068\u304c\u3067\u304d\u308b","title":"\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u306e\u5206\u6790"},{"location":"ja/scenario_format/","text":"Driving Log Replayer \u30b7\u30ca\u30ea\u30aa\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u5b9a\u7fa9 # driving_log_replayer \u3067\u7528\u3044\u308b\u30b7\u30ca\u30ea\u30aa\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u3064\u3044\u3066\u8ff0\u3079\u308b\u3002 \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u95a2\u3059\u308b\u6ce8\u610f\u4e8b\u9805 # \u30ad\u30fc\u306f CamelCase \u306b\u3066\u5b9a\u7fa9\u3059\u308b\u3002 \u5ea7\u6a19\u7cfb\u306b\u95a2\u3057\u3066\u306f\u3001 map \u5ea7\u6a19\u7cfb\u3092\u4f7f\u7528\u3059\u308b \u5358\u4f4d\u7cfb\u306b\u95a2\u3057\u3066\u306f\u3001\u7279\u306b\u6307\u5b9a\u304c\u306a\u3051\u308c\u3070\u4ee5\u4e0b\u3092\u4f7f\u7528\u3059\u308b\u3002 \u8ddd\u96e2: m \u901f\u5ea6: m/s \u52a0\u901f\u5ea6: m/s^2 \u6642\u9593: s \u30b5\u30f3\u30d7\u30eb # \u30b7\u30ca\u30ea\u30aa\u306e\u30b5\u30f3\u30d7\u30eb\u3092 sample \u30d5\u30a9\u30eb\u30c0\u306b\u7f6e\u3044\u3066\u3044\u308b\u3002 \u30d5\u30a9\u30fc\u30de\u30c3\u30c8 # \u57fa\u672c\u69cb\u9020\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002\u5404\u30ad\u30fc\u306e\u8a73\u7d30\u306f\u4ee5\u4e0b\u3067\u8a18\u8ff0\u3059\u308b\u3002 2.x.x \u30d5\u30a9\u30fc\u30de\u30c3\u30c8 # localization \u3068 performance_diag \u3067\u4f7f\u7528\u3059\u308b\u3002 ScenarioFormatVersion : 2.x.x ScenarioName : String ScenarioDescription : String SensorModel : String VehicleModel : String VehicleId : String LocalMapPath : String Evaluation : UseCaseName : String UseCaseFormatVersion : String Conditions : Dictionary # refer use case 3.x.x \u30d5\u30a9\u30fc\u30de\u30c3\u30c8 # perception \u3068 obstacle_segmentation \u3067\u4f7f\u7528\u3059\u308b\u3002 \u6ce8\u610f: VehicleId \u3068 LocalMapPath \u304c t4_dataset \u306e id \u6bce\u306b\u8a2d\u5b9a\u3059\u308b\u3088\u3046\u306b\u5909\u66f4\u3055\u308c\u3066\u3044\u308b\u3002 ScenarioFormatVersion : 3.x.x ScenarioName : String ScenarioDescription : String SensorModel : String VehicleModel : String Evaluation : UseCaseName : String UseCaseFormatVersion : String Datasets : - DatasetName : VehicleId : String LocalMapPath : String Conditions : Dictionary # refer use case ScenarioFormatVersion # \u30b7\u30ca\u30ea\u30aa\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u60c5\u5831\u3092\u8a18\u8ff0\u3059\u308b\u3002\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u7528\u3044\u308b\u3002 localization \u3068 performance_diag \u306f 2.x.x \u7cfb\u3092\u4f7f\u7528\u3059\u308b\u30022.x.x \u306e\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u306f 2.2.0 perception \u3068 obstacle_segmentation \u306f 3.x.x \u7cfb\u3092\u4f7f\u7528\u3059\u308b\u30023.x.x \u306e\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u306f 3.0.0 \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u66f4\u65b0\u306e\u5ea6\u306b\u30de\u30a4\u30ca\u30fc\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u66f4\u65b0\u3059\u308b\u3002 ScenarioName # \u30b7\u30ca\u30ea\u30aa\u306e\u540d\u524d\u3092\u8a18\u8ff0\u3059\u308b\u3002Autoware Evaluator \u4e0a\u3067\u30b7\u30ca\u30ea\u30aa\u306e\u8868\u793a\u540d\u3068\u3057\u3066\u4f7f\u7528\u3055\u308c\u308b\u3002 ScenarioDescription # \u30b7\u30ca\u30ea\u30aa\u306e\u8aac\u660e\u3092\u8a18\u8ff0\u3059\u308b\u3002Autoware Evaluator \u4e0a\u3067\u30b7\u30ca\u30ea\u30aa\u306e\u8aac\u660e\u3068\u3057\u3066\u4f7f\u7528\u3055\u308c\u308b\u3002 SensorModel # autoware_launch/launch/logging_simulator.launch.xml \u306e\u5f15\u6570\u306e sensor_model \u3092\u6307\u5b9a\u3059\u308b VehicleModel # autoware_launch/launch/logging_simulator.launch.xml \u306e\u5f15\u6570\u306e vehicle_model \u3092\u6307\u5b9a\u3059\u308b VehicleId # autoware_launch/launch/logging_simulator.launch.xml \u306e\u5f15\u6570\u306e vehicle_id \u3092\u6307\u5b9a\u3059\u308b\u3002 \u8eca\u4e21 ID \u304c\u4e0d\u660e\u306a\u5834\u5408\u306f\u3001 default \u3092\u8a2d\u5b9a\u3059\u308b\u3002 LocalMapPath # \u30ed\u30fc\u30ab\u30eb\u74b0\u5883\u3067\u4f7f\u7528\u3059\u308b\u5730\u56f3\u306e\u30d5\u30a9\u30eb\u30c0\u306e\u30d1\u30b9\u3092\u8a18\u8ff0\u3059\u308b\u3002 $HOME \u306e\u3088\u3046\u306a\u74b0\u5883\u5909\u6570\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u308b\u3002 Evaluation # \u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u8a55\u4fa1\u6761\u4ef6\u3092\u5b9a\u7fa9\u3059\u308b\u3002 UseCaseName # \u8a55\u4fa1\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u6307\u5b9a\u3059\u308b\u3002 \u3053\u3053\u3067\u6307\u5b9a\u3055\u308c\u305f\u540d\u524d\u3068\u540c\u3058\u540d\u524d\u306e launch \u30d5\u30a1\u30a4\u30eb\u3092\u547c\u3073\u51fa\u3059\u3053\u3068\u3067\u8a55\u4fa1\u304c\u5b9f\u884c\u3055\u308c\u308b\u3002 driving_log_replayer/launch \u306b\u6307\u5b9a\u3057\u305f\u540d\u79f0\u3068\u540c\u3058\u540d\u79f0\u306e launch.py \u30d5\u30a1\u30a4\u30eb\u304c\u5b58\u5728\u3057\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002 UseCaseFormatVersion # \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u60c5\u5831\u3092\u8a18\u8ff0\u3059\u308b\u3002\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u7528\u3044\u308b\u3002 \u30e1\u30b8\u30e3\u30fc\u30d0\u30fc\u30b8\u30e7\u30f3\u304c 1 \u306b\u306a\u308b\u307e\u3067\u306f\u3001\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u66f4\u65b0\u306e\u5ea6\u306b\u30de\u30a4\u30ca\u30fc\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u66f4\u65b0\u3059\u308b\u3002\u521d\u671f\u30d0\u30fc\u30b8\u30e7\u30f3\u306f 0.1.0\u3002 Conditions # \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u6bce\u306b\u8a2d\u5b9a\u3067\u304d\u308b\u6761\u4ef6\u3092\u6307\u5b9a\u3059\u308b\u3002 \u6307\u5b9a\u53ef\u80fd\u306a\u6761\u4ef6\u306f\u5404\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3092\u53c2\u7167\u3002","title":"Driving Log Replayer \u30b7\u30ca\u30ea\u30aa\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u5b9a\u7fa9"},{"location":"ja/scenario_format/#driving-log-replayer","text":"driving_log_replayer \u3067\u7528\u3044\u308b\u30b7\u30ca\u30ea\u30aa\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u3064\u3044\u3066\u8ff0\u3079\u308b\u3002","title":"Driving Log Replayer \u30b7\u30ca\u30ea\u30aa\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u5b9a\u7fa9"},{"location":"ja/scenario_format/#_1","text":"\u30ad\u30fc\u306f CamelCase \u306b\u3066\u5b9a\u7fa9\u3059\u308b\u3002 \u5ea7\u6a19\u7cfb\u306b\u95a2\u3057\u3066\u306f\u3001 map \u5ea7\u6a19\u7cfb\u3092\u4f7f\u7528\u3059\u308b \u5358\u4f4d\u7cfb\u306b\u95a2\u3057\u3066\u306f\u3001\u7279\u306b\u6307\u5b9a\u304c\u306a\u3051\u308c\u3070\u4ee5\u4e0b\u3092\u4f7f\u7528\u3059\u308b\u3002 \u8ddd\u96e2: m \u901f\u5ea6: m/s \u52a0\u901f\u5ea6: m/s^2 \u6642\u9593: s","title":"\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u95a2\u3059\u308b\u6ce8\u610f\u4e8b\u9805"},{"location":"ja/scenario_format/#_2","text":"\u30b7\u30ca\u30ea\u30aa\u306e\u30b5\u30f3\u30d7\u30eb\u3092 sample \u30d5\u30a9\u30eb\u30c0\u306b\u7f6e\u3044\u3066\u3044\u308b\u3002","title":"\u30b5\u30f3\u30d7\u30eb"},{"location":"ja/scenario_format/#_3","text":"\u57fa\u672c\u69cb\u9020\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002\u5404\u30ad\u30fc\u306e\u8a73\u7d30\u306f\u4ee5\u4e0b\u3067\u8a18\u8ff0\u3059\u308b\u3002","title":"\u30d5\u30a9\u30fc\u30de\u30c3\u30c8"},{"location":"ja/scenario_format/#2xx","text":"localization \u3068 performance_diag \u3067\u4f7f\u7528\u3059\u308b\u3002 ScenarioFormatVersion : 2.x.x ScenarioName : String ScenarioDescription : String SensorModel : String VehicleModel : String VehicleId : String LocalMapPath : String Evaluation : UseCaseName : String UseCaseFormatVersion : String Conditions : Dictionary # refer use case","title":"2.x.x \u30d5\u30a9\u30fc\u30de\u30c3\u30c8"},{"location":"ja/scenario_format/#3xx","text":"perception \u3068 obstacle_segmentation \u3067\u4f7f\u7528\u3059\u308b\u3002 \u6ce8\u610f: VehicleId \u3068 LocalMapPath \u304c t4_dataset \u306e id \u6bce\u306b\u8a2d\u5b9a\u3059\u308b\u3088\u3046\u306b\u5909\u66f4\u3055\u308c\u3066\u3044\u308b\u3002 ScenarioFormatVersion : 3.x.x ScenarioName : String ScenarioDescription : String SensorModel : String VehicleModel : String Evaluation : UseCaseName : String UseCaseFormatVersion : String Datasets : - DatasetName : VehicleId : String LocalMapPath : String Conditions : Dictionary # refer use case","title":"3.x.x \u30d5\u30a9\u30fc\u30de\u30c3\u30c8"},{"location":"ja/scenario_format/#scenarioformatversion","text":"\u30b7\u30ca\u30ea\u30aa\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u60c5\u5831\u3092\u8a18\u8ff0\u3059\u308b\u3002\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u7528\u3044\u308b\u3002 localization \u3068 performance_diag \u306f 2.x.x \u7cfb\u3092\u4f7f\u7528\u3059\u308b\u30022.x.x \u306e\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u306f 2.2.0 perception \u3068 obstacle_segmentation \u306f 3.x.x \u7cfb\u3092\u4f7f\u7528\u3059\u308b\u30023.x.x \u306e\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u306f 3.0.0 \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u66f4\u65b0\u306e\u5ea6\u306b\u30de\u30a4\u30ca\u30fc\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u66f4\u65b0\u3059\u308b\u3002","title":"ScenarioFormatVersion"},{"location":"ja/scenario_format/#scenarioname","text":"\u30b7\u30ca\u30ea\u30aa\u306e\u540d\u524d\u3092\u8a18\u8ff0\u3059\u308b\u3002Autoware Evaluator \u4e0a\u3067\u30b7\u30ca\u30ea\u30aa\u306e\u8868\u793a\u540d\u3068\u3057\u3066\u4f7f\u7528\u3055\u308c\u308b\u3002","title":"ScenarioName"},{"location":"ja/scenario_format/#scenariodescription","text":"\u30b7\u30ca\u30ea\u30aa\u306e\u8aac\u660e\u3092\u8a18\u8ff0\u3059\u308b\u3002Autoware Evaluator \u4e0a\u3067\u30b7\u30ca\u30ea\u30aa\u306e\u8aac\u660e\u3068\u3057\u3066\u4f7f\u7528\u3055\u308c\u308b\u3002","title":"ScenarioDescription"},{"location":"ja/scenario_format/#sensormodel","text":"autoware_launch/launch/logging_simulator.launch.xml \u306e\u5f15\u6570\u306e sensor_model \u3092\u6307\u5b9a\u3059\u308b","title":"SensorModel"},{"location":"ja/scenario_format/#vehiclemodel","text":"autoware_launch/launch/logging_simulator.launch.xml \u306e\u5f15\u6570\u306e vehicle_model \u3092\u6307\u5b9a\u3059\u308b","title":"VehicleModel"},{"location":"ja/scenario_format/#vehicleid","text":"autoware_launch/launch/logging_simulator.launch.xml \u306e\u5f15\u6570\u306e vehicle_id \u3092\u6307\u5b9a\u3059\u308b\u3002 \u8eca\u4e21 ID \u304c\u4e0d\u660e\u306a\u5834\u5408\u306f\u3001 default \u3092\u8a2d\u5b9a\u3059\u308b\u3002","title":"VehicleId"},{"location":"ja/scenario_format/#localmappath","text":"\u30ed\u30fc\u30ab\u30eb\u74b0\u5883\u3067\u4f7f\u7528\u3059\u308b\u5730\u56f3\u306e\u30d5\u30a9\u30eb\u30c0\u306e\u30d1\u30b9\u3092\u8a18\u8ff0\u3059\u308b\u3002 $HOME \u306e\u3088\u3046\u306a\u74b0\u5883\u5909\u6570\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u308b\u3002","title":"LocalMapPath"},{"location":"ja/scenario_format/#evaluation","text":"\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u8a55\u4fa1\u6761\u4ef6\u3092\u5b9a\u7fa9\u3059\u308b\u3002","title":"Evaluation"},{"location":"ja/use_case/","text":"\u8a55\u4fa1\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9 # driving_log_replayer \u3092\u7528\u3044\u3066\u3069\u306e\u3088\u3046\u306a\u8a55\u4fa1\u3092\u884c\u3048\u308b\u304b\u8ff0\u3079\u308b\u3002 Driving Log Replayer \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u4e00\u89a7 # Localization Obstacle Segmentation Perception Performance Diag","title":"\u8a55\u4fa1\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9"},{"location":"ja/use_case/#_1","text":"driving_log_replayer \u3092\u7528\u3044\u3066\u3069\u306e\u3088\u3046\u306a\u8a55\u4fa1\u3092\u884c\u3048\u308b\u304b\u8ff0\u3079\u308b\u3002","title":"\u8a55\u4fa1\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9"},{"location":"ja/use_case/#driving-log-replayer","text":"Localization Obstacle Segmentation Perception Performance Diag","title":"Driving Log Replayer \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u4e00\u89a7"},{"location":"ja/use_case/localization/","text":"\u81ea\u5df1\u4f4d\u7f6e\u63a8\u5b9a\u306e\u8a55\u4fa1 # Autoware \u306e\u81ea\u5df1\u4f4d\u7f6e\u63a8\u5b9a(localization)\u304c\u5b89\u5b9a\u3057\u3066\u52d5\u4f5c\u3057\u3066\u3044\u308b\u304b\u3092\u8a55\u4fa1\u3059\u308b\u3002 \u81ea\u5df1\u4f4d\u7f6e\u63a8\u5b9a\u306e\u8a55\u4fa1\u3067\u306f NDT \u306e\u4fe1\u983c\u5ea6\u3068\u53ce\u675f\u6027\u3092\u8a55\u4fa1\u3059\u308b\u3002 \u8a55\u4fa1\u65b9\u6cd5 # localization.launch.py \u3092\u4f7f\u7528\u3057\u3066\u8a55\u4fa1\u3059\u308b\u3002 launch \u3092\u7acb\u3061\u4e0a\u3052\u308b\u3068\u4ee5\u4e0b\u306e\u3053\u3068\u304c\u5b9f\u884c\u3055\u308c\u3001\u8a55\u4fa1\u3055\u308c\u308b\u3002 launch \u3067\u8a55\u4fa1\u30ce\u30fc\u30c9( localization_evaluator_node )\u3068 logging_simulator.launch \u3001 ros2 bag play \u30b3\u30de\u30f3\u30c9\u3092\u7acb\u3061\u4e0a\u3052\u308b bag \u304b\u3089\u51fa\u529b\u3055\u308c\u305f\u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u3092 autoware \u304c\u53d7\u3051\u53d6\u3063\u3066\u3001\u81ea\u5df1\u4f4d\u7f6e\u63a8\u5b9a\u3092\u884c\u3046 \u8a55\u4fa1\u30ce\u30fc\u30c9\u304c topic \u3092 subscribe \u3057\u3066\u3001NDT \u306e\u4fe1\u983c\u5ea6\u3001\u53ce\u675f\u6027\u304c\u57fa\u6e96\u3092\u6e80\u305f\u3057\u3066\u3044\u308b\u304b\u3092\u5224\u5b9a\u3057\u3066\u7d50\u679c\u3092\u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u9332\u3059\u308b bag \u306e\u518d\u751f\u304c\u7d42\u4e86\u3059\u308b\u3068\u81ea\u52d5\u3067 launch \u304c\u7d42\u4e86\u3057\u3066\u8a55\u4fa1\u304c\u7d42\u4e86\u3059\u308b NDT \u306e\u4fe1\u983c\u5ea6 # \u4ee5\u4e0b\u306e 2 \u3064\u306e topic \u306e\u3046\u3061\u3001\u30b7\u30ca\u30ea\u30aa\u3067\u6307\u5b9a\u3057\u305f\u65b9\u3092\u7528\u3044\u3066\u8a55\u4fa1\u3059\u308b\u3002 /localization/pose_estimator/transform_probability /localization/pose_estimator/nearest_voxel_transformation_likelihood NDT \u306e\u53ce\u675f\u6027 # \u4ee5\u4e0b\u3092\u7528\u3044\u3066\u8a55\u4fa1\u3059\u308b /localization/pose_estimator/pose /localization/pose_twist_fusion_filter/pose \u305f\u3060\u3057\u53ce\u675f\u6027\u306f NDT \u304c\u53ce\u675f\u3057\u3066\u304b\u3089\u8a55\u4fa1\u958b\u59cb\u3068\u3057\u3001\u53ce\u675f\u306e\u5224\u5b9a\u306f/localization/pose_estimator/transform_probability > 0 \u3082\u3057\u304f\u306f /localization/pose_estimator/nearest_voxel_transformation_likelihood > 0 \u3092\u7528\u3044\u308b\u3002 \u8a55\u4fa1\u7d50\u679c # topic \u306e subscribe 1 \u56de\u306b\u3064\u304d\u3001\u4ee5\u4e0b\u306b\u8a18\u8ff0\u3059\u308b\u5224\u5b9a\u7d50\u679c\u304c\u51fa\u529b\u3055\u308c\u308b\u3002 \u4fe1\u983c\u5ea6\u6b63\u5e38 # /localization/pose_estimator/transform_probability\u3001\u307e\u305f\u306f/localization/pose_estimator/nearest_voxel_transformation_likelihood \u306e data \u304c\u30b7\u30ca\u30ea\u30aa\u306b\u8a18\u8ff0\u3057\u305f AllowableLikelihood \u4ee5\u4e0a\u306e\u5834\u5408 \u4fe1\u983c\u5ea6\u7570\u5e38 # /localization/pose_estimator/transform_probability\u3001\u307e\u305f\u306f/localization/pose_estimator/nearest_voxel_transformation_likelihood \u306e data \u304c\u30b7\u30ca\u30ea\u30aa\u306b\u8a18\u8ff0\u3057\u305f AllowableLikelihood \u672a\u6e80\u306e\u5834\u5408 \u53ce\u675f\u6b63\u5e38 # \u4ee5\u4e0b\u306e 3 \u3064\u306e\u6761\u4ef6\u3092\u5168\u3066\u6e80\u305f\u3059\u5834\u5408 /localization/pose_estimator/pose \u3068 /localization/pose_twist_fusion_filter/pose \u304b\u3089\u6a2a\u65b9\u5411\u306e\u8ddd\u96e2\u3092\u8a08\u7b97\u3057\u3066\u3001\u30b7\u30ca\u30ea\u30aa\u306b\u8a18\u8ff0\u3057\u305f AllowableDistance \u4ee5\u4e0b /localization/pose_estimator/exe_time_ms \u304c\u3001\u30b7\u30ca\u30ea\u30aa\u306b\u8a18\u8ff0\u3057\u305f AllowableExeTimeMs \u4ee5\u4e0b /localization/pose_estimator/iteration_num \u304c\u3001\u30b7\u30ca\u30ea\u30aa\u306b\u8a18\u8ff0\u3057\u305f AllowableIterationNum \u4ee5\u4e0b \u30b9\u30c6\u30c3\u30d7 1 \u3067\u8a08\u7b97\u3057\u305f\u6a2a\u65b9\u5411\u306e\u8ddd\u96e2\u304c/driving_log_replayer/localization/lateral_distance \u3068\u3057\u3066 publish \u3055\u308c\u308b\u3002 \u53ce\u675f\u7570\u5e38 # \u53ce\u675f\u6b63\u5e38\u306e\u6761\u4ef6\u3092\u6e80\u305f\u3055\u306a\u3044\u5834\u5408 \u8a55\u4fa1\u30ce\u30fc\u30c9\u304c\u4f7f\u7528\u3059\u308b Topic \u540d\u3068\u30c7\u30fc\u30bf\u578b # Subscribed topics: topic \u540d \u30c7\u30fc\u30bf\u578b /localization/pose_estimator/transform_probability tier4_debug_msgs::msg::Float32Stamped /localization/pose_estimator/nearest_voxel_transformation_likelihood tier4_debug_msgs::msg::Float32Stamped /localization/pose_estimator/pose geometry_msgs::msg::PoseStamped /localization/kinematic_state nav_msgs::msg::Odometry /tf tf2_msgs/msg/TFMessage /localization/util/downsample/pointcloud sensor_msgs::msg::PointCloud2 /localization/pose_estimator/points_aligned sensor_msgs::msg::PointCloud2 /localization/pose_estimator/exe_time_ms tier4_debug_msgs::msg::Float32Stamped /localization/pose_estimator/iteration_num tier4_debug_msgs::msg::Int32Stamped Published topics: topic \u540d \u30c7\u30fc\u30bf\u578b /driving_log_replayer/localization/lateral_distance example_interfaces::msg::Float64 /initialpose geometry_msgs::msg::PoseWithCovarianceStamped logging_simulator.launch \u306b\u6e21\u3059\u5f15\u6570 # autoware \u306e\u51e6\u7406\u3092\u8efd\u304f\u3059\u308b\u305f\u3081\u3001\u8a55\u4fa1\u306b\u95a2\u4fc2\u306e\u306a\u3044\u30e2\u30b8\u30e5\u30fc\u30eb\u306f launch \u306e\u5f15\u6570\u306b false \u3092\u6e21\u3059\u3053\u3068\u3067\u7121\u52b9\u5316\u3059\u308b\u3002\u4ee5\u4e0b\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u3002 planning: false control: false simulation # \u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u5b9f\u884c\u306b\u5fc5\u8981\u306a\u60c5\u5831\u3092\u8ff0\u3079\u308b\u3002 \u5165\u529b rosbag \u306b\u542b\u307e\u308c\u308b\u3079\u304d topic # \u8eca\u4e21\u306e ECU \u306e CAN \u3068\u3001\u4f7f\u7528\u3057\u3066\u3044\u308b sensor \u306e topic \u304c\u5fc5\u8981 \u4ee5\u4e0b\u306f\u4f8b\u3067\u3042\u308a\u3001\u9055\u3046\u30bb\u30f3\u30b5\u30fc\u3092\u4f7f\u3063\u3066\u3044\u308b\u5834\u5408\u306f\u9069\u5b9c\u8aad\u307f\u66ff\u3048\u308b\u3002 LiDAR \u304c\u8907\u6570\u3064\u3044\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u3059\u3079\u3066\u306e LiDAR \u306e packets \u3092\u542b\u3081\u308b /sensing/gnss/ublox/fix_velocity /sensing/gnss/ublox/nav_sat_fix /sensing/gnss/ublox/navpvt /sensing/imu/tamagawa/imu_raw /sensing/lidar/*/velodyne_packets /gsm8/from_can_bus \u5165\u529b rosbag \u306b\u542b\u307e\u308c\u3066\u306f\u3044\u3051\u306a\u3044 topic # /clock evaluation # \u8a55\u4fa1\u306b\u5fc5\u8981\u306a\u60c5\u5831\u3092\u8ff0\u3079\u308b\u3002 \u30b7\u30ca\u30ea\u30aa\u30d5\u30a9\u30fc\u30de\u30c3\u30c8 # Evaluation : UseCaseName : localization UseCaseFormatVersion : 1.2.0 Conditions : Convergence : # \u53ce\u675f\u6027\u8a55\u4fa1 AllowableDistance : 0.2 # \u76f4\u7dda\u8ddd\u96e2\u3067\u3053\u306e\u8ddd\u96e2\u4ee5\u5185\u3060\u3063\u305f\u3089\u53ce\u675f\u3068\u307f\u306a\u3059 AllowableExeTimeMs : 100.0 # NDT\u306e\u8a08\u7b97\u6642\u9593\u304c\u3053\u306e\u5024\u4ee5\u4e0b\u306a\u3089\u6210\u529f\u3068\u307f\u306a\u3059 AllowableIterationNum : 30 # NDT\u306e\u8a08\u7b97\u56de\u6570\u304c\u3053\u306e\u5024\u4ee5\u4e0b\u306a\u3089\u6210\u529f\u3068\u307f\u306a\u3059 PassRate : 95.0 # \u53ce\u675f\u6027\u306e\u8a55\u4fa1\u8a66\u884c\u56de\u6570\u306e\u5185\u3001\u3069\u306e\u7a0b\u5ea6(%)\u8a55\u4fa1\u6210\u529f\u3060\u3063\u305f\u3089\u6210\u529f\u3068\u3059\u308b\u304b Reliability : # \u4fe1\u983c\u5ea6\u8a55\u4fa1 Method : NVTL # NVTL or TP\u306e\u3069\u3061\u3089\u3067\u8a55\u4fa1\u3092\u884c\u3046\u304b AllowableLikelihood : 3.0 # \u3053\u306e\u5024\u4ee5\u4e0a\u306a\u3089\u4fe1\u983c\u5ea6\u306f\u6b63\u5e38\u3068\u307f\u306a\u3059 NGCount : 10 # \u4fe1\u983c\u5ea6\u7570\u5e38\u304c\u9023\u7d9a\u3067\u3053\u306e\u56de\u6570\u7d9a\u3044\u305f\u3089\u4fe1\u983c\u5ea6\u8a55\u4fa1\u5931\u6557\u3068\u307f\u306a\u3059 InitialPose : position : x : 16876.271484375 y : 36087.9453125 z : 0.0 orientation : x : 0.0 y : 0.0 z : 0.23490284404117467 w : 0.9720188546840887 \u8a55\u4fa1\u7d50\u679c\u30d5\u30a9\u30fc\u30de\u30c3\u30c8 # localization \u3067\u306f\u3001\u53ce\u675f\u6027\u3068\u4fe1\u983c\u5ea6\u306e 2 \u3064\u3092\u8a55\u4fa1\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u884c\u6bce\u306b\u53ce\u675f\u6027\u307e\u305f\u306f\u4fe1\u983c\u5ea6\u306e\u3069\u3061\u3089\u304b\u306e\u7d50\u679c\u304c\u5165\u3063\u3066\u3044\u308b\u3002 Result \u306f\u53ce\u675f\u6027\u3068\u4fe1\u983c\u5ea6\u4e21\u65b9\u306e\u30d1\u30b9\u3057\u3066\u3044\u308c\u3070 true \u3067\u305d\u308c\u4ee5\u5916\u306f false \u5931\u6557\u3068\u306a\u308b\u3002 \u4ee5\u4e0b\u306b\u3001\u305d\u308c\u305e\u308c\u306e\u8a55\u4fa1\u306e\u4f8b\u3092\u8a18\u8ff0\u3059\u308b\u3002 \u6ce8:\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u89e3\u8aac\u6e08\u307f\u306e\u5171\u901a\u90e8\u5206\u306b\u3064\u3044\u3066\u306f\u7701\u7565\u3059\u308b\u3002 \u53ce\u675f\u6027\u306e\u7d50\u679c(Frame \u306e\u4e2d\u306b Convergence \u9805\u76ee\u304c\u3042\u308b\u5834\u5408) { \"Frame\" : { \"Convergence\" : { \"Result\" : \"Success or Fail\" , \"Info\" : [ { \"LateralDistance\" : \"ndt\u3068ekf\u306epose\u306e\u6a2a\u65b9\u8ddd\u96e2\" , \"HorizontalDistance\" : \"ndt\u3068ekf\u306e\u6c34\u5e73\u8ddd\u96e2\u3002\u53c2\u8003\u5024\" , \"ExeTimeMs\" : \"ndt\u306e\u8a08\u7b97\u306b\u304b\u304b\u3063\u305f\u6642\u9593\" , \"IterationNum\" : \"ndt\u306e\u518d\u8a08\u7b97\u56de\u6570\" } ] } } } \u4fe1\u983c\u5ea6\u306e\u7d50\u679c(Frame \u306b Reliability \u306e\u9805\u76ee\u304c\u3042\u308b\u5834\u5408) { \"Frame\" : { \"Reliability\" : { \"Result\" : \"Success or Fail\" , \"Info\" : [ { \"Value\" : \"NVTL or TP\u306e\u5024\" , \"Reference\" : \"\u8a55\u4fa1\u306b\u4f7f\u7528\u3057\u306a\u304b\u3063\u305f\u5c24\u5ea6\u3002\u53c2\u8003\u5024\u3002Value\u304cNVTL\u306a\u3089TP\u304c\u5165\u308b\" } ] } } }","title":"\u81ea\u5df1\u4f4d\u7f6e\u63a8\u5b9a\u306e\u8a55\u4fa1"},{"location":"ja/use_case/localization/#_1","text":"Autoware \u306e\u81ea\u5df1\u4f4d\u7f6e\u63a8\u5b9a(localization)\u304c\u5b89\u5b9a\u3057\u3066\u52d5\u4f5c\u3057\u3066\u3044\u308b\u304b\u3092\u8a55\u4fa1\u3059\u308b\u3002 \u81ea\u5df1\u4f4d\u7f6e\u63a8\u5b9a\u306e\u8a55\u4fa1\u3067\u306f NDT \u306e\u4fe1\u983c\u5ea6\u3068\u53ce\u675f\u6027\u3092\u8a55\u4fa1\u3059\u308b\u3002","title":"\u81ea\u5df1\u4f4d\u7f6e\u63a8\u5b9a\u306e\u8a55\u4fa1"},{"location":"ja/use_case/localization/#_2","text":"localization.launch.py \u3092\u4f7f\u7528\u3057\u3066\u8a55\u4fa1\u3059\u308b\u3002 launch \u3092\u7acb\u3061\u4e0a\u3052\u308b\u3068\u4ee5\u4e0b\u306e\u3053\u3068\u304c\u5b9f\u884c\u3055\u308c\u3001\u8a55\u4fa1\u3055\u308c\u308b\u3002 launch \u3067\u8a55\u4fa1\u30ce\u30fc\u30c9( localization_evaluator_node )\u3068 logging_simulator.launch \u3001 ros2 bag play \u30b3\u30de\u30f3\u30c9\u3092\u7acb\u3061\u4e0a\u3052\u308b bag \u304b\u3089\u51fa\u529b\u3055\u308c\u305f\u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u3092 autoware \u304c\u53d7\u3051\u53d6\u3063\u3066\u3001\u81ea\u5df1\u4f4d\u7f6e\u63a8\u5b9a\u3092\u884c\u3046 \u8a55\u4fa1\u30ce\u30fc\u30c9\u304c topic \u3092 subscribe \u3057\u3066\u3001NDT \u306e\u4fe1\u983c\u5ea6\u3001\u53ce\u675f\u6027\u304c\u57fa\u6e96\u3092\u6e80\u305f\u3057\u3066\u3044\u308b\u304b\u3092\u5224\u5b9a\u3057\u3066\u7d50\u679c\u3092\u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u9332\u3059\u308b bag \u306e\u518d\u751f\u304c\u7d42\u4e86\u3059\u308b\u3068\u81ea\u52d5\u3067 launch \u304c\u7d42\u4e86\u3057\u3066\u8a55\u4fa1\u304c\u7d42\u4e86\u3059\u308b","title":"\u8a55\u4fa1\u65b9\u6cd5"},{"location":"ja/use_case/localization/#ndt","text":"\u4ee5\u4e0b\u306e 2 \u3064\u306e topic \u306e\u3046\u3061\u3001\u30b7\u30ca\u30ea\u30aa\u3067\u6307\u5b9a\u3057\u305f\u65b9\u3092\u7528\u3044\u3066\u8a55\u4fa1\u3059\u308b\u3002 /localization/pose_estimator/transform_probability /localization/pose_estimator/nearest_voxel_transformation_likelihood","title":"NDT \u306e\u4fe1\u983c\u5ea6"},{"location":"ja/use_case/localization/#ndt_1","text":"\u4ee5\u4e0b\u3092\u7528\u3044\u3066\u8a55\u4fa1\u3059\u308b /localization/pose_estimator/pose /localization/pose_twist_fusion_filter/pose \u305f\u3060\u3057\u53ce\u675f\u6027\u306f NDT \u304c\u53ce\u675f\u3057\u3066\u304b\u3089\u8a55\u4fa1\u958b\u59cb\u3068\u3057\u3001\u53ce\u675f\u306e\u5224\u5b9a\u306f/localization/pose_estimator/transform_probability > 0 \u3082\u3057\u304f\u306f /localization/pose_estimator/nearest_voxel_transformation_likelihood > 0 \u3092\u7528\u3044\u308b\u3002","title":"NDT \u306e\u53ce\u675f\u6027"},{"location":"ja/use_case/localization/#_3","text":"topic \u306e subscribe 1 \u56de\u306b\u3064\u304d\u3001\u4ee5\u4e0b\u306b\u8a18\u8ff0\u3059\u308b\u5224\u5b9a\u7d50\u679c\u304c\u51fa\u529b\u3055\u308c\u308b\u3002","title":"\u8a55\u4fa1\u7d50\u679c"},{"location":"ja/use_case/localization/#_4","text":"/localization/pose_estimator/transform_probability\u3001\u307e\u305f\u306f/localization/pose_estimator/nearest_voxel_transformation_likelihood \u306e data \u304c\u30b7\u30ca\u30ea\u30aa\u306b\u8a18\u8ff0\u3057\u305f AllowableLikelihood \u4ee5\u4e0a\u306e\u5834\u5408","title":"\u4fe1\u983c\u5ea6\u6b63\u5e38"},{"location":"ja/use_case/localization/#_5","text":"/localization/pose_estimator/transform_probability\u3001\u307e\u305f\u306f/localization/pose_estimator/nearest_voxel_transformation_likelihood \u306e data \u304c\u30b7\u30ca\u30ea\u30aa\u306b\u8a18\u8ff0\u3057\u305f AllowableLikelihood \u672a\u6e80\u306e\u5834\u5408","title":"\u4fe1\u983c\u5ea6\u7570\u5e38"},{"location":"ja/use_case/localization/#_6","text":"\u4ee5\u4e0b\u306e 3 \u3064\u306e\u6761\u4ef6\u3092\u5168\u3066\u6e80\u305f\u3059\u5834\u5408 /localization/pose_estimator/pose \u3068 /localization/pose_twist_fusion_filter/pose \u304b\u3089\u6a2a\u65b9\u5411\u306e\u8ddd\u96e2\u3092\u8a08\u7b97\u3057\u3066\u3001\u30b7\u30ca\u30ea\u30aa\u306b\u8a18\u8ff0\u3057\u305f AllowableDistance \u4ee5\u4e0b /localization/pose_estimator/exe_time_ms \u304c\u3001\u30b7\u30ca\u30ea\u30aa\u306b\u8a18\u8ff0\u3057\u305f AllowableExeTimeMs \u4ee5\u4e0b /localization/pose_estimator/iteration_num \u304c\u3001\u30b7\u30ca\u30ea\u30aa\u306b\u8a18\u8ff0\u3057\u305f AllowableIterationNum \u4ee5\u4e0b \u30b9\u30c6\u30c3\u30d7 1 \u3067\u8a08\u7b97\u3057\u305f\u6a2a\u65b9\u5411\u306e\u8ddd\u96e2\u304c/driving_log_replayer/localization/lateral_distance \u3068\u3057\u3066 publish \u3055\u308c\u308b\u3002","title":"\u53ce\u675f\u6b63\u5e38"},{"location":"ja/use_case/localization/#_7","text":"\u53ce\u675f\u6b63\u5e38\u306e\u6761\u4ef6\u3092\u6e80\u305f\u3055\u306a\u3044\u5834\u5408","title":"\u53ce\u675f\u7570\u5e38"},{"location":"ja/use_case/localization/#topic","text":"Subscribed topics: topic \u540d \u30c7\u30fc\u30bf\u578b /localization/pose_estimator/transform_probability tier4_debug_msgs::msg::Float32Stamped /localization/pose_estimator/nearest_voxel_transformation_likelihood tier4_debug_msgs::msg::Float32Stamped /localization/pose_estimator/pose geometry_msgs::msg::PoseStamped /localization/kinematic_state nav_msgs::msg::Odometry /tf tf2_msgs/msg/TFMessage /localization/util/downsample/pointcloud sensor_msgs::msg::PointCloud2 /localization/pose_estimator/points_aligned sensor_msgs::msg::PointCloud2 /localization/pose_estimator/exe_time_ms tier4_debug_msgs::msg::Float32Stamped /localization/pose_estimator/iteration_num tier4_debug_msgs::msg::Int32Stamped Published topics: topic \u540d \u30c7\u30fc\u30bf\u578b /driving_log_replayer/localization/lateral_distance example_interfaces::msg::Float64 /initialpose geometry_msgs::msg::PoseWithCovarianceStamped","title":"\u8a55\u4fa1\u30ce\u30fc\u30c9\u304c\u4f7f\u7528\u3059\u308b Topic \u540d\u3068\u30c7\u30fc\u30bf\u578b"},{"location":"ja/use_case/localization/#logging_simulatorlaunch","text":"autoware \u306e\u51e6\u7406\u3092\u8efd\u304f\u3059\u308b\u305f\u3081\u3001\u8a55\u4fa1\u306b\u95a2\u4fc2\u306e\u306a\u3044\u30e2\u30b8\u30e5\u30fc\u30eb\u306f launch \u306e\u5f15\u6570\u306b false \u3092\u6e21\u3059\u3053\u3068\u3067\u7121\u52b9\u5316\u3059\u308b\u3002\u4ee5\u4e0b\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u3002 planning: false control: false","title":"logging_simulator.launch \u306b\u6e21\u3059\u5f15\u6570"},{"location":"ja/use_case/localization/#simulation","text":"\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u5b9f\u884c\u306b\u5fc5\u8981\u306a\u60c5\u5831\u3092\u8ff0\u3079\u308b\u3002","title":"simulation"},{"location":"ja/use_case/localization/#rosbag-topic","text":"\u8eca\u4e21\u306e ECU \u306e CAN \u3068\u3001\u4f7f\u7528\u3057\u3066\u3044\u308b sensor \u306e topic \u304c\u5fc5\u8981 \u4ee5\u4e0b\u306f\u4f8b\u3067\u3042\u308a\u3001\u9055\u3046\u30bb\u30f3\u30b5\u30fc\u3092\u4f7f\u3063\u3066\u3044\u308b\u5834\u5408\u306f\u9069\u5b9c\u8aad\u307f\u66ff\u3048\u308b\u3002 LiDAR \u304c\u8907\u6570\u3064\u3044\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u3059\u3079\u3066\u306e LiDAR \u306e packets \u3092\u542b\u3081\u308b /sensing/gnss/ublox/fix_velocity /sensing/gnss/ublox/nav_sat_fix /sensing/gnss/ublox/navpvt /sensing/imu/tamagawa/imu_raw /sensing/lidar/*/velodyne_packets /gsm8/from_can_bus","title":"\u5165\u529b rosbag \u306b\u542b\u307e\u308c\u308b\u3079\u304d topic"},{"location":"ja/use_case/localization/#rosbag-topic_1","text":"/clock","title":"\u5165\u529b rosbag \u306b\u542b\u307e\u308c\u3066\u306f\u3044\u3051\u306a\u3044 topic"},{"location":"ja/use_case/localization/#evaluation","text":"\u8a55\u4fa1\u306b\u5fc5\u8981\u306a\u60c5\u5831\u3092\u8ff0\u3079\u308b\u3002","title":"evaluation"},{"location":"ja/use_case/localization/#_8","text":"Evaluation : UseCaseName : localization UseCaseFormatVersion : 1.2.0 Conditions : Convergence : # \u53ce\u675f\u6027\u8a55\u4fa1 AllowableDistance : 0.2 # \u76f4\u7dda\u8ddd\u96e2\u3067\u3053\u306e\u8ddd\u96e2\u4ee5\u5185\u3060\u3063\u305f\u3089\u53ce\u675f\u3068\u307f\u306a\u3059 AllowableExeTimeMs : 100.0 # NDT\u306e\u8a08\u7b97\u6642\u9593\u304c\u3053\u306e\u5024\u4ee5\u4e0b\u306a\u3089\u6210\u529f\u3068\u307f\u306a\u3059 AllowableIterationNum : 30 # NDT\u306e\u8a08\u7b97\u56de\u6570\u304c\u3053\u306e\u5024\u4ee5\u4e0b\u306a\u3089\u6210\u529f\u3068\u307f\u306a\u3059 PassRate : 95.0 # \u53ce\u675f\u6027\u306e\u8a55\u4fa1\u8a66\u884c\u56de\u6570\u306e\u5185\u3001\u3069\u306e\u7a0b\u5ea6(%)\u8a55\u4fa1\u6210\u529f\u3060\u3063\u305f\u3089\u6210\u529f\u3068\u3059\u308b\u304b Reliability : # \u4fe1\u983c\u5ea6\u8a55\u4fa1 Method : NVTL # NVTL or TP\u306e\u3069\u3061\u3089\u3067\u8a55\u4fa1\u3092\u884c\u3046\u304b AllowableLikelihood : 3.0 # \u3053\u306e\u5024\u4ee5\u4e0a\u306a\u3089\u4fe1\u983c\u5ea6\u306f\u6b63\u5e38\u3068\u307f\u306a\u3059 NGCount : 10 # \u4fe1\u983c\u5ea6\u7570\u5e38\u304c\u9023\u7d9a\u3067\u3053\u306e\u56de\u6570\u7d9a\u3044\u305f\u3089\u4fe1\u983c\u5ea6\u8a55\u4fa1\u5931\u6557\u3068\u307f\u306a\u3059 InitialPose : position : x : 16876.271484375 y : 36087.9453125 z : 0.0 orientation : x : 0.0 y : 0.0 z : 0.23490284404117467 w : 0.9720188546840887","title":"\u30b7\u30ca\u30ea\u30aa\u30d5\u30a9\u30fc\u30de\u30c3\u30c8"},{"location":"ja/use_case/localization/#_9","text":"localization \u3067\u306f\u3001\u53ce\u675f\u6027\u3068\u4fe1\u983c\u5ea6\u306e 2 \u3064\u3092\u8a55\u4fa1\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u884c\u6bce\u306b\u53ce\u675f\u6027\u307e\u305f\u306f\u4fe1\u983c\u5ea6\u306e\u3069\u3061\u3089\u304b\u306e\u7d50\u679c\u304c\u5165\u3063\u3066\u3044\u308b\u3002 Result \u306f\u53ce\u675f\u6027\u3068\u4fe1\u983c\u5ea6\u4e21\u65b9\u306e\u30d1\u30b9\u3057\u3066\u3044\u308c\u3070 true \u3067\u305d\u308c\u4ee5\u5916\u306f false \u5931\u6557\u3068\u306a\u308b\u3002 \u4ee5\u4e0b\u306b\u3001\u305d\u308c\u305e\u308c\u306e\u8a55\u4fa1\u306e\u4f8b\u3092\u8a18\u8ff0\u3059\u308b\u3002 \u6ce8:\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u89e3\u8aac\u6e08\u307f\u306e\u5171\u901a\u90e8\u5206\u306b\u3064\u3044\u3066\u306f\u7701\u7565\u3059\u308b\u3002 \u53ce\u675f\u6027\u306e\u7d50\u679c(Frame \u306e\u4e2d\u306b Convergence \u9805\u76ee\u304c\u3042\u308b\u5834\u5408) { \"Frame\" : { \"Convergence\" : { \"Result\" : \"Success or Fail\" , \"Info\" : [ { \"LateralDistance\" : \"ndt\u3068ekf\u306epose\u306e\u6a2a\u65b9\u8ddd\u96e2\" , \"HorizontalDistance\" : \"ndt\u3068ekf\u306e\u6c34\u5e73\u8ddd\u96e2\u3002\u53c2\u8003\u5024\" , \"ExeTimeMs\" : \"ndt\u306e\u8a08\u7b97\u306b\u304b\u304b\u3063\u305f\u6642\u9593\" , \"IterationNum\" : \"ndt\u306e\u518d\u8a08\u7b97\u56de\u6570\" } ] } } } \u4fe1\u983c\u5ea6\u306e\u7d50\u679c(Frame \u306b Reliability \u306e\u9805\u76ee\u304c\u3042\u308b\u5834\u5408) { \"Frame\" : { \"Reliability\" : { \"Result\" : \"Success or Fail\" , \"Info\" : [ { \"Value\" : \"NVTL or TP\u306e\u5024\" , \"Reference\" : \"\u8a55\u4fa1\u306b\u4f7f\u7528\u3057\u306a\u304b\u3063\u305f\u5c24\u5ea6\u3002\u53c2\u8003\u5024\u3002Value\u304cNVTL\u306a\u3089TP\u304c\u5165\u308b\" } ] } } }","title":"\u8a55\u4fa1\u7d50\u679c\u30d5\u30a9\u30fc\u30de\u30c3\u30c8"},{"location":"ja/use_case/obstacle_segmentation/","text":"\u70b9\u7fa4\u751f\u6210\u306e\u8a55\u4fa1 # Autoware \u306e\u70b9\u7fa4\u51e6\u7406\u306e\u30d7\u30ed\u30bb\u30b9(sensing\u2192perception)\u304c\u52d5\u4f5c\u3057\u3066\u3001/perception/obstacle_segmentation/pointcloud \u304c\u610f\u56f3\u901a\u308a\u306b\u51fa\u529b\u3055\u308c\u308b\u304b\u3069\u3046\u304b\u3092\u8a55\u4fa1\u3059\u308b\u3002 \u70b9\u7fa4\u304c\u610f\u56f3\u901a\u308a\u306b\u51fa\u529b\u3055\u308c\u3066\u3044\u308b\u304b\u306e\u5224\u5b9a\u306f\u3001t4_dataset \u3068\u70b9\u7fa4\u3092\u7528\u3044\u3066\u884c\u3046\u3002\u4ee5\u4e0b\u306e\u8a55\u4fa1\u3092\u540c\u6642\u306b\u884c\u3046\u3002 \u4e8b\u524d\u306b\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3057\u3066\u304a\u3044\u305f\u8eca\u4e21\u3084\u6b69\u884c\u8005\u306a\u3069\u304c\u691c\u77e5\u51fa\u6765\u3066\u3044\u308b\u304b\u306e\u8a55\u4fa1\uff08detection: \u691c\u77e5\uff09 \u30ec\u30fc\u30f3\u3068\u30b7\u30ca\u30ea\u30aa\u3067\u5b9a\u7fa9\u3057\u305f\u81ea\u8eca\u4e21\u5468\u308a\u306e\u30dd\u30ea\u30b4\u30f3\u304c\u91cd\u306a\u308b\u30a8\u30ea\u30a2\u306b\u4f59\u5206\u306a\u70b9\u7fa4\u304c\u51fa\u3066\u3044\u306a\u3044\u304b\u306e\u8a55\u4fa1\uff08non_detection: \u975e\u691c\u77e5\uff09 \u307e\u305f\u3001\u8a55\u4fa1\u6761\u4ef6\u306b null \u3092\u6307\u5b9a\u3059\u308c\u3070\u8a55\u4fa1\u3057\u306a\u3044\u3053\u3068\u3082\u53ef\u80fd\u3067\u3042\u308b\u3002\u3059\u306a\u308f\u3061\u4ee5\u4e0b\u306e 3 \u30e2\u30fc\u30c9\u3067\u8a55\u4fa1\u3092\u5b9f\u65bd\u3067\u304d\u308b\u3002 detection \u3068 non_detection \u3092\u540c\u6642\u306b\u8a55\u4fa1\u3059\u308b detection \u3060\u3051\u8a55\u4fa1\u3059\u308b(NonDetection: null) non_detection \u3060\u3051\u8a55\u4fa1\u3059\u308b(Detection: null) \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u30c4\u30fc\u30eb\u306f Deepen \u304c\u63a8\u5968\u3067\u3042\u308b\u304c\u3001t4_dataset \u3078\u306e\u5909\u63db\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u30c4\u30fc\u30eb\u3067\u3042\u308c\u3070\u3088\u3044\u3002 \u5909\u63db\u30c4\u30fc\u30eb\u3055\u3048\u4f5c\u6210\u3067\u304d\u308c\u3070\u8907\u6570\u306e\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u30c4\u30fc\u30eb\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3042\u308b\u3002 \u8a55\u4fa1\u65b9\u6cd5 # obstacle_segmentation.launch.py \u3092\u4f7f\u7528\u3057\u3066\u8a55\u4fa1\u3059\u308b\u3002 launch \u3092\u7acb\u3061\u4e0a\u3052\u308b\u3068\u4ee5\u4e0b\u306e\u3053\u3068\u304c\u5b9f\u884c\u3055\u308c\u3001\u8a55\u4fa1\u3055\u308c\u308b\u3002 launch \u3067 C++\u306e\u8a55\u4fa1\u30ce\u30fc\u30c9 \u3068\u3001 Python \u306e\u8a55\u4fa1\u30ce\u30fc\u30c9 \u3001 logging_simulator.launch \u3001 ros2 bag play \u30b3\u30de\u30f3\u30c9\u3092\u7acb\u3061\u4e0a\u3052\u308b bag \u304b\u3089\u51fa\u529b\u3055\u308c\u305f\u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u3092 autoware \u304c\u53d7\u3051\u53d6\u3063\u3066\u3001/perception/obstacle_segmentation/pointcloud \u3092\u51fa\u529b\u3059\u308b C++\u306e\u8a55\u4fa1\u30ce\u30fc\u30c9\u304c/perception/obstacle_segmentation/pointcloud \u3092 subscribe \u3057\u3066\u3001header \u306e\u6642\u523b\u3067\u975e\u691c\u77e5\u30a8\u30ea\u30a2\u306e polygon \u3092\u8a08\u7b97\u3059\u308b\u3002 \u975e\u691c\u77e5\u30a8\u30ea\u30a2\u306e\u30dd\u30ea\u30b4\u30f3\u3001pointcloud \u3092/driving_log_replayer/obstacle_segmentation/input \u306b publish \u3059\u308b Python \u306e\u8a55\u4fa1\u30ce\u30fc\u30c9\u304c/driving_log_replayer/obstacle_segmentation/input \u3092 subscribe \u3057\u3066\u3001callback \u3067 perception_eval \u3092\u4f7f\u3063\u3066\u8a55\u4fa1\u3059\u308b\u3002\u7d50\u679c\u3092\u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u9332\u3059\u308b bag \u306e\u518d\u751f\u304c\u7d42\u4e86\u3059\u308b\u3068\u81ea\u52d5\u3067 launch \u304c\u7d42\u4e86\u3057\u3066\u8a55\u4fa1\u304c\u7d42\u4e86\u3059\u308b \u8a55\u4fa1\u7d50\u679c # topic \u306e subscribe 1 \u56de\u306b\u3064\u304d\u3001\u4ee5\u4e0b\u306b\u8a18\u8ff0\u3059\u308b\u5224\u5b9a\u7d50\u679c\u304c\u51fa\u529b\u3055\u308c\u308b\u3002 \u691c\u77e5\u6b63\u5e38 # \u4ee5\u4e0b\u306e\u6761\u4ef6\u3092\u3059\u3079\u3066\u6e80\u305f\u3059\u5834\u5408\u3001\u691c\u77e5\u6b63\u5e38\u3068\u306a\u308b\u3002 \u30b7\u30ca\u30ea\u30aa\u3067\u6307\u5b9a\u3057\u305f UUID \u3092\u6301\u30d0\u30a6\u30f3\u30c7\u30a3\u30f3\u30b0\u30dc\u30c3\u30af\u30b9\u5185\u306b\u3001\u6307\u5b9a\u3057\u305f\u70b9\u6570\u4ee5\u4e0a\u306e\u70b9\u7fa4\uff08/perception/obstacle_segmentation/pointcloud\uff09\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u3053\u3068\u3002 \u8907\u6570\u306e UUID \u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u306f\u3001\u6307\u5b9a\u3057\u305f\u3059\u3079\u3066\u306e\u30d0\u30a6\u30f3\u30c7\u30a3\u30f3\u30b0\u30dc\u30c3\u30af\u30b9\u306b\u3064\u3044\u3066\u6761\u4ef6\u3092\u6e80\u305f\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 Autoware \u306e\u8a3a\u65ad\u6a5f\u80fd\u3067\u63d0\u4f9b\u3055\u308c\u308b\u70b9\u7fa4\u306e\u51fa\u529b\u30ec\u30fc\u30c8\u304c\u30a8\u30e9\u30fc\u72b6\u614b\u3067\u306a\u3044\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u3057\u304d\u3044\u5024\u306f 1.0Hz \u3067\u3059\u3002 \u691c\u77e5\u8b66\u544a # \u30b7\u30ca\u30ea\u30aa\u3067\u6307\u5b9a\u3057\u305f UUID \u3092\u6301\u3064 bounding box \u306e visibility \u304c none(occlusion \u72b6\u614b)\u3067\u3042\u308a\u3001\u8a55\u4fa1\u51fa\u6765\u306a\u3044\u5834\u5408\u3002 \u691c\u77e5\u7570\u5e38 # \u691c\u77e5\u8b66\u544a\u3067\u3082\u3001\u691c\u77e5\u6b63\u5e38\u3067\u3082\u306a\u3044\u5834\u5408 \u975e\u691c\u77e5\u6b63\u5e38 # \u975e\u691c\u77e5\u30a8\u30ea\u30a2\u306b\u70b9\u7fa4\u304c 1 \u70b9\u3082\u306a\u3044\u3053\u3068\u3002 \u975e\u691c\u77e5\u30a8\u30ea\u30a2\u306f\u8a55\u4fa1\u65b9\u6cd5\u306e\u30b9\u30c6\u30c3\u30d7 3 \u3067 C++\u306e\u30ce\u30fc\u30c9\u3067\u8a08\u7b97\u3055\u308c\u308b\u9818\u57df\u3002 \u975e\u691c\u77e5\u7570\u5e38 # \u975e\u691c\u77e5\u30a8\u30ea\u30a2\u306b\u70b9\u7fa4\u304c\u51fa\u3066\u3044\u308b\u3053\u3068\u3002 \u8a55\u4fa1\u30ce\u30fc\u30c9\u304c\u4f7f\u7528\u3059\u308b Topic \u540d\u3068\u30c7\u30fc\u30bf\u578b # Subscribed topics: topic \u540d \u30c7\u30fc\u30bf\u578b /perception/obstacle_segmentation/pointcloud sensor_msgs::msg::PointCloud2 /diagnostics_agg diagnostic_msgs::msg::DiagnosticArray /map/vector_map autoware_auto_mapping_msgs::msg::HADMapBin /tf tf2_msgs/msg/TFMessage /planning/scenario_planning/status/stop_reasons tier4_planning_msgs::msg::StopReasonArray /planning/scenario_planning/trajectory autoware_auto_planning_msgs::msg::Trajectory Published topics: topic \u540d \u30c7\u30fc\u30bf\u578b /driving_log_replayer/obstacle_segmentation/input driving_log_replayer_msgs::msg:ObstacleSegmentationInput /driving_log_replayer/marker/detection visualization_msgs::msg::MarkerArray /driving_log_replayer/marker/non_detection visualization_msgs::msg::MarkerArray /driving_log_replayer/pcd/detection sensor_msgs::msg::PointCloud2 /driving_log_replayer/pcd/non_detection sensor_msgs::msg::PointCloud2 /planning/mission_planning/goal geometry_msgs::msg::PoseStamped logging_simulator.launch \u306b\u6e21\u3059\u5f15\u6570 # autoware \u306e\u51e6\u7406\u3092\u8efd\u304f\u3059\u308b\u305f\u3081\u3001\u8a55\u4fa1\u306b\u95a2\u4fc2\u306e\u306a\u3044\u30e2\u30b8\u30e5\u30fc\u30eb\u306f launch \u306e\u5f15\u6570\u306b false \u3092\u6e21\u3059\u3053\u3068\u3067\u7121\u52b9\u5316\u3059\u308b\u3002\u4ee5\u4e0b\u3092\u8a2d\u5b9a\u3059\u308b\u3002 localization: false control: false simulation # \u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u5b9f\u884c\u306b\u5fc5\u8981\u306a\u60c5\u5831\u3092\u8ff0\u3079\u308b\u3002 \u5165\u529b rosbag \u306b\u542b\u307e\u308c\u308b\u3079\u304d topic # t4_dataset \u3067\u5fc5\u8981\u306a\u30c8\u30d4\u30c3\u30af\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u3053\u3068 evaluation # \u8a55\u4fa1\u306b\u5fc5\u8981\u306a\u60c5\u5831\u3092\u8ff0\u3079\u308b\u3002 \u30b7\u30ca\u30ea\u30aa\u30d5\u30a9\u30fc\u30de\u30c3\u30c8 # Evaluation : UseCaseName : obstacle_segmentation UseCaseFormatVersion : 0.2.0 Datasets : - 63800729-18d2-4383-91e9-fea7bad384f4 : VehicleId : ps1/20210620/CAL_000015 # \u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u6bce\u306bVehicleId\u3092\u6307\u5b9a\u3059\u308b LocalMapPath : $HOME/map/obstacle_segmentation # \u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u6bce\u306bLocalMapPath\u3092\u6307\u5b9a\u3059\u308b Conditions : Detection : # Detection\u306e\u8a55\u4fa1\u3092\u884c\u308f\u306a\u3044\u5834\u5408\u306fnull\u3092\u30bb\u30c3\u30c8\u3059\u308b PassRate : 99.0 # \u8a55\u4fa1\u8a66\u884c\u56de\u6570\u306e\u5185\u3001\u3069\u306e\u7a0b\u5ea6(%)\u8a55\u4fa1\u6210\u529f\u3060\u3063\u305f\u3089\u6210\u529f\u3068\u3059\u308b\u304b NonDetection : # NonDetection\u306e\u8a55\u4fa1\u3092\u884c\u308f\u306a\u3044\u5834\u5408\u306fnull\u3092\u30bb\u30c3\u30c8\u3059\u308b PassRate : 99.0 # \u8a55\u4fa1\u8a66\u884c\u56de\u6570\u306e\u5185\u3001\u3069\u306e\u7a0b\u5ea6(%)\u8a55\u4fa1\u6210\u529f\u3060\u3063\u305f\u3089\u6210\u529f\u3068\u3059\u308b\u304b ProposedArea : # base_link\u3092\u4e2d\u5fc3\u306b\u975e\u691c\u77e5\u306e\u30a8\u30ea\u30a2\u3092\u4e00\u7b46\u63cf\u304d\u306epolygon\u3067\u8a18\u8ff0\u3059\u308b\u3002\u6642\u8a08\u5468\u308a\u306b\u8a18\u8ff0\u3059\u308b polygon_2d : # xy\u5e73\u9762\u3067polygon\u3092\u6642\u8a08\u56de\u308a\u3067\u8a18\u8ff0\u3059\u308b - [ 10.0 , 1.5 ] - [ 10.0 , -1.5 ] - [ 0.0 , -1.5 ] - [ 0.0 , 1.5 ] z_min : 0.0 # 3D\u306b\u3059\u308b\u3068\u304d\u306ez\u4e0b\u9650\u5024 z_max : 1.5 # 3D\u306b\u3059\u308b\u3068\u304d\u306ez\u4e0a\u9650\u5024 SensingEvaluationConfig : evaluation_config_dict : evaluation_task : sensing # \u56fa\u5b9a\u5024 target_uuids : # detection\u3067\u5bfe\u8c61\u3068\u3059\u308b\u30d0\u30a6\u30f3\u30c7\u30a3\u30f3\u30b0\u30dc\u30c3\u30af\u30b9\u306eID - 1b40c0876c746f96ac679a534e1037a2 box_scale_0m : 1.0 # \u30d0\u30a6\u30f3\u30c7\u30a3\u30f3\u30b0\u30dc\u30c3\u30af\u30b9\u3092\u8ddd\u96e2\u306b\u5fdc\u3058\u3066\u62e1\u5927\u7e2e\u5c0f\u3059\u308b\u500d\u73870m\u5730\u70b9 box_scale_100m : 1.0 # 100m\u5730\u70b9\u306e\u500d\u7387\u30010\u304b\u3089100m\u307e\u3067\u8ddd\u96e2\u306b\u5fdc\u3058\u3066\u7dda\u5f62\u88dc\u5b8c\u3067\u500d\u7387\u304c\u6c7a\u5b9a\u3059\u308b min_points_threshold : 1 # \u30d0\u30a6\u30f3\u30c7\u30a3\u30f3\u30b0\u30dc\u30c3\u30af\u30b9\u306b\u6700\u4f4e\u4f55\u500b\u306e\u70b9\u304c\u5165\u3063\u3066\u3044\u308c\u3070Detection\u3092\u6210\u529f\u3068\u3059\u308b\u304b\u306e\u3057\u304d\u3044\u5024 \u8a55\u4fa1\u7d50\u679c\u30d5\u30a9\u30fc\u30de\u30c3\u30c8 # obstacle_segmentation \u3067\u306f\u3001\u691c\u77e5(Detection)\u3068\u975e\u691c\u77e5(NonDetection)\u306e 2 \u3064\u3092\u8a55\u4fa1\u3057\u3066\u3044\u308b\u3002 1 \u56de\u306e\u70b9\u7fa4\u306e callback \u3067\u540c\u6642\u306b\u8a55\u4fa1\u3057\u3066\u3044\u308b\u304c\u3001\u305d\u308c\u305e\u308c\u5225\u306b\u30ab\u30a6\u30f3\u30c8\u3057\u3066\u3044\u308b\u3002 Result \u306f\u691c\u77e5\u3068\u975e\u691c\u77e5\u4e21\u65b9\u306e\u30d1\u30b9\u3057\u3066\u3044\u308c\u3070 true \u3067\u305d\u308c\u4ee5\u5916\u306f false \u5931\u6557\u3068\u306a\u308b\u3002 \u4ee5\u4e0b\u306b\u3001\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u793a\u3059\u3002 \u6ce8:\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u89e3\u8aac\u6e08\u307f\u306e\u5171\u901a\u90e8\u5206\u306b\u3064\u3044\u3066\u306f\u7701\u7565\u3059\u308b\u3002 { \"Frame\" : { \"FrameName\" : \"\u8a55\u4fa1\u306b\u4f7f\u7528\u3057\u305ft4_dataset\u306e\u30d5\u30ec\u30fc\u30e0\u756a\u53f7\" , \"FrameSkip\" : \"object\u306e\u8a55\u4fa1\u3092\u4f9d\u983c\u3057\u305f\u304cdataset\u306b75msec\u4ee5\u5185\u306e\u771f\u5024\u304c\u306a\u304f\u8a55\u4fa1\u3092\u98db\u3070\u3055\u308c\u305f\u56de\u6570\" , \"Detection\" : { \"Result\" : \"Success, Warn, Fail, or Skipped\" , \"Info\" : [ { \"Annotation\" : \"\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3055\u308c\u305f\u30d0\u30f3\u30c7\u30a3\u30f3\u30b0\u30dc\u30c3\u30af\u30b9\u306e\u60c5\u5831\u3001\u4f4d\u7f6e\u59ff\u52e2\u3001ID\" , \"PointCloud\" : \"\u8a55\u4fa1\u3057\u305f\u70b9\u7fa4\u306e\u60c5\u5831\u3001\u30d0\u30a6\u30f3\u30c7\u30a3\u30f3\u30b0\u30dc\u30c3\u30af\u30b9\u5185\u306e\u70b9\u306e\u6570\u3068\u3001base_link\u304b\u3089\u306e\u6700\u8fd1\u508d\u306e\u70b9\u306e\u4f4d\u7f6e\" } ] }, \"NonDetection\" : { \"Result\" : \"Success, Fail, or Skipped\" , \"Info\" : [ { \"PointCloud\" : \"\u975e\u691c\u77e5\u30a8\u30ea\u30a2\u306b\u51fa\u3066\u3044\u308b\u70b9\u306e\u6570\u3068\u3001base_link\u304b\u3089\u306e\u8ddd\u96e2\u6bce\u306e\u5206\u5e03\" } ] }, \"StopReasons\" : \"Planning module\u304c\u51fa\u529b\u3059\u308b\u505c\u6b62\u7406\u7531\u3002\u53c2\u8003\u5024\" , \"TopicRate\" : \"\u70b9\u7fa4\u306e\u51fa\u529b\u30ec\u30fc\u30c8\u304c\u6b63\u5e38\u304b\u3069\u3046\u304b\u3092\u793a\u3059diag\u306e\u7d50\u679c\" } }","title":"\u70b9\u7fa4\u751f\u6210\u306e\u8a55\u4fa1"},{"location":"ja/use_case/obstacle_segmentation/#_1","text":"Autoware \u306e\u70b9\u7fa4\u51e6\u7406\u306e\u30d7\u30ed\u30bb\u30b9(sensing\u2192perception)\u304c\u52d5\u4f5c\u3057\u3066\u3001/perception/obstacle_segmentation/pointcloud \u304c\u610f\u56f3\u901a\u308a\u306b\u51fa\u529b\u3055\u308c\u308b\u304b\u3069\u3046\u304b\u3092\u8a55\u4fa1\u3059\u308b\u3002 \u70b9\u7fa4\u304c\u610f\u56f3\u901a\u308a\u306b\u51fa\u529b\u3055\u308c\u3066\u3044\u308b\u304b\u306e\u5224\u5b9a\u306f\u3001t4_dataset \u3068\u70b9\u7fa4\u3092\u7528\u3044\u3066\u884c\u3046\u3002\u4ee5\u4e0b\u306e\u8a55\u4fa1\u3092\u540c\u6642\u306b\u884c\u3046\u3002 \u4e8b\u524d\u306b\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3057\u3066\u304a\u3044\u305f\u8eca\u4e21\u3084\u6b69\u884c\u8005\u306a\u3069\u304c\u691c\u77e5\u51fa\u6765\u3066\u3044\u308b\u304b\u306e\u8a55\u4fa1\uff08detection: \u691c\u77e5\uff09 \u30ec\u30fc\u30f3\u3068\u30b7\u30ca\u30ea\u30aa\u3067\u5b9a\u7fa9\u3057\u305f\u81ea\u8eca\u4e21\u5468\u308a\u306e\u30dd\u30ea\u30b4\u30f3\u304c\u91cd\u306a\u308b\u30a8\u30ea\u30a2\u306b\u4f59\u5206\u306a\u70b9\u7fa4\u304c\u51fa\u3066\u3044\u306a\u3044\u304b\u306e\u8a55\u4fa1\uff08non_detection: \u975e\u691c\u77e5\uff09 \u307e\u305f\u3001\u8a55\u4fa1\u6761\u4ef6\u306b null \u3092\u6307\u5b9a\u3059\u308c\u3070\u8a55\u4fa1\u3057\u306a\u3044\u3053\u3068\u3082\u53ef\u80fd\u3067\u3042\u308b\u3002\u3059\u306a\u308f\u3061\u4ee5\u4e0b\u306e 3 \u30e2\u30fc\u30c9\u3067\u8a55\u4fa1\u3092\u5b9f\u65bd\u3067\u304d\u308b\u3002 detection \u3068 non_detection \u3092\u540c\u6642\u306b\u8a55\u4fa1\u3059\u308b detection \u3060\u3051\u8a55\u4fa1\u3059\u308b(NonDetection: null) non_detection \u3060\u3051\u8a55\u4fa1\u3059\u308b(Detection: null) \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u30c4\u30fc\u30eb\u306f Deepen \u304c\u63a8\u5968\u3067\u3042\u308b\u304c\u3001t4_dataset \u3078\u306e\u5909\u63db\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u30c4\u30fc\u30eb\u3067\u3042\u308c\u3070\u3088\u3044\u3002 \u5909\u63db\u30c4\u30fc\u30eb\u3055\u3048\u4f5c\u6210\u3067\u304d\u308c\u3070\u8907\u6570\u306e\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u30c4\u30fc\u30eb\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3042\u308b\u3002","title":"\u70b9\u7fa4\u751f\u6210\u306e\u8a55\u4fa1"},{"location":"ja/use_case/obstacle_segmentation/#_2","text":"obstacle_segmentation.launch.py \u3092\u4f7f\u7528\u3057\u3066\u8a55\u4fa1\u3059\u308b\u3002 launch \u3092\u7acb\u3061\u4e0a\u3052\u308b\u3068\u4ee5\u4e0b\u306e\u3053\u3068\u304c\u5b9f\u884c\u3055\u308c\u3001\u8a55\u4fa1\u3055\u308c\u308b\u3002 launch \u3067 C++\u306e\u8a55\u4fa1\u30ce\u30fc\u30c9 \u3068\u3001 Python \u306e\u8a55\u4fa1\u30ce\u30fc\u30c9 \u3001 logging_simulator.launch \u3001 ros2 bag play \u30b3\u30de\u30f3\u30c9\u3092\u7acb\u3061\u4e0a\u3052\u308b bag \u304b\u3089\u51fa\u529b\u3055\u308c\u305f\u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u3092 autoware \u304c\u53d7\u3051\u53d6\u3063\u3066\u3001/perception/obstacle_segmentation/pointcloud \u3092\u51fa\u529b\u3059\u308b C++\u306e\u8a55\u4fa1\u30ce\u30fc\u30c9\u304c/perception/obstacle_segmentation/pointcloud \u3092 subscribe \u3057\u3066\u3001header \u306e\u6642\u523b\u3067\u975e\u691c\u77e5\u30a8\u30ea\u30a2\u306e polygon \u3092\u8a08\u7b97\u3059\u308b\u3002 \u975e\u691c\u77e5\u30a8\u30ea\u30a2\u306e\u30dd\u30ea\u30b4\u30f3\u3001pointcloud \u3092/driving_log_replayer/obstacle_segmentation/input \u306b publish \u3059\u308b Python \u306e\u8a55\u4fa1\u30ce\u30fc\u30c9\u304c/driving_log_replayer/obstacle_segmentation/input \u3092 subscribe \u3057\u3066\u3001callback \u3067 perception_eval \u3092\u4f7f\u3063\u3066\u8a55\u4fa1\u3059\u308b\u3002\u7d50\u679c\u3092\u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u9332\u3059\u308b bag \u306e\u518d\u751f\u304c\u7d42\u4e86\u3059\u308b\u3068\u81ea\u52d5\u3067 launch \u304c\u7d42\u4e86\u3057\u3066\u8a55\u4fa1\u304c\u7d42\u4e86\u3059\u308b","title":"\u8a55\u4fa1\u65b9\u6cd5"},{"location":"ja/use_case/obstacle_segmentation/#_3","text":"topic \u306e subscribe 1 \u56de\u306b\u3064\u304d\u3001\u4ee5\u4e0b\u306b\u8a18\u8ff0\u3059\u308b\u5224\u5b9a\u7d50\u679c\u304c\u51fa\u529b\u3055\u308c\u308b\u3002","title":"\u8a55\u4fa1\u7d50\u679c"},{"location":"ja/use_case/obstacle_segmentation/#_4","text":"\u4ee5\u4e0b\u306e\u6761\u4ef6\u3092\u3059\u3079\u3066\u6e80\u305f\u3059\u5834\u5408\u3001\u691c\u77e5\u6b63\u5e38\u3068\u306a\u308b\u3002 \u30b7\u30ca\u30ea\u30aa\u3067\u6307\u5b9a\u3057\u305f UUID \u3092\u6301\u30d0\u30a6\u30f3\u30c7\u30a3\u30f3\u30b0\u30dc\u30c3\u30af\u30b9\u5185\u306b\u3001\u6307\u5b9a\u3057\u305f\u70b9\u6570\u4ee5\u4e0a\u306e\u70b9\u7fa4\uff08/perception/obstacle_segmentation/pointcloud\uff09\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u3053\u3068\u3002 \u8907\u6570\u306e UUID \u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u306f\u3001\u6307\u5b9a\u3057\u305f\u3059\u3079\u3066\u306e\u30d0\u30a6\u30f3\u30c7\u30a3\u30f3\u30b0\u30dc\u30c3\u30af\u30b9\u306b\u3064\u3044\u3066\u6761\u4ef6\u3092\u6e80\u305f\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 Autoware \u306e\u8a3a\u65ad\u6a5f\u80fd\u3067\u63d0\u4f9b\u3055\u308c\u308b\u70b9\u7fa4\u306e\u51fa\u529b\u30ec\u30fc\u30c8\u304c\u30a8\u30e9\u30fc\u72b6\u614b\u3067\u306a\u3044\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u3057\u304d\u3044\u5024\u306f 1.0Hz \u3067\u3059\u3002","title":"\u691c\u77e5\u6b63\u5e38"},{"location":"ja/use_case/obstacle_segmentation/#_5","text":"\u30b7\u30ca\u30ea\u30aa\u3067\u6307\u5b9a\u3057\u305f UUID \u3092\u6301\u3064 bounding box \u306e visibility \u304c none(occlusion \u72b6\u614b)\u3067\u3042\u308a\u3001\u8a55\u4fa1\u51fa\u6765\u306a\u3044\u5834\u5408\u3002","title":"\u691c\u77e5\u8b66\u544a"},{"location":"ja/use_case/obstacle_segmentation/#_6","text":"\u691c\u77e5\u8b66\u544a\u3067\u3082\u3001\u691c\u77e5\u6b63\u5e38\u3067\u3082\u306a\u3044\u5834\u5408","title":"\u691c\u77e5\u7570\u5e38"},{"location":"ja/use_case/obstacle_segmentation/#_7","text":"\u975e\u691c\u77e5\u30a8\u30ea\u30a2\u306b\u70b9\u7fa4\u304c 1 \u70b9\u3082\u306a\u3044\u3053\u3068\u3002 \u975e\u691c\u77e5\u30a8\u30ea\u30a2\u306f\u8a55\u4fa1\u65b9\u6cd5\u306e\u30b9\u30c6\u30c3\u30d7 3 \u3067 C++\u306e\u30ce\u30fc\u30c9\u3067\u8a08\u7b97\u3055\u308c\u308b\u9818\u57df\u3002","title":"\u975e\u691c\u77e5\u6b63\u5e38"},{"location":"ja/use_case/obstacle_segmentation/#_8","text":"\u975e\u691c\u77e5\u30a8\u30ea\u30a2\u306b\u70b9\u7fa4\u304c\u51fa\u3066\u3044\u308b\u3053\u3068\u3002","title":"\u975e\u691c\u77e5\u7570\u5e38"},{"location":"ja/use_case/obstacle_segmentation/#topic","text":"Subscribed topics: topic \u540d \u30c7\u30fc\u30bf\u578b /perception/obstacle_segmentation/pointcloud sensor_msgs::msg::PointCloud2 /diagnostics_agg diagnostic_msgs::msg::DiagnosticArray /map/vector_map autoware_auto_mapping_msgs::msg::HADMapBin /tf tf2_msgs/msg/TFMessage /planning/scenario_planning/status/stop_reasons tier4_planning_msgs::msg::StopReasonArray /planning/scenario_planning/trajectory autoware_auto_planning_msgs::msg::Trajectory Published topics: topic \u540d \u30c7\u30fc\u30bf\u578b /driving_log_replayer/obstacle_segmentation/input driving_log_replayer_msgs::msg:ObstacleSegmentationInput /driving_log_replayer/marker/detection visualization_msgs::msg::MarkerArray /driving_log_replayer/marker/non_detection visualization_msgs::msg::MarkerArray /driving_log_replayer/pcd/detection sensor_msgs::msg::PointCloud2 /driving_log_replayer/pcd/non_detection sensor_msgs::msg::PointCloud2 /planning/mission_planning/goal geometry_msgs::msg::PoseStamped","title":"\u8a55\u4fa1\u30ce\u30fc\u30c9\u304c\u4f7f\u7528\u3059\u308b Topic \u540d\u3068\u30c7\u30fc\u30bf\u578b"},{"location":"ja/use_case/obstacle_segmentation/#logging_simulatorlaunch","text":"autoware \u306e\u51e6\u7406\u3092\u8efd\u304f\u3059\u308b\u305f\u3081\u3001\u8a55\u4fa1\u306b\u95a2\u4fc2\u306e\u306a\u3044\u30e2\u30b8\u30e5\u30fc\u30eb\u306f launch \u306e\u5f15\u6570\u306b false \u3092\u6e21\u3059\u3053\u3068\u3067\u7121\u52b9\u5316\u3059\u308b\u3002\u4ee5\u4e0b\u3092\u8a2d\u5b9a\u3059\u308b\u3002 localization: false control: false","title":"logging_simulator.launch \u306b\u6e21\u3059\u5f15\u6570"},{"location":"ja/use_case/obstacle_segmentation/#simulation","text":"\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u5b9f\u884c\u306b\u5fc5\u8981\u306a\u60c5\u5831\u3092\u8ff0\u3079\u308b\u3002","title":"simulation"},{"location":"ja/use_case/obstacle_segmentation/#rosbag-topic","text":"t4_dataset \u3067\u5fc5\u8981\u306a\u30c8\u30d4\u30c3\u30af\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u3053\u3068","title":"\u5165\u529b rosbag \u306b\u542b\u307e\u308c\u308b\u3079\u304d topic"},{"location":"ja/use_case/obstacle_segmentation/#evaluation","text":"\u8a55\u4fa1\u306b\u5fc5\u8981\u306a\u60c5\u5831\u3092\u8ff0\u3079\u308b\u3002","title":"evaluation"},{"location":"ja/use_case/obstacle_segmentation/#_9","text":"Evaluation : UseCaseName : obstacle_segmentation UseCaseFormatVersion : 0.2.0 Datasets : - 63800729-18d2-4383-91e9-fea7bad384f4 : VehicleId : ps1/20210620/CAL_000015 # \u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u6bce\u306bVehicleId\u3092\u6307\u5b9a\u3059\u308b LocalMapPath : $HOME/map/obstacle_segmentation # \u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u6bce\u306bLocalMapPath\u3092\u6307\u5b9a\u3059\u308b Conditions : Detection : # Detection\u306e\u8a55\u4fa1\u3092\u884c\u308f\u306a\u3044\u5834\u5408\u306fnull\u3092\u30bb\u30c3\u30c8\u3059\u308b PassRate : 99.0 # \u8a55\u4fa1\u8a66\u884c\u56de\u6570\u306e\u5185\u3001\u3069\u306e\u7a0b\u5ea6(%)\u8a55\u4fa1\u6210\u529f\u3060\u3063\u305f\u3089\u6210\u529f\u3068\u3059\u308b\u304b NonDetection : # NonDetection\u306e\u8a55\u4fa1\u3092\u884c\u308f\u306a\u3044\u5834\u5408\u306fnull\u3092\u30bb\u30c3\u30c8\u3059\u308b PassRate : 99.0 # \u8a55\u4fa1\u8a66\u884c\u56de\u6570\u306e\u5185\u3001\u3069\u306e\u7a0b\u5ea6(%)\u8a55\u4fa1\u6210\u529f\u3060\u3063\u305f\u3089\u6210\u529f\u3068\u3059\u308b\u304b ProposedArea : # base_link\u3092\u4e2d\u5fc3\u306b\u975e\u691c\u77e5\u306e\u30a8\u30ea\u30a2\u3092\u4e00\u7b46\u63cf\u304d\u306epolygon\u3067\u8a18\u8ff0\u3059\u308b\u3002\u6642\u8a08\u5468\u308a\u306b\u8a18\u8ff0\u3059\u308b polygon_2d : # xy\u5e73\u9762\u3067polygon\u3092\u6642\u8a08\u56de\u308a\u3067\u8a18\u8ff0\u3059\u308b - [ 10.0 , 1.5 ] - [ 10.0 , -1.5 ] - [ 0.0 , -1.5 ] - [ 0.0 , 1.5 ] z_min : 0.0 # 3D\u306b\u3059\u308b\u3068\u304d\u306ez\u4e0b\u9650\u5024 z_max : 1.5 # 3D\u306b\u3059\u308b\u3068\u304d\u306ez\u4e0a\u9650\u5024 SensingEvaluationConfig : evaluation_config_dict : evaluation_task : sensing # \u56fa\u5b9a\u5024 target_uuids : # detection\u3067\u5bfe\u8c61\u3068\u3059\u308b\u30d0\u30a6\u30f3\u30c7\u30a3\u30f3\u30b0\u30dc\u30c3\u30af\u30b9\u306eID - 1b40c0876c746f96ac679a534e1037a2 box_scale_0m : 1.0 # \u30d0\u30a6\u30f3\u30c7\u30a3\u30f3\u30b0\u30dc\u30c3\u30af\u30b9\u3092\u8ddd\u96e2\u306b\u5fdc\u3058\u3066\u62e1\u5927\u7e2e\u5c0f\u3059\u308b\u500d\u73870m\u5730\u70b9 box_scale_100m : 1.0 # 100m\u5730\u70b9\u306e\u500d\u7387\u30010\u304b\u3089100m\u307e\u3067\u8ddd\u96e2\u306b\u5fdc\u3058\u3066\u7dda\u5f62\u88dc\u5b8c\u3067\u500d\u7387\u304c\u6c7a\u5b9a\u3059\u308b min_points_threshold : 1 # \u30d0\u30a6\u30f3\u30c7\u30a3\u30f3\u30b0\u30dc\u30c3\u30af\u30b9\u306b\u6700\u4f4e\u4f55\u500b\u306e\u70b9\u304c\u5165\u3063\u3066\u3044\u308c\u3070Detection\u3092\u6210\u529f\u3068\u3059\u308b\u304b\u306e\u3057\u304d\u3044\u5024","title":"\u30b7\u30ca\u30ea\u30aa\u30d5\u30a9\u30fc\u30de\u30c3\u30c8"},{"location":"ja/use_case/obstacle_segmentation/#_10","text":"obstacle_segmentation \u3067\u306f\u3001\u691c\u77e5(Detection)\u3068\u975e\u691c\u77e5(NonDetection)\u306e 2 \u3064\u3092\u8a55\u4fa1\u3057\u3066\u3044\u308b\u3002 1 \u56de\u306e\u70b9\u7fa4\u306e callback \u3067\u540c\u6642\u306b\u8a55\u4fa1\u3057\u3066\u3044\u308b\u304c\u3001\u305d\u308c\u305e\u308c\u5225\u306b\u30ab\u30a6\u30f3\u30c8\u3057\u3066\u3044\u308b\u3002 Result \u306f\u691c\u77e5\u3068\u975e\u691c\u77e5\u4e21\u65b9\u306e\u30d1\u30b9\u3057\u3066\u3044\u308c\u3070 true \u3067\u305d\u308c\u4ee5\u5916\u306f false \u5931\u6557\u3068\u306a\u308b\u3002 \u4ee5\u4e0b\u306b\u3001\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u793a\u3059\u3002 \u6ce8:\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u89e3\u8aac\u6e08\u307f\u306e\u5171\u901a\u90e8\u5206\u306b\u3064\u3044\u3066\u306f\u7701\u7565\u3059\u308b\u3002 { \"Frame\" : { \"FrameName\" : \"\u8a55\u4fa1\u306b\u4f7f\u7528\u3057\u305ft4_dataset\u306e\u30d5\u30ec\u30fc\u30e0\u756a\u53f7\" , \"FrameSkip\" : \"object\u306e\u8a55\u4fa1\u3092\u4f9d\u983c\u3057\u305f\u304cdataset\u306b75msec\u4ee5\u5185\u306e\u771f\u5024\u304c\u306a\u304f\u8a55\u4fa1\u3092\u98db\u3070\u3055\u308c\u305f\u56de\u6570\" , \"Detection\" : { \"Result\" : \"Success, Warn, Fail, or Skipped\" , \"Info\" : [ { \"Annotation\" : \"\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3055\u308c\u305f\u30d0\u30f3\u30c7\u30a3\u30f3\u30b0\u30dc\u30c3\u30af\u30b9\u306e\u60c5\u5831\u3001\u4f4d\u7f6e\u59ff\u52e2\u3001ID\" , \"PointCloud\" : \"\u8a55\u4fa1\u3057\u305f\u70b9\u7fa4\u306e\u60c5\u5831\u3001\u30d0\u30a6\u30f3\u30c7\u30a3\u30f3\u30b0\u30dc\u30c3\u30af\u30b9\u5185\u306e\u70b9\u306e\u6570\u3068\u3001base_link\u304b\u3089\u306e\u6700\u8fd1\u508d\u306e\u70b9\u306e\u4f4d\u7f6e\" } ] }, \"NonDetection\" : { \"Result\" : \"Success, Fail, or Skipped\" , \"Info\" : [ { \"PointCloud\" : \"\u975e\u691c\u77e5\u30a8\u30ea\u30a2\u306b\u51fa\u3066\u3044\u308b\u70b9\u306e\u6570\u3068\u3001base_link\u304b\u3089\u306e\u8ddd\u96e2\u6bce\u306e\u5206\u5e03\" } ] }, \"StopReasons\" : \"Planning module\u304c\u51fa\u529b\u3059\u308b\u505c\u6b62\u7406\u7531\u3002\u53c2\u8003\u5024\" , \"TopicRate\" : \"\u70b9\u7fa4\u306e\u51fa\u529b\u30ec\u30fc\u30c8\u304c\u6b63\u5e38\u304b\u3069\u3046\u304b\u3092\u793a\u3059diag\u306e\u7d50\u679c\" } }","title":"\u8a55\u4fa1\u7d50\u679c\u30d5\u30a9\u30fc\u30de\u30c3\u30c8"},{"location":"ja/use_case/perception/","text":"\u8a8d\u8b58\u6a5f\u80fd\u306e\u8a55\u4fa1 # Autoware \u306e\u8a8d\u8b58\u6a5f\u80fd(perception)\u306e\u8a8d\u8b58\u7d50\u679c\u304b\u3089 mAP(mean Average Precision)\u306a\u3069\u306e\u6307\u6a19\u3092\u8a08\u7b97\u3057\u3066\u6027\u80fd\u3092\u8a55\u4fa1\u3059\u308b\u3002 perception \u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u8d77\u52d5\u3057\u3066\u51fa\u529b\u3055\u308c\u308b perception \u306e topic \u3092\u8a55\u4fa1\u7528\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u6e21\u3057\u3066\u8a55\u4fa1\u3092\u884c\u3046\u3002 \u8a55\u4fa1\u65b9\u6cd5 # perception.launch.py \u3092\u4f7f\u7528\u3057\u3066\u8a55\u4fa1\u3059\u308b\u3002 launch \u3092\u7acb\u3061\u4e0a\u3052\u308b\u3068\u4ee5\u4e0b\u306e\u3053\u3068\u304c\u5b9f\u884c\u3055\u308c\u3001\u8a55\u4fa1\u3055\u308c\u308b\u3002 launch \u3067\u8a55\u4fa1\u30ce\u30fc\u30c9( perception_evaluator_node )\u3068 logging_simulator.launch \u3001 ros2 bag play \u30b3\u30de\u30f3\u30c9\u3092\u7acb\u3061\u4e0a\u3052\u308b bag \u304b\u3089\u51fa\u529b\u3055\u308c\u305f\u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u3092 autoware \u304c\u53d7\u3051\u53d6\u3063\u3066\u3001\u70b9\u7fa4\u30c7\u30fc\u30bf\u3092\u51fa\u529b\u3057\u3001perception \u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u8a8d\u8b58\u3092\u884c\u3046 \u8a55\u4fa1\u30ce\u30fc\u30c9\u304c/perception/object_recognition/{detection, tracking}/objects \u3092 subscribe \u3057\u3066\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3067 perception_eval \u306e\u95a2\u6570\u3092\u7528\u3044\u3066\u8a55\u4fa1\u3057\u7d50\u679c\u3092\u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u9332\u3059\u308b bag \u306e\u518d\u751f\u304c\u7d42\u4e86\u3059\u308b\u3068\u81ea\u52d5\u3067 launch \u304c\u7d42\u4e86\u3057\u3066\u8a55\u4fa1\u304c\u7d42\u4e86\u3059\u308b \u6ce8\u610f\u4e8b\u9805 # autoware \u3092\u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3057\u3066 perception \u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u521d\u56de\u8d77\u52d5\u3057\u305f\u5834\u5408\u306b\u306f\u3001lidar_centerpoint \u306e onnx \u30d5\u30a1\u30a4\u30eb\u306e\u5909\u63db\u51e6\u7406\u304c\u884c\u308f\u308c\u308b \u8a55\u4fa1\u65b9\u6cd5\u306e\u30b9\u30c6\u30c3\u30d7 1 \u3067\u306f\u3001\u5909\u63db\u304c\u5b8c\u4e86\u3059\u308b\u306e\u3092\u5f85\u3064\u305f\u3081\u3001\u4e00\u898b\u6b62\u307e\u3063\u3066\u3044\u308b\u3088\u3046\u306b\u898b\u3048\u308b\u9577\u3044\u51e6\u7406\u304c\u3042\u308a\u307e\u3059\u3002 \u3053\u308c\u306f\u6b63\u5e38\u306a\u52d5\u4f5c\u3067\u3059\u306e\u3067\u3001\u30ad\u30fc\u30dc\u30fc\u30c9\u5165\u529b\u3067\u505c\u6b62\u305b\u305a\u3001\u305d\u306e\u307e\u307e\u304a\u5f85\u3061\u304f\u3060\u3055\u3044\u3002 \u8a55\u4fa1\u7d50\u679c # topic \u306e subscribe 1 \u56de\u306b\u3064\u304d\u3001\u4ee5\u4e0b\u306b\u8a18\u8ff0\u3059\u308b\u5224\u5b9a\u7d50\u679c\u304c\u51fa\u529b\u3055\u308c\u308b\u3002 \u6b63\u5e38 # perception_eval \u306e\u8a55\u4fa1\u95a2\u6570\u3092\u5b9f\u884c\u3057\u3066\u4ee5\u4e0b\u306e\u6761\u4ef6\u3092\u6e80\u305f\u3059\u3068\u304d frame_result.pass_fail_result \u306b object \u304c\u6700\u4f4e 1 \u3064\u5165\u3063\u3066\u3044\u308b ( tp_objects is not None and fp_objects is not None and fn_objects is not None ) \u8a55\u4fa1\u5931\u6557\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c 0 \u500b ( frame_result.pass_fail_result.get_fail_object_num() == 0 ) \u7570\u5e38 # \u6b63\u5e38\u306e\u6761\u4ef6\u3092\u6e80\u305f\u3055\u306a\u3044\u5834\u5408 \u8a55\u4fa1\u30ce\u30fc\u30c9\u304c\u4f7f\u7528\u3059\u308b Topic \u540d\u3068\u30c7\u30fc\u30bf\u578b # Subscribed topics: topic \u540d \u30c7\u30fc\u30bf\u578b /perception/object_recognition/detection/objects autoware_auto_perception_msgs/msg/DetectedObjects /perception/object_recognition/tracking/objects autoware_auto_perception_msgs/msg/TrackedObjects Published topics: topic \u540d \u30c7\u30fc\u30bf\u578b /driving_log_replayer/marker/ground_truth visualization_msgs::msg::MarkerArray /driving_log_replayer/marker/results visualization_msgs::msg::MarkerArray logging_simulator.launch \u306b\u6e21\u3059\u5f15\u6570 # autoware \u306e\u51e6\u7406\u3092\u8efd\u304f\u3059\u308b\u305f\u3081\u3001\u8a55\u4fa1\u306b\u95a2\u4fc2\u306e\u306a\u3044\u30e2\u30b8\u30e5\u30fc\u30eb\u306f launch \u306e\u5f15\u6570\u306b false \u3092\u6e21\u3059\u3053\u3068\u3067\u7121\u52b9\u5316\u3059\u308b\u3002\u4ee5\u4e0b\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u3002 localization: false planning: false control: false sensing: false / true (\u30c7\u30d5\u30a9\u30eb\u30c8 false\u3001\u30b7\u30ca\u30ea\u30aa\u306e LaunchSensing \u30ad\u30fc\u3067 t4_dataset \u6bce\u306b\u6307\u5b9a\u3059\u308b) \u6ce8:\u30a2\u30ce\u30fc\u30c6\u30b7\u30e7\u30f3\u6642\u3068\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u6642\u3067\u81ea\u5df1\u4f4d\u7f6e\u3092\u5408\u308f\u305b\u305f\u3044\u306e\u3067 bag \u306b\u5165\u3063\u3066\u3044\u308b tf \u3092\u4f7f\u3044\u56de\u3059\u3002\u305d\u306e\u305f\u3081 localization \u306f\u7121\u52b9\u3067\u3042\u308b\u3002 \u4f9d\u5b58\u30e9\u30a4\u30d6\u30e9\u30ea # \u8a8d\u8b58\u6a5f\u80fd\u306e\u8a55\u4fa1\u306f perception_eval \u306b\u4f9d\u5b58\u3057\u3066\u3044\u308b\u3002 \u4f9d\u5b58\u30e9\u30a4\u30d6\u30e9\u30ea\u3068\u306e driving_log_replayer \u306e\u5f79\u5272\u5206\u62c5 # driving_log_replayer \u304c ROS \u3068\u306e\u63a5\u7d9a\u90e8\u5206\u3092\u62c5\u5f53\u3057\u3001perception_eval \u304c\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3092\u4f7f\u3063\u3066\u5b9f\u969b\u306b\u8a55\u4fa1\u3059\u308b\u90e8\u5206\u3092\u62c5\u5f53\u3059\u308b\u3068\u3044\u3046\u5206\u62c5\u306b\u306a\u3063\u3066\u3044\u308b\u3002 perception_eval \u306f ROS \u975e\u4f9d\u5b58\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u306a\u306e\u3067\u3001ROS \u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u53d7\u3051\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u3044\u3002 \u307e\u305f\u3001timestamp \u304c ROS \u3067\u306f\u30ca\u30ce\u79d2\u3001t4_dataset \u306f nuScenes \u3092\u30d9\u30fc\u30b9\u3057\u3066\u3044\u308b\u305f\u3081\u30df\u30ea\u79d2\u304c\u63a1\u7528\u3055\u308c\u3066\u3044\u308b\u3002 \u3053\u306e\u305f\u3081\u3001\u30e9\u30a4\u30d6\u30e9\u30ea\u4f7f\u7528\u524d\u306b\u9069\u5207\u306a\u5909\u63db\u304c\u5fc5\u8981\u3068\u306a\u308b\u3002 driving_log_replayer \u306f\u3001autoware \u306e perception \u30e2\u30b8\u30e5\u30fc\u30eb\u304b\u3089\u51fa\u529b\u3055\u308c\u305f topic \u3092 subscribe \u3057\u3001perception_eval \u304c\u671f\u5f85\u3059\u308b\u30c7\u30fc\u30bf\u5f62\u5f0f\u306b\u5909\u63db\u3057\u3066\u6e21\u3059\u3002 \u307e\u305f\u3001perception_eval \u304b\u3089\u8fd4\u3063\u3066\u304f\u308b\u8a55\u4fa1\u7d50\u679c\u306e ROS \u306e topic \u3067 publish \u3057\u53ef\u8996\u5316\u3059\u308b\u90e8\u5206\u3082\u62c5\u5f53\u3059\u308b\u3002 perception_eval \u306f\u3001driving_log_replayer \u304b\u3089\u6e21\u3055\u308c\u305f\u691c\u77e5\u7d50\u679c\u3068 GroundTruth \u3092\u6bd4\u8f03\u3057\u3066\u6307\u6a19\u3092\u8a08\u7b97\u3057\u3001\u7d50\u679c\u3092\u51fa\u529b\u3059\u308b\u90e8\u5206\u3092\u62c5\u5f53\u3059\u308b\u3002 simulation # \u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u5b9f\u884c\u306b\u5fc5\u8981\u306a\u60c5\u5831\u3092\u8ff0\u3079\u308b\u3002 \u5165\u529b rosbag \u306b\u542b\u307e\u308c\u308b\u3079\u304d topic # t4_dataset \u3067\u5fc5\u8981\u306a\u30c8\u30d4\u30c3\u30af\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u3053\u3068 evaluation # \u8a55\u4fa1\u306b\u5fc5\u8981\u306a\u60c5\u5831\u3092\u8ff0\u3079\u308b\u3002 \u30b7\u30ca\u30ea\u30aa\u30d5\u30a9\u30fc\u30de\u30c3\u30c8 # \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u8a55\u4fa1\u3068\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a55\u4fa1\u306e 2 \u7a2e\u985e\u306e\u8a55\u4fa1\u304c\u3042\u308b\u3002 \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306f 1 \u500b\u306e\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3067\u884c\u3046\u8a55\u4fa1\u3067\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306f\u8907\u6570\u306e\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3092\u7528\u3044\u3066\u3001\u5404\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u6bce\u306e\u7d50\u679c\u306e\u5e73\u5747\u3092\u53d6\u308b\u8a55\u4fa1\u3067\u3042\u308b\u3002 \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a55\u4fa1\u3067\u306f\u3001\u30ad\u30e3\u30ea\u30d6\u30ec\u30fc\u30b7\u30e7\u30f3\u5024\u306e\u5909\u66f4\u304c\u3042\u308a\u5f97\u308b\u306e\u3067 vehicle_id \u3092\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u6bce\u306b\u8a2d\u5b9a\u51fa\u6765\u308b\u3088\u3046\u306b\u3059\u308b\u3002 \u307e\u305f\u3001Sensing \u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u8d77\u52d5\u3059\u308b\u304b\u3069\u3046\u304b\u306e\u8a2d\u5b9a\u3082\u884c\u3046\u3002 Evaluation : UseCaseName : perception UseCaseFormatVersion : 0.3.0 Datasets : - f72e1065-7c38-40fe-a4e2-c5bbe6ff6443 : VehicleId : ps1/20210620/CAL_000015 # \u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u6bce\u306bVehicleId\u3092\u6307\u5b9a\u3059\u308b LaunchSensing : false # \u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u6bce\u306bsensing module\u3092\u8d77\u52d5\u3059\u308b\u304b\u3092\u6307\u5b9a\u3059\u308b LocalMapPath : $HOME/map/perception # \u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u6bce\u306bLocalMapPath\u3092\u6307\u5b9a\u3059\u308b Conditions : PassRate : 99.0 # \u8a55\u4fa1\u8a66\u884c\u56de\u6570\u306e\u5185\u3001\u3069\u306e\u7a0b\u5ea6(%)\u8a55\u4fa1\u6210\u529f\u3060\u3063\u305f\u3089\u6210\u529f\u3068\u3059\u308b\u304b PerceptionEvaluationConfig : evaluation_config_dict : evaluation_task : detection # detection/tracking \u3053\u3053\u3067\u6307\u5b9a\u3057\u305fobjects\u3092\u8a55\u4fa1\u3059\u308b target_labels : [ car , bicycle , pedestrian , motorbike ] # \u8a55\u4fa1\u30e9\u30d9\u30eb max_x_position : 102.4 # \u8a55\u4fa1\u5bfe\u8c61 object \u306e\u6700\u5927 x \u4f4d\u7f6e max_y_position : 102.4 # \u8a55\u4fa1\u5bfe\u8c61 object \u306e\u6700\u5927 y \u4f4d\u7f6e max_distance : null # \u8a55\u4fa1\u5bfe\u8c61 object \u306e base_link \u304b\u3089\u306e\u6700\u5927\u8ddd\u96e2\u3001max_x_potion, max_y_position\u3068\u6392\u4ed6\u5229\u7528\u3001\u3053\u306e\u4f8b\u3067\u306f\u3053\u3061\u3089\u306fnull min_distance : null # \u8a55\u4fa1\u5bfe\u8c61 object \u306e base_link \u304b\u3089\u306e\u6700\u5c0f\u8ddd\u96e2\u3001max_x_potion, max_y_position\u3068\u6392\u4ed6\u5229\u7528\u3001\u3053\u306e\u4f8b\u3067\u306f\u3053\u3061\u3089\u306fnull min_point_numbers : [ 0 , 0 , 0 , 0 ] # ground truth object \u306b\u304a\u3051\u308b\uff0cbbox \u5185\u306e\u6700\u5c0f\u70b9\u7fa4\u6570\uff0emin_point_numbers=0 \u306e\u5834\u5408\u306f\uff0c\u5168 ground truth object \u3092\u8a55\u4fa1 confidence_threshold : null # \u8a55\u4fa1\u5bfe\u8c61\u306e estimated object \u306e confidence \u306e\u95be\u5024 target_uuids : null # \u7279\u5b9a\u306e ground truth \u306e\u307f\u306b\u5bfe\u3057\u3066\u8a55\u4fa1\u3092\u884c\u3044\u305f\u3044\u5834\u5408\uff0c\u5bfe\u8c61\u3068\u3059\u308b ground truth \u306e UUID \u3092\u6307\u5b9a\u3059\u308b\u3002null\u306a\u3089\u5168\u3066\u304c\u5bfe\u8c61 center_distance_thresholds : [[ 1.0 , 1.0 , 1.0 , 1.0 ], [ 2.0 , 2.0 , 2.0 , 2.0 ]] # \u4e2d\u5fc3\u9593\u8ddd\u96e2\u30de\u30c3\u30c1\u30f3\u30b0\u6642\u306e\u95be\u5024 plane_distance_thresholds : [ 2.0 , 30.0 ] # \u5e73\u9762\u8ddd\u96e2\u30de\u30c3\u30c1\u30f3\u30b0\u6642\u306e\u95be\u5024 iou_bev_thresholds : [ 0.5 ] # BEV IoU \u3000\u30de\u30c3\u30c1\u30f3\u30b0\u6642\u306e\u95be\u5024 iou_3d_thresholds : [ 0.5 ] # 3D IoU \u30de\u30c3\u30c1\u30f3\u30b0\u6642\u306e\u95be\u5024 CriticalObjectFilterConfig : target_labels : [ car , bicycle , pedestrian , motorbike ] # \u8a55\u4fa1\u5bfe\u8c61\u30e9\u30d9\u30eb\u540d max_x_position_list : [ 30.0 , 30.0 , 30.0 , 30.0 ] # \u8a55\u4fa1\u5bfe\u8c61 object \u306e\u6700\u5927 x \u4f4d\u7f6e max_y_position_list : [ 30.0 , 30.0 , 30.0 , 30.0 ] # \u8a55\u4fa1\u5bfe\u8c61 object \u306e\u6700\u5927 y \u4f4d\u7f6e max_distance_list : null # \u8a55\u4fa1\u5bfe\u8c61 object \u306e base_link \u304b\u3089\u306e\u6700\u5927\u8ddd\u96e2\u3001max_x_potion, max_y_position\u3068\u6392\u4ed6\u5229\u7528\u3001\u3053\u306e\u4f8b\u3067\u306f\u3053\u3061\u3089\u306fnull min_distance_list : null # \u8a55\u4fa1\u5bfe\u8c61 object \u306e base_link \u304b\u3089\u306e\u6700\u5c0f\u8ddd\u96e2\u3001max_x_potion, max_y_position\u3068\u6392\u4ed6\u5229\u7528\u3001\u3053\u306e\u4f8b\u3067\u306f\u3053\u3061\u3089\u306fnull min_point_numbers : [ 0 , 0 , 0 , 0 ] # ground truth object \u306b\u304a\u3051\u308b\uff0cbbox \u5185\u306e\u6700\u5c0f\u70b9\u7fa4\u6570\uff0emin_point_numbers=0 \u306e\u5834\u5408\u306f\uff0c\u5168 ground truth object \u3092\u8a55\u4fa1 confidence_threshold_list : null # \u8a55\u4fa1\u5bfe\u8c61\u306e estimated object \u306e confidence \u306e\u95be\u5024 target_uuids : null # \u7279\u5b9a\u306e ground truth \u306e\u307f\u306b\u5bfe\u3057\u3066\u8a55\u4fa1\u3092\u884c\u3044\u305f\u3044\u5834\u5408\uff0c\u5bfe\u8c61\u3068\u3059\u308b ground truth \u306e UUID \u3092\u6307\u5b9a\u3059\u308b\u3002null\u306a\u3089\u5168\u3066\u304c\u5bfe\u8c61 PerceptionPassFailConfig : target_labels : [ car , bicycle , pedestrian , motorbike ] plane_distance_threshold_list : [ 2.0 , 2.0 , 2.0 , 2.0 ] # \u5e73\u9762\u8ddd\u96e2\u30de\u30c3\u30c1\u30f3\u30b0\u6642\u306e\u95be\u5024 \u8a55\u4fa1\u7d50\u679c\u30d5\u30a9\u30fc\u30de\u30c3\u30c8 # perception \u3067\u306f\u3001\u30b7\u30ca\u30ea\u30aa\u306b\u6307\u5b9a\u3057\u305f\u6761\u4ef6\u3067 perception_eval \u304c\u8a55\u4fa1\u3057\u305f\u7d50\u679c\u3092\u5404 frame \u6bce\u306b\u51fa\u529b\u3059\u308b\u3002 \u5168\u3066\u306e\u30c7\u30fc\u30bf\u3092\u6d41\u3057\u7d42\u308f\u3063\u305f\u3042\u3068\u306b\u3001\u6700\u7d42\u7684\u306a\u30e1\u30c8\u30ea\u30af\u30b9\u3092\u8a08\u7b97\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u6700\u7d42\u884c\u3060\u3051\u3001\u4ed6\u306e\u884c\u3068\u5f62\u5f0f\u304c\u7570\u306a\u308b\u3002 \u4ee5\u4e0b\u306b\u3001\u5404\u30d5\u30ec\u30fc\u30e0\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3068\u30e1\u30c8\u30ea\u30af\u30b9\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u793a\u3059\u3002 \u6ce8:\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u89e3\u8aac\u6e08\u307f\u306e\u5171\u901a\u90e8\u5206\u306b\u3064\u3044\u3066\u306f\u7701\u7565\u3059\u308b\u3002 \u5404\u30d5\u30ec\u30fc\u30e0\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8 { \"Frame\" : { \"FrameName\" : \"\u8a55\u4fa1\u306b\u4f7f\u7528\u3057\u305ft4_dataset\u306e\u30d5\u30ec\u30fc\u30e0\u756a\u53f7\" , \"FrameSkip\" : \"object\u306e\u8a55\u4fa1\u3092\u4f9d\u983c\u3057\u305f\u304cdataset\u306b75msec\u4ee5\u5185\u306e\u771f\u5024\u304c\u306a\u304f\u8a55\u4fa1\u3092\u98db\u3070\u3055\u308c\u305f\u56de\u6570\" , \"PassFail\" : { \"Result\" : \"Success or Fail\" , \"Info\" : [ { \"TP\" : \"TP\u3068\u5224\u5b9a\u3055\u308c\u305f\u6570\" , \"FP\" : \"FP\u3068\u5224\u5b9a\u3055\u308c\u305f\u6570\" , \"FN\" : \"FN\u3068\u5224\u5b9a\u3055\u308c\u305f\u6570\" } ] } } } \u30e1\u30c8\u30ea\u30af\u30b9\u30c7\u30fc\u30bf\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8 { \"Frame\" : { \"FinalScore\" : { \"Score\" : { \"TP\" : \"\u30e9\u30d9\u30eb\u306eTP\u7387\" , \"FP\" : \"\u30e9\u30d9\u30eb\u306eFP\u7387\" , \"FN\" : \"\u30e9\u30d9\u30eb\u306eFN\u7387\" , \"AP\" : \"\u30e9\u30d9\u30eb\u306eAP\u5024\" , \"APH\" : \"\u30e9\u30d9\u30eb\u306eAPH\u5024\" }, \"Error\" : { \"\u30e9\u30d9\u30eb\" : \"\u30e9\u30d9\u30eb\u306e\u8aa4\u5dee\u30e1\u30c8\u30ea\u30af\u30b9\" } } } } pickle \u30d5\u30a1\u30a4\u30eb # \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a55\u4fa1\u3067\u306f\u3001\u8907\u6570\u306e bag \u3092\u518d\u751f\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u304c\u3001ROS \u306e\u4ed5\u69d8\u4e0a\u30011 \u56de\u306e launch \u3067\u3001\u8907\u6570\u306e bag \u3092\u5229\u7528\u3059\u308b\u3053\u3068\u306f\u51fa\u6765\u306a\u3044\u3002 1 \u3064\u306e bag\u3001\u3059\u306a\u308f\u3061 1 \u3064\u306e t4_dataset \u306b\u5bfe\u3057\u3066 launch \u3092 1 \u56de\u53e9\u304f\u3053\u3068\u306a\u308b\u306e\u3067\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a55\u4fa1\u3067\u306f\u3001\u542b\u307e\u308c\u308b\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u306e\u6570\u3060\u3051 launch \u3092\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002 \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a55\u4fa1\u306f 1 \u56de\u306e launch \u3067\u8a55\u4fa1\u3067\u304d\u306a\u3044\u305f\u3081\u3001perception \u3067\u306f\u3001result.jsonl \u306e\u4ed6\u306b scene_result.pkl \u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u3092\u51fa\u529b\u3059\u308b\u3002 pickle \u30d5\u30a1\u30a4\u30eb\u306f python \u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u4fdd\u5b58\u3057\u305f\u3082\u306e\u3067\u3042\u308a\u3001perception_eval \u306e PerceptionEvaluationManager.frame_results \u3092\u4fdd\u5b58\u3057\u3066\u3044\u308b\u3002 pickle \u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u9332\u3057\u305f object \u3092\u3059\u3079\u3066\u8aad\u307f\u8fbc\u307f\u3001dataset \u306e\u5e73\u5747\u306e\u6307\u6a19\u3092\u51fa\u529b\u3059\u308b\u3053\u3068\u3067\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u8a55\u4fa1\u304c\u884c\u3048\u308b\u3002 \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a55\u4fa1\u306e\u7d50\u679c\u30d5\u30a1\u30a4\u30eb # \u30b7\u30ca\u30ea\u30aa\u306b\u8907\u6570\u306e dataset \u3092\u8a18\u8ff0\u3057\u305f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a55\u4fa1\u306e\u5834\u5408\u306b\u306f\u3001\u7d50\u679c\u51fa\u529b\u5148\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b database_result.json \u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u304c\u51fa\u529b\u3055\u308c\u308b\u3002 \u5f62\u5f0f\u306f \u30e1\u30c8\u30ea\u30af\u30b9\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8 \u3068\u540c\u3058","title":"\u8a8d\u8b58\u6a5f\u80fd\u306e\u8a55\u4fa1"},{"location":"ja/use_case/perception/#_1","text":"Autoware \u306e\u8a8d\u8b58\u6a5f\u80fd(perception)\u306e\u8a8d\u8b58\u7d50\u679c\u304b\u3089 mAP(mean Average Precision)\u306a\u3069\u306e\u6307\u6a19\u3092\u8a08\u7b97\u3057\u3066\u6027\u80fd\u3092\u8a55\u4fa1\u3059\u308b\u3002 perception \u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u8d77\u52d5\u3057\u3066\u51fa\u529b\u3055\u308c\u308b perception \u306e topic \u3092\u8a55\u4fa1\u7528\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u6e21\u3057\u3066\u8a55\u4fa1\u3092\u884c\u3046\u3002","title":"\u8a8d\u8b58\u6a5f\u80fd\u306e\u8a55\u4fa1"},{"location":"ja/use_case/perception/#_2","text":"perception.launch.py \u3092\u4f7f\u7528\u3057\u3066\u8a55\u4fa1\u3059\u308b\u3002 launch \u3092\u7acb\u3061\u4e0a\u3052\u308b\u3068\u4ee5\u4e0b\u306e\u3053\u3068\u304c\u5b9f\u884c\u3055\u308c\u3001\u8a55\u4fa1\u3055\u308c\u308b\u3002 launch \u3067\u8a55\u4fa1\u30ce\u30fc\u30c9( perception_evaluator_node )\u3068 logging_simulator.launch \u3001 ros2 bag play \u30b3\u30de\u30f3\u30c9\u3092\u7acb\u3061\u4e0a\u3052\u308b bag \u304b\u3089\u51fa\u529b\u3055\u308c\u305f\u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u3092 autoware \u304c\u53d7\u3051\u53d6\u3063\u3066\u3001\u70b9\u7fa4\u30c7\u30fc\u30bf\u3092\u51fa\u529b\u3057\u3001perception \u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u8a8d\u8b58\u3092\u884c\u3046 \u8a55\u4fa1\u30ce\u30fc\u30c9\u304c/perception/object_recognition/{detection, tracking}/objects \u3092 subscribe \u3057\u3066\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3067 perception_eval \u306e\u95a2\u6570\u3092\u7528\u3044\u3066\u8a55\u4fa1\u3057\u7d50\u679c\u3092\u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u9332\u3059\u308b bag \u306e\u518d\u751f\u304c\u7d42\u4e86\u3059\u308b\u3068\u81ea\u52d5\u3067 launch \u304c\u7d42\u4e86\u3057\u3066\u8a55\u4fa1\u304c\u7d42\u4e86\u3059\u308b","title":"\u8a55\u4fa1\u65b9\u6cd5"},{"location":"ja/use_case/perception/#_3","text":"autoware \u3092\u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3057\u3066 perception \u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u521d\u56de\u8d77\u52d5\u3057\u305f\u5834\u5408\u306b\u306f\u3001lidar_centerpoint \u306e onnx \u30d5\u30a1\u30a4\u30eb\u306e\u5909\u63db\u51e6\u7406\u304c\u884c\u308f\u308c\u308b \u8a55\u4fa1\u65b9\u6cd5\u306e\u30b9\u30c6\u30c3\u30d7 1 \u3067\u306f\u3001\u5909\u63db\u304c\u5b8c\u4e86\u3059\u308b\u306e\u3092\u5f85\u3064\u305f\u3081\u3001\u4e00\u898b\u6b62\u307e\u3063\u3066\u3044\u308b\u3088\u3046\u306b\u898b\u3048\u308b\u9577\u3044\u51e6\u7406\u304c\u3042\u308a\u307e\u3059\u3002 \u3053\u308c\u306f\u6b63\u5e38\u306a\u52d5\u4f5c\u3067\u3059\u306e\u3067\u3001\u30ad\u30fc\u30dc\u30fc\u30c9\u5165\u529b\u3067\u505c\u6b62\u305b\u305a\u3001\u305d\u306e\u307e\u307e\u304a\u5f85\u3061\u304f\u3060\u3055\u3044\u3002","title":"\u6ce8\u610f\u4e8b\u9805"},{"location":"ja/use_case/perception/#_4","text":"topic \u306e subscribe 1 \u56de\u306b\u3064\u304d\u3001\u4ee5\u4e0b\u306b\u8a18\u8ff0\u3059\u308b\u5224\u5b9a\u7d50\u679c\u304c\u51fa\u529b\u3055\u308c\u308b\u3002","title":"\u8a55\u4fa1\u7d50\u679c"},{"location":"ja/use_case/perception/#_5","text":"perception_eval \u306e\u8a55\u4fa1\u95a2\u6570\u3092\u5b9f\u884c\u3057\u3066\u4ee5\u4e0b\u306e\u6761\u4ef6\u3092\u6e80\u305f\u3059\u3068\u304d frame_result.pass_fail_result \u306b object \u304c\u6700\u4f4e 1 \u3064\u5165\u3063\u3066\u3044\u308b ( tp_objects is not None and fp_objects is not None and fn_objects is not None ) \u8a55\u4fa1\u5931\u6557\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c 0 \u500b ( frame_result.pass_fail_result.get_fail_object_num() == 0 )","title":"\u6b63\u5e38"},{"location":"ja/use_case/perception/#_6","text":"\u6b63\u5e38\u306e\u6761\u4ef6\u3092\u6e80\u305f\u3055\u306a\u3044\u5834\u5408","title":"\u7570\u5e38"},{"location":"ja/use_case/perception/#topic","text":"Subscribed topics: topic \u540d \u30c7\u30fc\u30bf\u578b /perception/object_recognition/detection/objects autoware_auto_perception_msgs/msg/DetectedObjects /perception/object_recognition/tracking/objects autoware_auto_perception_msgs/msg/TrackedObjects Published topics: topic \u540d \u30c7\u30fc\u30bf\u578b /driving_log_replayer/marker/ground_truth visualization_msgs::msg::MarkerArray /driving_log_replayer/marker/results visualization_msgs::msg::MarkerArray","title":"\u8a55\u4fa1\u30ce\u30fc\u30c9\u304c\u4f7f\u7528\u3059\u308b Topic \u540d\u3068\u30c7\u30fc\u30bf\u578b"},{"location":"ja/use_case/perception/#logging_simulatorlaunch","text":"autoware \u306e\u51e6\u7406\u3092\u8efd\u304f\u3059\u308b\u305f\u3081\u3001\u8a55\u4fa1\u306b\u95a2\u4fc2\u306e\u306a\u3044\u30e2\u30b8\u30e5\u30fc\u30eb\u306f launch \u306e\u5f15\u6570\u306b false \u3092\u6e21\u3059\u3053\u3068\u3067\u7121\u52b9\u5316\u3059\u308b\u3002\u4ee5\u4e0b\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u3002 localization: false planning: false control: false sensing: false / true (\u30c7\u30d5\u30a9\u30eb\u30c8 false\u3001\u30b7\u30ca\u30ea\u30aa\u306e LaunchSensing \u30ad\u30fc\u3067 t4_dataset \u6bce\u306b\u6307\u5b9a\u3059\u308b) \u6ce8:\u30a2\u30ce\u30fc\u30c6\u30b7\u30e7\u30f3\u6642\u3068\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u6642\u3067\u81ea\u5df1\u4f4d\u7f6e\u3092\u5408\u308f\u305b\u305f\u3044\u306e\u3067 bag \u306b\u5165\u3063\u3066\u3044\u308b tf \u3092\u4f7f\u3044\u56de\u3059\u3002\u305d\u306e\u305f\u3081 localization \u306f\u7121\u52b9\u3067\u3042\u308b\u3002","title":"logging_simulator.launch \u306b\u6e21\u3059\u5f15\u6570"},{"location":"ja/use_case/perception/#_7","text":"\u8a8d\u8b58\u6a5f\u80fd\u306e\u8a55\u4fa1\u306f perception_eval \u306b\u4f9d\u5b58\u3057\u3066\u3044\u308b\u3002","title":"\u4f9d\u5b58\u30e9\u30a4\u30d6\u30e9\u30ea"},{"location":"ja/use_case/perception/#driving_log_replayer","text":"driving_log_replayer \u304c ROS \u3068\u306e\u63a5\u7d9a\u90e8\u5206\u3092\u62c5\u5f53\u3057\u3001perception_eval \u304c\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3092\u4f7f\u3063\u3066\u5b9f\u969b\u306b\u8a55\u4fa1\u3059\u308b\u90e8\u5206\u3092\u62c5\u5f53\u3059\u308b\u3068\u3044\u3046\u5206\u62c5\u306b\u306a\u3063\u3066\u3044\u308b\u3002 perception_eval \u306f ROS \u975e\u4f9d\u5b58\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u306a\u306e\u3067\u3001ROS \u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u53d7\u3051\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u3044\u3002 \u307e\u305f\u3001timestamp \u304c ROS \u3067\u306f\u30ca\u30ce\u79d2\u3001t4_dataset \u306f nuScenes \u3092\u30d9\u30fc\u30b9\u3057\u3066\u3044\u308b\u305f\u3081\u30df\u30ea\u79d2\u304c\u63a1\u7528\u3055\u308c\u3066\u3044\u308b\u3002 \u3053\u306e\u305f\u3081\u3001\u30e9\u30a4\u30d6\u30e9\u30ea\u4f7f\u7528\u524d\u306b\u9069\u5207\u306a\u5909\u63db\u304c\u5fc5\u8981\u3068\u306a\u308b\u3002 driving_log_replayer \u306f\u3001autoware \u306e perception \u30e2\u30b8\u30e5\u30fc\u30eb\u304b\u3089\u51fa\u529b\u3055\u308c\u305f topic \u3092 subscribe \u3057\u3001perception_eval \u304c\u671f\u5f85\u3059\u308b\u30c7\u30fc\u30bf\u5f62\u5f0f\u306b\u5909\u63db\u3057\u3066\u6e21\u3059\u3002 \u307e\u305f\u3001perception_eval \u304b\u3089\u8fd4\u3063\u3066\u304f\u308b\u8a55\u4fa1\u7d50\u679c\u306e ROS \u306e topic \u3067 publish \u3057\u53ef\u8996\u5316\u3059\u308b\u90e8\u5206\u3082\u62c5\u5f53\u3059\u308b\u3002 perception_eval \u306f\u3001driving_log_replayer \u304b\u3089\u6e21\u3055\u308c\u305f\u691c\u77e5\u7d50\u679c\u3068 GroundTruth \u3092\u6bd4\u8f03\u3057\u3066\u6307\u6a19\u3092\u8a08\u7b97\u3057\u3001\u7d50\u679c\u3092\u51fa\u529b\u3059\u308b\u90e8\u5206\u3092\u62c5\u5f53\u3059\u308b\u3002","title":"\u4f9d\u5b58\u30e9\u30a4\u30d6\u30e9\u30ea\u3068\u306e driving_log_replayer \u306e\u5f79\u5272\u5206\u62c5"},{"location":"ja/use_case/perception/#simulation","text":"\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u5b9f\u884c\u306b\u5fc5\u8981\u306a\u60c5\u5831\u3092\u8ff0\u3079\u308b\u3002","title":"simulation"},{"location":"ja/use_case/perception/#rosbag-topic","text":"t4_dataset \u3067\u5fc5\u8981\u306a\u30c8\u30d4\u30c3\u30af\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u3053\u3068","title":"\u5165\u529b rosbag \u306b\u542b\u307e\u308c\u308b\u3079\u304d topic"},{"location":"ja/use_case/perception/#evaluation","text":"\u8a55\u4fa1\u306b\u5fc5\u8981\u306a\u60c5\u5831\u3092\u8ff0\u3079\u308b\u3002","title":"evaluation"},{"location":"ja/use_case/perception/#_8","text":"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u8a55\u4fa1\u3068\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a55\u4fa1\u306e 2 \u7a2e\u985e\u306e\u8a55\u4fa1\u304c\u3042\u308b\u3002 \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306f 1 \u500b\u306e\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3067\u884c\u3046\u8a55\u4fa1\u3067\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306f\u8907\u6570\u306e\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3092\u7528\u3044\u3066\u3001\u5404\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u6bce\u306e\u7d50\u679c\u306e\u5e73\u5747\u3092\u53d6\u308b\u8a55\u4fa1\u3067\u3042\u308b\u3002 \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a55\u4fa1\u3067\u306f\u3001\u30ad\u30e3\u30ea\u30d6\u30ec\u30fc\u30b7\u30e7\u30f3\u5024\u306e\u5909\u66f4\u304c\u3042\u308a\u5f97\u308b\u306e\u3067 vehicle_id \u3092\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u6bce\u306b\u8a2d\u5b9a\u51fa\u6765\u308b\u3088\u3046\u306b\u3059\u308b\u3002 \u307e\u305f\u3001Sensing \u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u8d77\u52d5\u3059\u308b\u304b\u3069\u3046\u304b\u306e\u8a2d\u5b9a\u3082\u884c\u3046\u3002 Evaluation : UseCaseName : perception UseCaseFormatVersion : 0.3.0 Datasets : - f72e1065-7c38-40fe-a4e2-c5bbe6ff6443 : VehicleId : ps1/20210620/CAL_000015 # \u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u6bce\u306bVehicleId\u3092\u6307\u5b9a\u3059\u308b LaunchSensing : false # \u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u6bce\u306bsensing module\u3092\u8d77\u52d5\u3059\u308b\u304b\u3092\u6307\u5b9a\u3059\u308b LocalMapPath : $HOME/map/perception # \u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u6bce\u306bLocalMapPath\u3092\u6307\u5b9a\u3059\u308b Conditions : PassRate : 99.0 # \u8a55\u4fa1\u8a66\u884c\u56de\u6570\u306e\u5185\u3001\u3069\u306e\u7a0b\u5ea6(%)\u8a55\u4fa1\u6210\u529f\u3060\u3063\u305f\u3089\u6210\u529f\u3068\u3059\u308b\u304b PerceptionEvaluationConfig : evaluation_config_dict : evaluation_task : detection # detection/tracking \u3053\u3053\u3067\u6307\u5b9a\u3057\u305fobjects\u3092\u8a55\u4fa1\u3059\u308b target_labels : [ car , bicycle , pedestrian , motorbike ] # \u8a55\u4fa1\u30e9\u30d9\u30eb max_x_position : 102.4 # \u8a55\u4fa1\u5bfe\u8c61 object \u306e\u6700\u5927 x \u4f4d\u7f6e max_y_position : 102.4 # \u8a55\u4fa1\u5bfe\u8c61 object \u306e\u6700\u5927 y \u4f4d\u7f6e max_distance : null # \u8a55\u4fa1\u5bfe\u8c61 object \u306e base_link \u304b\u3089\u306e\u6700\u5927\u8ddd\u96e2\u3001max_x_potion, max_y_position\u3068\u6392\u4ed6\u5229\u7528\u3001\u3053\u306e\u4f8b\u3067\u306f\u3053\u3061\u3089\u306fnull min_distance : null # \u8a55\u4fa1\u5bfe\u8c61 object \u306e base_link \u304b\u3089\u306e\u6700\u5c0f\u8ddd\u96e2\u3001max_x_potion, max_y_position\u3068\u6392\u4ed6\u5229\u7528\u3001\u3053\u306e\u4f8b\u3067\u306f\u3053\u3061\u3089\u306fnull min_point_numbers : [ 0 , 0 , 0 , 0 ] # ground truth object \u306b\u304a\u3051\u308b\uff0cbbox \u5185\u306e\u6700\u5c0f\u70b9\u7fa4\u6570\uff0emin_point_numbers=0 \u306e\u5834\u5408\u306f\uff0c\u5168 ground truth object \u3092\u8a55\u4fa1 confidence_threshold : null # \u8a55\u4fa1\u5bfe\u8c61\u306e estimated object \u306e confidence \u306e\u95be\u5024 target_uuids : null # \u7279\u5b9a\u306e ground truth \u306e\u307f\u306b\u5bfe\u3057\u3066\u8a55\u4fa1\u3092\u884c\u3044\u305f\u3044\u5834\u5408\uff0c\u5bfe\u8c61\u3068\u3059\u308b ground truth \u306e UUID \u3092\u6307\u5b9a\u3059\u308b\u3002null\u306a\u3089\u5168\u3066\u304c\u5bfe\u8c61 center_distance_thresholds : [[ 1.0 , 1.0 , 1.0 , 1.0 ], [ 2.0 , 2.0 , 2.0 , 2.0 ]] # \u4e2d\u5fc3\u9593\u8ddd\u96e2\u30de\u30c3\u30c1\u30f3\u30b0\u6642\u306e\u95be\u5024 plane_distance_thresholds : [ 2.0 , 30.0 ] # \u5e73\u9762\u8ddd\u96e2\u30de\u30c3\u30c1\u30f3\u30b0\u6642\u306e\u95be\u5024 iou_bev_thresholds : [ 0.5 ] # BEV IoU \u3000\u30de\u30c3\u30c1\u30f3\u30b0\u6642\u306e\u95be\u5024 iou_3d_thresholds : [ 0.5 ] # 3D IoU \u30de\u30c3\u30c1\u30f3\u30b0\u6642\u306e\u95be\u5024 CriticalObjectFilterConfig : target_labels : [ car , bicycle , pedestrian , motorbike ] # \u8a55\u4fa1\u5bfe\u8c61\u30e9\u30d9\u30eb\u540d max_x_position_list : [ 30.0 , 30.0 , 30.0 , 30.0 ] # \u8a55\u4fa1\u5bfe\u8c61 object \u306e\u6700\u5927 x \u4f4d\u7f6e max_y_position_list : [ 30.0 , 30.0 , 30.0 , 30.0 ] # \u8a55\u4fa1\u5bfe\u8c61 object \u306e\u6700\u5927 y \u4f4d\u7f6e max_distance_list : null # \u8a55\u4fa1\u5bfe\u8c61 object \u306e base_link \u304b\u3089\u306e\u6700\u5927\u8ddd\u96e2\u3001max_x_potion, max_y_position\u3068\u6392\u4ed6\u5229\u7528\u3001\u3053\u306e\u4f8b\u3067\u306f\u3053\u3061\u3089\u306fnull min_distance_list : null # \u8a55\u4fa1\u5bfe\u8c61 object \u306e base_link \u304b\u3089\u306e\u6700\u5c0f\u8ddd\u96e2\u3001max_x_potion, max_y_position\u3068\u6392\u4ed6\u5229\u7528\u3001\u3053\u306e\u4f8b\u3067\u306f\u3053\u3061\u3089\u306fnull min_point_numbers : [ 0 , 0 , 0 , 0 ] # ground truth object \u306b\u304a\u3051\u308b\uff0cbbox \u5185\u306e\u6700\u5c0f\u70b9\u7fa4\u6570\uff0emin_point_numbers=0 \u306e\u5834\u5408\u306f\uff0c\u5168 ground truth object \u3092\u8a55\u4fa1 confidence_threshold_list : null # \u8a55\u4fa1\u5bfe\u8c61\u306e estimated object \u306e confidence \u306e\u95be\u5024 target_uuids : null # \u7279\u5b9a\u306e ground truth \u306e\u307f\u306b\u5bfe\u3057\u3066\u8a55\u4fa1\u3092\u884c\u3044\u305f\u3044\u5834\u5408\uff0c\u5bfe\u8c61\u3068\u3059\u308b ground truth \u306e UUID \u3092\u6307\u5b9a\u3059\u308b\u3002null\u306a\u3089\u5168\u3066\u304c\u5bfe\u8c61 PerceptionPassFailConfig : target_labels : [ car , bicycle , pedestrian , motorbike ] plane_distance_threshold_list : [ 2.0 , 2.0 , 2.0 , 2.0 ] # \u5e73\u9762\u8ddd\u96e2\u30de\u30c3\u30c1\u30f3\u30b0\u6642\u306e\u95be\u5024","title":"\u30b7\u30ca\u30ea\u30aa\u30d5\u30a9\u30fc\u30de\u30c3\u30c8"},{"location":"ja/use_case/perception/#_9","text":"perception \u3067\u306f\u3001\u30b7\u30ca\u30ea\u30aa\u306b\u6307\u5b9a\u3057\u305f\u6761\u4ef6\u3067 perception_eval \u304c\u8a55\u4fa1\u3057\u305f\u7d50\u679c\u3092\u5404 frame \u6bce\u306b\u51fa\u529b\u3059\u308b\u3002 \u5168\u3066\u306e\u30c7\u30fc\u30bf\u3092\u6d41\u3057\u7d42\u308f\u3063\u305f\u3042\u3068\u306b\u3001\u6700\u7d42\u7684\u306a\u30e1\u30c8\u30ea\u30af\u30b9\u3092\u8a08\u7b97\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u6700\u7d42\u884c\u3060\u3051\u3001\u4ed6\u306e\u884c\u3068\u5f62\u5f0f\u304c\u7570\u306a\u308b\u3002 \u4ee5\u4e0b\u306b\u3001\u5404\u30d5\u30ec\u30fc\u30e0\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3068\u30e1\u30c8\u30ea\u30af\u30b9\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u793a\u3059\u3002 \u6ce8:\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u89e3\u8aac\u6e08\u307f\u306e\u5171\u901a\u90e8\u5206\u306b\u3064\u3044\u3066\u306f\u7701\u7565\u3059\u308b\u3002 \u5404\u30d5\u30ec\u30fc\u30e0\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8 { \"Frame\" : { \"FrameName\" : \"\u8a55\u4fa1\u306b\u4f7f\u7528\u3057\u305ft4_dataset\u306e\u30d5\u30ec\u30fc\u30e0\u756a\u53f7\" , \"FrameSkip\" : \"object\u306e\u8a55\u4fa1\u3092\u4f9d\u983c\u3057\u305f\u304cdataset\u306b75msec\u4ee5\u5185\u306e\u771f\u5024\u304c\u306a\u304f\u8a55\u4fa1\u3092\u98db\u3070\u3055\u308c\u305f\u56de\u6570\" , \"PassFail\" : { \"Result\" : \"Success or Fail\" , \"Info\" : [ { \"TP\" : \"TP\u3068\u5224\u5b9a\u3055\u308c\u305f\u6570\" , \"FP\" : \"FP\u3068\u5224\u5b9a\u3055\u308c\u305f\u6570\" , \"FN\" : \"FN\u3068\u5224\u5b9a\u3055\u308c\u305f\u6570\" } ] } } } \u30e1\u30c8\u30ea\u30af\u30b9\u30c7\u30fc\u30bf\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8 { \"Frame\" : { \"FinalScore\" : { \"Score\" : { \"TP\" : \"\u30e9\u30d9\u30eb\u306eTP\u7387\" , \"FP\" : \"\u30e9\u30d9\u30eb\u306eFP\u7387\" , \"FN\" : \"\u30e9\u30d9\u30eb\u306eFN\u7387\" , \"AP\" : \"\u30e9\u30d9\u30eb\u306eAP\u5024\" , \"APH\" : \"\u30e9\u30d9\u30eb\u306eAPH\u5024\" }, \"Error\" : { \"\u30e9\u30d9\u30eb\" : \"\u30e9\u30d9\u30eb\u306e\u8aa4\u5dee\u30e1\u30c8\u30ea\u30af\u30b9\" } } } }","title":"\u8a55\u4fa1\u7d50\u679c\u30d5\u30a9\u30fc\u30de\u30c3\u30c8"},{"location":"ja/use_case/perception/#pickle","text":"\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a55\u4fa1\u3067\u306f\u3001\u8907\u6570\u306e bag \u3092\u518d\u751f\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u304c\u3001ROS \u306e\u4ed5\u69d8\u4e0a\u30011 \u56de\u306e launch \u3067\u3001\u8907\u6570\u306e bag \u3092\u5229\u7528\u3059\u308b\u3053\u3068\u306f\u51fa\u6765\u306a\u3044\u3002 1 \u3064\u306e bag\u3001\u3059\u306a\u308f\u3061 1 \u3064\u306e t4_dataset \u306b\u5bfe\u3057\u3066 launch \u3092 1 \u56de\u53e9\u304f\u3053\u3068\u306a\u308b\u306e\u3067\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a55\u4fa1\u3067\u306f\u3001\u542b\u307e\u308c\u308b\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u306e\u6570\u3060\u3051 launch \u3092\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002 \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a55\u4fa1\u306f 1 \u56de\u306e launch \u3067\u8a55\u4fa1\u3067\u304d\u306a\u3044\u305f\u3081\u3001perception \u3067\u306f\u3001result.jsonl \u306e\u4ed6\u306b scene_result.pkl \u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u3092\u51fa\u529b\u3059\u308b\u3002 pickle \u30d5\u30a1\u30a4\u30eb\u306f python \u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u4fdd\u5b58\u3057\u305f\u3082\u306e\u3067\u3042\u308a\u3001perception_eval \u306e PerceptionEvaluationManager.frame_results \u3092\u4fdd\u5b58\u3057\u3066\u3044\u308b\u3002 pickle \u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u9332\u3057\u305f object \u3092\u3059\u3079\u3066\u8aad\u307f\u8fbc\u307f\u3001dataset \u306e\u5e73\u5747\u306e\u6307\u6a19\u3092\u51fa\u529b\u3059\u308b\u3053\u3068\u3067\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u8a55\u4fa1\u304c\u884c\u3048\u308b\u3002","title":"pickle \u30d5\u30a1\u30a4\u30eb"},{"location":"ja/use_case/perception/#_10","text":"\u30b7\u30ca\u30ea\u30aa\u306b\u8907\u6570\u306e dataset \u3092\u8a18\u8ff0\u3057\u305f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a55\u4fa1\u306e\u5834\u5408\u306b\u306f\u3001\u7d50\u679c\u51fa\u529b\u5148\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b database_result.json \u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u304c\u51fa\u529b\u3055\u308c\u308b\u3002 \u5f62\u5f0f\u306f \u30e1\u30c8\u30ea\u30af\u30b9\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8 \u3068\u540c\u3058","title":"\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a55\u4fa1\u306e\u7d50\u679c\u30d5\u30a1\u30a4\u30eb"},{"location":"ja/use_case/performance_diag/","text":"\u8a3a\u65ad\u6a5f\u80fd\u306e\u8a55\u4fa1 # Autoware \u306e\u8a3a\u65ad\u6a5f\u80fd(diagnostics)\u304c\u610f\u56f3\u901a\u308a\u306b\u6a5f\u80fd\u3057\u3066\u3044\u308b\u304b\u3092\u8a55\u4fa1\u3059\u308b\u3002 \u73fe\u5728\u306f\u3001lidar \u306e visibility \u3068 blockage \u306e\u8a55\u4fa1\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u3002 visibility: \u9727\u3084\u96e8\u306a\u3069\u3067\u8996\u754c\u304c\u60aa\u304f\u306a\u3063\u3066\u3044\u306a\u3044\u304b\u3092\u5224\u5b9a\u3059\u308b\u6a5f\u80fd blockage: LiDAR \u306b\u8449\u3063\u3071\u306a\u3069\u304c\u4ed8\u7740\u3057\u3066\u8a08\u6e2c\u306e\u59a8\u3052\u3092\u3057\u3066\u3044\u306a\u3044\u304b\u3092\u5224\u5b9a\u3059\u308b\u6a5f\u80fd \u8a55\u4fa1\u65b9\u6cd5 # performance_diag.launch.py \u3092\u4f7f\u7528\u3057\u3066\u8a55\u4fa1\u3059\u308b\u3002 launch \u3092\u7acb\u3061\u4e0a\u3052\u308b\u3068\u4ee5\u4e0b\u306e\u3053\u3068\u304c\u5b9f\u884c\u3055\u308c\u3001\u8a55\u4fa1\u3055\u308c\u308b\u3002 launch \u3067\u8a55\u4fa1\u30ce\u30fc\u30c9( performance_diag_evaluator_node )\u3068 logging_simulator.launch \u3001 ros2 bag play \u30b3\u30de\u30f3\u30c9\u3092\u7acb\u3061\u4e0a\u3052\u308b bag \u304b\u3089\u51fa\u529b\u3055\u308c\u305f\u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u3092 autoware \u304c\u53d7\u3051\u53d6\u3063\u3066\u3001/diagnostics_agg \u3092\u51fa\u529b\u3059\u308b \u8a55\u4fa1\u30ce\u30fc\u30c9\u304c/diagnostics_agg \u3092 subscribe \u3057\u3066\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3067\u8a55\u4fa1\u3092\u884c\u3044\u7d50\u679c\u3092\u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u9332\u3059\u308b\u3002 bag \u306e\u518d\u751f\u304c\u7d42\u4e86\u3059\u308b\u3068\u81ea\u52d5\u3067 launch \u304c\u7d42\u4e86\u3057\u3066\u8a55\u4fa1\u304c\u7d42\u4e86\u3059\u308b visibility \u8a55\u4fa1 # visibility \u306e\u8a55\u4fa1\u3067\u306f\u3001\u96e8\u5929\u6642\u3084\u4eba\u5de5\u7684\u306b\u96e8\u3092\u964d\u3089\u305b\u3089\u308c\u308b\u65bd\u8a2d\u3067\u53d6\u5f97\u3057\u305f\u30c7\u30fc\u30bf\u3092\u7528\u3044\u3066 visibility \u306e ERROR \u304c\u4e00\u5b9a\u6570\u4ee5\u4e0a\u51fa\u529b\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u3002 \u307e\u305f\u3001\u6674\u5929\u6642\u306e\u30c7\u30fc\u30bf\u3092\u5229\u7528\u3057\u3066\u3001ERROR \u304c\u4e00\u5ea6\u3082\u51fa\u306a\u3044\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u3002 /diagnostics_agg \u306e status.name \u304c /autoware/sensing/lidar/performance_monitoring/visibility/\\* \u306b\u8a72\u5f53\u3059\u308b\u3082\u306e\u3092\u5224\u5b9a\u306b\u5229\u7528\u3059\u308b\u3002 blockage \u8a55\u4fa1 # blockage \u306e\u8a55\u4fa1\u3067\u306f\u3001LiDAR \u3092\u610f\u56f3\u7684\u306b\u30ec\u30fc\u30b6\u30fc\u5149\u3092\u901a\u3055\u306a\u3044\u7d20\u6750(\u7bb1\u306a\u3069)\u3067\u8986\u3063\u305f\u72b6\u614b\u3067\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057 blockage \u306e ERROR \u304c\u4e00\u5b9a\u6570\u4ee5\u4e0a\u51fa\u529b\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u3002 \u307e\u305f\u3001\u8986\u3063\u3066\u306a\u3044 LiDAR \u306b\u3064\u3044\u3066\u306f ERROR \u304c\u4e00\u5ea6\u3082\u51fa\u306a\u3044\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u3002 /diagnostics_agg \u306e status.name \u304c /autoware/sensing/lidar/performance_monitoring/blockage/* \u306b\u8a72\u5f53\u3059\u308b\u3082\u306e\u3092\u5224\u5b9a\u306b\u5229\u7528\u3059\u308b\u3002 \u8a55\u4fa1\u7d50\u679c # LiDAR \u306e\u8a3a\u65ad\u7d50\u679c\u306e subscribe 1 \u56de\u306b\u3064\u304d\u3001\u4ee5\u4e0b\u306b\u8a18\u8ff0\u3059\u308b\u5224\u5b9a\u7d50\u679c\u304c\u51fa\u529b\u3055\u308c\u308b\u3002 \u8a55\u4fa1\u3057\u305f\u3044\u5185\u5bb9\u306b\u3088\u3063\u3066 ERROR \u304c\u51fa\u308b\u5834\u5408\u3092\u6210\u529f\u3068\u3059\u308b\u304b\u5931\u6557\u3068\u3059\u308b\u304b\u304c\u5206\u304b\u308c\u308b\u306e\u3067\u3001\u30b7\u30ca\u30ea\u30aa\u306b\u30bf\u30a4\u30d7\u3092\u8a18\u8ff0\u3059\u308b\u3053\u3068\u3067\u5909\u66f4\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u3002 \u30b7\u30ca\u30ea\u30aa\u7a2e\u985e\u304c TP \u306e\u5834\u5408\u306f Diag \u304c ERROR \u306b\u306a\u308c\u3070\u6210\u529f \u30b7\u30ca\u30ea\u30aa\u7a2e\u985e\u304c FP \u306e\u5834\u5408\u306f Diag \u304c ERROR \u306b\u306a\u3089\u306a\u3051\u308c\u3070\u6210\u529f \u30b7\u30ca\u30ea\u30aa\u7a2e\u985e\u304c null \u306e\u5834\u5408\u306f\u30c6\u30b9\u30c8\u3092\u7701\u7565\u3059\u308b TP \u6b63\u5e38 # \u30b7\u30ca\u30ea\u30aa\u7a2e\u985e\u304c TP \u306e\u5834\u5408\u3067\u3001\u8a3a\u65ad\u60c5\u5831\u306e level \u304c ERROR(=2)\u306e\u5834\u5408 TP \u7570\u5e38 # \u30b7\u30ca\u30ea\u30aa\u7a2e\u985e\u304c TP \u306e\u5834\u5408\u3067\u3001\u8a3a\u65ad\u60c5\u5831\u306e level \u304c ERROR \u3067\u306a\u3044(!=2)\u306e\u5834\u5408 FP \u6b63\u5e38 # \u30b7\u30ca\u30ea\u30aa\u7a2e\u985e\u304c FP \u306e\u5834\u5408\u3067\u3001\u8a3a\u65ad\u60c5\u5831\u306e level \u304c ERROR \u3067\u306a\u3044(!=2)\u306e\u5834\u5408 FP \u7570\u5e38 # \u30b7\u30ca\u30ea\u30aa\u7a2e\u985e\u304c FP \u306e\u5834\u5408\u3067\u3001\u8a3a\u65ad\u60c5\u5831\u306e level \u304c ERROR(=2)\u306e\u5834\u5408 \u8a55\u4fa1\u30ce\u30fc\u30c9\u304c\u4f7f\u7528\u3059\u308b Topic \u540d\u3068\u30c7\u30fc\u30bf\u578b # Subscribed topics: topic \u540d \u30c7\u30fc\u30bf\u578b /perception/obstacle_segmentation/pointcloud sensor_msgs::msg::PointCloud2 /diagnostics_agg diagnostic_msgs::msg::DiagnosticArray /tf tf2_msgs/msg/TFMessage Published topics: topic \u540d \u30c7\u30fc\u30bf\u578b /driving_log_replayer/visibility/value example_interfaces::msg::Float64 /driving_log_replayer/visibility/level example_interfaces::msg::Byte /driving_log_replayer/blockage/{lidar_name}/ground/ratio example_interfaces::msg::Float64 /driving_log_replayer/blockage/{lidar_name}/sky/ratio example_interfaces::msg::Float64 /driving_log_replayer/blockage/{lidar_name}/level example_interfaces::msg::Byte /initialpose geometry_msgs::msg::PoseWithCovarianceStamped {lidar_name}\u306b\u306f\u3001\u642d\u8f09\u3055\u308c\u3066\u3044\u308b lidar \u306e\u540d\u524d\u304c\u5165\u308b\u3002 logging_simulator.launch \u306b\u6e21\u3059\u5f15\u6570 # autoware \u306e\u51e6\u7406\u3092\u8efd\u304f\u3059\u308b\u305f\u3081\u3001\u8a55\u4fa1\u306b\u95a2\u4fc2\u306e\u306a\u3044\u30e2\u30b8\u30e5\u30fc\u30eb\u306f launch \u306e\u5f15\u6570\u306b false \u3092\u6e21\u3059\u3053\u3068\u3067\u7121\u52b9\u5316\u3059\u308b\u3002\u4ee5\u4e0b\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u3002 planning: false control: false localization: false / true (\u30c7\u30d5\u30a9\u30eb\u30c8 false\u3001\u30b7\u30ca\u30ea\u30aa\u3067\u6307\u5b9a\u3059\u308b) simulation # \u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u5b9f\u884c\u306b\u5fc5\u8981\u306a\u60c5\u5831\u3092\u8ff0\u3079\u308b\u3002 \u5165\u529b rosbag \u306b\u542b\u307e\u308c\u308b\u3079\u304d topic # \u8eca\u4e21\u306e ECU \u306e CAN \u3068\u3001\u4f7f\u7528\u3057\u3066\u3044\u308b sensor \u306e topic \u304c\u5fc5\u8981 \u4ee5\u4e0b\u306f\u4f8b\u3067\u3042\u308a\u3001\u9055\u3046\u30bb\u30f3\u30b5\u30fc\u3092\u4f7f\u3063\u3066\u3044\u308b\u5834\u5408\u306f\u9069\u5b9c\u8aad\u307f\u66ff\u3048\u308b\u3002 LiDAR \u304c\u8907\u6570\u3064\u3044\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u3059\u3079\u3066\u306e LiDAR \u306e packets \u3092\u542b\u3081\u308b /sensing/gnss/ublox/fix_velocity /sensing/gnss/ublox/nav_sat_fix /sensing/gnss/ublox/navpvt /sensing/imu/tamagawa/imu_raw /sensing/lidar/*/velodyne_packets /gsm8/from_can_bus /tf \u6ce8:localization \u304c false(\u30c7\u30d5\u30a9\u30eb\u30c8\u3067 false)\u306e\u5834\u5408\u306f/tf \u304c\u5fc5\u8981\u3002 \u5165\u529b rosbag \u306b\u542b\u307e\u308c\u3066\u306f\u3044\u3051\u306a\u3044 topic # /clock evaluation # \u8a55\u4fa1\u306b\u5fc5\u8981\u306a\u60c5\u5831\u3092\u8ff0\u3079\u308b\u3002 \u30b7\u30ca\u30ea\u30aa\u30d5\u30a9\u30fc\u30de\u30c3\u30c8 # Evaluation : UseCaseName : performance_diag UseCaseFormatVersion : 1.0.0 LaunchLocalization : false # false\u306e\u3068\u304d\u306fbag\u306e\u4e2d\u306b\u5165\u3063\u3066\u3044\u308b/tf\u3092\u51fa\u529b\u3059\u308b\u3002true\u306e\u3068\u304d\u306fbag\u306e\u4e2d\u306etf\u306f\u30ea\u30de\u30c3\u30d7\u3055\u308c\u7121\u52b9\u5316\u3055\u308c\u308b\u3002 InitialPose : null # \u521d\u671f\u4f4d\u7f6e\u3092\u6307\u5b9a\u3059\u308b\u3002LaunchLocalization\u304c\u6709\u52b9\u306e\u3068\u304d\u3060\u3051\u6a5f\u80fd\u3059\u308b Conditions : LiDAR : Visibility : PassFrameCount : 100 # ScenarioType\u304cTP\u306e\u3068\u304d\u306b\u3053\u306e\u56de\u6570\u4ee5\u4e0aERROR\u304c\u51fa\u308c\u3070Visibility\u306e\u8a66\u9a13\u306f\u6210\u529f\u3068\u3059\u308b\u3002FP\u306e\u5834\u5408\u306fERROR\u304c\u4e00\u5207\u51fa\u306a\u3044\u3053\u3068\u304c\u6761\u4ef6\u306a\u306e\u3067\u3053\u306e\u6761\u4ef6\u306f\u7121\u8996\u3055\u308c\u308b ScenarioType : FP # TP/FP/null Blockage : front_lower : # \u642d\u8f09\u3055\u308c\u3066\u3044\u308bLiDAR\u6bce\u306b\u8a2d\u5b9a\u3059\u308b ScenarioType : TP # TP/FP/null BlockageType : both # sky/ground/both \u3069\u3053\u3067blockage\u304c\u767a\u751f\u3057\u3066\u3044\u308b\u304b PassFrameCount : 100 # ScenarioType\u304cTP\u3001Blockage\u306e\u30bf\u30a4\u30d7\u304c\u4e00\u81f4\u3001\u304b\u3064ERROR\u304c\u3053\u306e\u56de\u6570\u4ee5\u4e0a\u51fa\u308c\u3070Blockage\u306e\u8a66\u9a13\u306f\u6210\u529f\u3068\u3059\u308b\u3002FP\u306e\u5834\u5408\u306fERROR\u304c\u4e00\u5207\u51fa\u306a\u3044\u3053\u3068\u304c\u6761\u4ef6\u306a\u306e\u3067\u3053\u306e\u6761\u4ef6\u306f\u7121\u8996\u3055\u308c\u308b front_upper : ScenarioType : TP BlockageType : both PassFrameCount : 100 left_lower : ScenarioType : FP BlockageType : sky PassFrameCount : 30 left_upper : ScenarioType : FP BlockageType : both PassFrameCount : 40 rear_lower : ScenarioType : FP BlockageType : ground PassFrameCount : 50 rear_upper : ScenarioType : FP BlockageType : sky PassFrameCount : 60 right_lower : ScenarioType : FP BlockageType : both PassFrameCount : 70 right_upper : ScenarioType : FP BlockageType : ground PassFrameCount : 80 \u8a55\u4fa1\u7d50\u679c\u30d5\u30a9\u30fc\u30de\u30c3\u30c8 # performance_diag \u3067\u306f\u3001visibility \u3068 blockage \u306e 2 \u3064\u3092\u8a55\u4fa1\u3057\u3066\u3044\u308b\u3002 Result \u306f visibility \u3068 blockage \u306e\u4e21\u65b9\u3092\u30d1\u30b9\u3057\u3066\u3044\u308c\u3070 true \u3067\u305d\u308c\u4ee5\u5916\u306f false \u5931\u6557\u3068\u306a\u308b\u3002 \u4ee5\u4e0b\u306b\u3001\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u793a\u3059\u3002 \u6ce8:\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u89e3\u8aac\u6e08\u307f\u306e\u5171\u901a\u90e8\u5206\u306b\u3064\u3044\u3066\u306f\u7701\u7565\u3059\u308b\u3002 { \"Frame\" : { \"Visibility\" : [ { \"Result\" : \"Success, Fail, or Skipped\" , \"Info\" : [ { \"Level\" : \"diag\u306e\u30ec\u30d9\u30eb\" , \"Visibility\" : \"visibility\u306e\u5024\" } ] } ], \"Blockage\" : [ { \"Result\" : \"Success, Fail, or Skipped\" , \"Info\" : [ { \"Name\" : \"LiDAR\u306e\u540d\u524d\" , \"Level\" : \"diag\u306e\u30ec\u30d9\u30eb\" , \"GroundBlockageRatio\" : \"\u5730\u4e0a\u5074\u306eblockage\u6bd4\u7387\" , \"GroundBlockageCount\" : \"\u53c2\u8003\u5024\" , \"SkyBlockageRatio\" : \"\u7a7a\u4e2d\u5074\u306eblockage\u6bd4\u7387\" , \"SkyBlockageCount\" : \"\u53c2\u8003\u5024\" } ] } ] } }","title":"\u8a3a\u65ad\u6a5f\u80fd\u306e\u8a55\u4fa1"},{"location":"ja/use_case/performance_diag/#_1","text":"Autoware \u306e\u8a3a\u65ad\u6a5f\u80fd(diagnostics)\u304c\u610f\u56f3\u901a\u308a\u306b\u6a5f\u80fd\u3057\u3066\u3044\u308b\u304b\u3092\u8a55\u4fa1\u3059\u308b\u3002 \u73fe\u5728\u306f\u3001lidar \u306e visibility \u3068 blockage \u306e\u8a55\u4fa1\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u3002 visibility: \u9727\u3084\u96e8\u306a\u3069\u3067\u8996\u754c\u304c\u60aa\u304f\u306a\u3063\u3066\u3044\u306a\u3044\u304b\u3092\u5224\u5b9a\u3059\u308b\u6a5f\u80fd blockage: LiDAR \u306b\u8449\u3063\u3071\u306a\u3069\u304c\u4ed8\u7740\u3057\u3066\u8a08\u6e2c\u306e\u59a8\u3052\u3092\u3057\u3066\u3044\u306a\u3044\u304b\u3092\u5224\u5b9a\u3059\u308b\u6a5f\u80fd","title":"\u8a3a\u65ad\u6a5f\u80fd\u306e\u8a55\u4fa1"},{"location":"ja/use_case/performance_diag/#_2","text":"performance_diag.launch.py \u3092\u4f7f\u7528\u3057\u3066\u8a55\u4fa1\u3059\u308b\u3002 launch \u3092\u7acb\u3061\u4e0a\u3052\u308b\u3068\u4ee5\u4e0b\u306e\u3053\u3068\u304c\u5b9f\u884c\u3055\u308c\u3001\u8a55\u4fa1\u3055\u308c\u308b\u3002 launch \u3067\u8a55\u4fa1\u30ce\u30fc\u30c9( performance_diag_evaluator_node )\u3068 logging_simulator.launch \u3001 ros2 bag play \u30b3\u30de\u30f3\u30c9\u3092\u7acb\u3061\u4e0a\u3052\u308b bag \u304b\u3089\u51fa\u529b\u3055\u308c\u305f\u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u3092 autoware \u304c\u53d7\u3051\u53d6\u3063\u3066\u3001/diagnostics_agg \u3092\u51fa\u529b\u3059\u308b \u8a55\u4fa1\u30ce\u30fc\u30c9\u304c/diagnostics_agg \u3092 subscribe \u3057\u3066\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3067\u8a55\u4fa1\u3092\u884c\u3044\u7d50\u679c\u3092\u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u9332\u3059\u308b\u3002 bag \u306e\u518d\u751f\u304c\u7d42\u4e86\u3059\u308b\u3068\u81ea\u52d5\u3067 launch \u304c\u7d42\u4e86\u3057\u3066\u8a55\u4fa1\u304c\u7d42\u4e86\u3059\u308b","title":"\u8a55\u4fa1\u65b9\u6cd5"},{"location":"ja/use_case/performance_diag/#visibility","text":"visibility \u306e\u8a55\u4fa1\u3067\u306f\u3001\u96e8\u5929\u6642\u3084\u4eba\u5de5\u7684\u306b\u96e8\u3092\u964d\u3089\u305b\u3089\u308c\u308b\u65bd\u8a2d\u3067\u53d6\u5f97\u3057\u305f\u30c7\u30fc\u30bf\u3092\u7528\u3044\u3066 visibility \u306e ERROR \u304c\u4e00\u5b9a\u6570\u4ee5\u4e0a\u51fa\u529b\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u3002 \u307e\u305f\u3001\u6674\u5929\u6642\u306e\u30c7\u30fc\u30bf\u3092\u5229\u7528\u3057\u3066\u3001ERROR \u304c\u4e00\u5ea6\u3082\u51fa\u306a\u3044\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u3002 /diagnostics_agg \u306e status.name \u304c /autoware/sensing/lidar/performance_monitoring/visibility/\\* \u306b\u8a72\u5f53\u3059\u308b\u3082\u306e\u3092\u5224\u5b9a\u306b\u5229\u7528\u3059\u308b\u3002","title":"visibility \u8a55\u4fa1"},{"location":"ja/use_case/performance_diag/#blockage","text":"blockage \u306e\u8a55\u4fa1\u3067\u306f\u3001LiDAR \u3092\u610f\u56f3\u7684\u306b\u30ec\u30fc\u30b6\u30fc\u5149\u3092\u901a\u3055\u306a\u3044\u7d20\u6750(\u7bb1\u306a\u3069)\u3067\u8986\u3063\u305f\u72b6\u614b\u3067\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057 blockage \u306e ERROR \u304c\u4e00\u5b9a\u6570\u4ee5\u4e0a\u51fa\u529b\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u3002 \u307e\u305f\u3001\u8986\u3063\u3066\u306a\u3044 LiDAR \u306b\u3064\u3044\u3066\u306f ERROR \u304c\u4e00\u5ea6\u3082\u51fa\u306a\u3044\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u3002 /diagnostics_agg \u306e status.name \u304c /autoware/sensing/lidar/performance_monitoring/blockage/* \u306b\u8a72\u5f53\u3059\u308b\u3082\u306e\u3092\u5224\u5b9a\u306b\u5229\u7528\u3059\u308b\u3002","title":"blockage \u8a55\u4fa1"},{"location":"ja/use_case/performance_diag/#_3","text":"LiDAR \u306e\u8a3a\u65ad\u7d50\u679c\u306e subscribe 1 \u56de\u306b\u3064\u304d\u3001\u4ee5\u4e0b\u306b\u8a18\u8ff0\u3059\u308b\u5224\u5b9a\u7d50\u679c\u304c\u51fa\u529b\u3055\u308c\u308b\u3002 \u8a55\u4fa1\u3057\u305f\u3044\u5185\u5bb9\u306b\u3088\u3063\u3066 ERROR \u304c\u51fa\u308b\u5834\u5408\u3092\u6210\u529f\u3068\u3059\u308b\u304b\u5931\u6557\u3068\u3059\u308b\u304b\u304c\u5206\u304b\u308c\u308b\u306e\u3067\u3001\u30b7\u30ca\u30ea\u30aa\u306b\u30bf\u30a4\u30d7\u3092\u8a18\u8ff0\u3059\u308b\u3053\u3068\u3067\u5909\u66f4\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u3002 \u30b7\u30ca\u30ea\u30aa\u7a2e\u985e\u304c TP \u306e\u5834\u5408\u306f Diag \u304c ERROR \u306b\u306a\u308c\u3070\u6210\u529f \u30b7\u30ca\u30ea\u30aa\u7a2e\u985e\u304c FP \u306e\u5834\u5408\u306f Diag \u304c ERROR \u306b\u306a\u3089\u306a\u3051\u308c\u3070\u6210\u529f \u30b7\u30ca\u30ea\u30aa\u7a2e\u985e\u304c null \u306e\u5834\u5408\u306f\u30c6\u30b9\u30c8\u3092\u7701\u7565\u3059\u308b","title":"\u8a55\u4fa1\u7d50\u679c"},{"location":"ja/use_case/performance_diag/#tp","text":"\u30b7\u30ca\u30ea\u30aa\u7a2e\u985e\u304c TP \u306e\u5834\u5408\u3067\u3001\u8a3a\u65ad\u60c5\u5831\u306e level \u304c ERROR(=2)\u306e\u5834\u5408","title":"TP \u6b63\u5e38"},{"location":"ja/use_case/performance_diag/#tp_1","text":"\u30b7\u30ca\u30ea\u30aa\u7a2e\u985e\u304c TP \u306e\u5834\u5408\u3067\u3001\u8a3a\u65ad\u60c5\u5831\u306e level \u304c ERROR \u3067\u306a\u3044(!=2)\u306e\u5834\u5408","title":"TP \u7570\u5e38"},{"location":"ja/use_case/performance_diag/#fp","text":"\u30b7\u30ca\u30ea\u30aa\u7a2e\u985e\u304c FP \u306e\u5834\u5408\u3067\u3001\u8a3a\u65ad\u60c5\u5831\u306e level \u304c ERROR \u3067\u306a\u3044(!=2)\u306e\u5834\u5408","title":"FP \u6b63\u5e38"},{"location":"ja/use_case/performance_diag/#fp_1","text":"\u30b7\u30ca\u30ea\u30aa\u7a2e\u985e\u304c FP \u306e\u5834\u5408\u3067\u3001\u8a3a\u65ad\u60c5\u5831\u306e level \u304c ERROR(=2)\u306e\u5834\u5408","title":"FP \u7570\u5e38"},{"location":"ja/use_case/performance_diag/#topic","text":"Subscribed topics: topic \u540d \u30c7\u30fc\u30bf\u578b /perception/obstacle_segmentation/pointcloud sensor_msgs::msg::PointCloud2 /diagnostics_agg diagnostic_msgs::msg::DiagnosticArray /tf tf2_msgs/msg/TFMessage Published topics: topic \u540d \u30c7\u30fc\u30bf\u578b /driving_log_replayer/visibility/value example_interfaces::msg::Float64 /driving_log_replayer/visibility/level example_interfaces::msg::Byte /driving_log_replayer/blockage/{lidar_name}/ground/ratio example_interfaces::msg::Float64 /driving_log_replayer/blockage/{lidar_name}/sky/ratio example_interfaces::msg::Float64 /driving_log_replayer/blockage/{lidar_name}/level example_interfaces::msg::Byte /initialpose geometry_msgs::msg::PoseWithCovarianceStamped {lidar_name}\u306b\u306f\u3001\u642d\u8f09\u3055\u308c\u3066\u3044\u308b lidar \u306e\u540d\u524d\u304c\u5165\u308b\u3002","title":"\u8a55\u4fa1\u30ce\u30fc\u30c9\u304c\u4f7f\u7528\u3059\u308b Topic \u540d\u3068\u30c7\u30fc\u30bf\u578b"},{"location":"ja/use_case/performance_diag/#logging_simulatorlaunch","text":"autoware \u306e\u51e6\u7406\u3092\u8efd\u304f\u3059\u308b\u305f\u3081\u3001\u8a55\u4fa1\u306b\u95a2\u4fc2\u306e\u306a\u3044\u30e2\u30b8\u30e5\u30fc\u30eb\u306f launch \u306e\u5f15\u6570\u306b false \u3092\u6e21\u3059\u3053\u3068\u3067\u7121\u52b9\u5316\u3059\u308b\u3002\u4ee5\u4e0b\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u3002 planning: false control: false localization: false / true (\u30c7\u30d5\u30a9\u30eb\u30c8 false\u3001\u30b7\u30ca\u30ea\u30aa\u3067\u6307\u5b9a\u3059\u308b)","title":"logging_simulator.launch \u306b\u6e21\u3059\u5f15\u6570"},{"location":"ja/use_case/performance_diag/#simulation","text":"\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u5b9f\u884c\u306b\u5fc5\u8981\u306a\u60c5\u5831\u3092\u8ff0\u3079\u308b\u3002","title":"simulation"},{"location":"ja/use_case/performance_diag/#rosbag-topic","text":"\u8eca\u4e21\u306e ECU \u306e CAN \u3068\u3001\u4f7f\u7528\u3057\u3066\u3044\u308b sensor \u306e topic \u304c\u5fc5\u8981 \u4ee5\u4e0b\u306f\u4f8b\u3067\u3042\u308a\u3001\u9055\u3046\u30bb\u30f3\u30b5\u30fc\u3092\u4f7f\u3063\u3066\u3044\u308b\u5834\u5408\u306f\u9069\u5b9c\u8aad\u307f\u66ff\u3048\u308b\u3002 LiDAR \u304c\u8907\u6570\u3064\u3044\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u3059\u3079\u3066\u306e LiDAR \u306e packets \u3092\u542b\u3081\u308b /sensing/gnss/ublox/fix_velocity /sensing/gnss/ublox/nav_sat_fix /sensing/gnss/ublox/navpvt /sensing/imu/tamagawa/imu_raw /sensing/lidar/*/velodyne_packets /gsm8/from_can_bus /tf \u6ce8:localization \u304c false(\u30c7\u30d5\u30a9\u30eb\u30c8\u3067 false)\u306e\u5834\u5408\u306f/tf \u304c\u5fc5\u8981\u3002","title":"\u5165\u529b rosbag \u306b\u542b\u307e\u308c\u308b\u3079\u304d topic"},{"location":"ja/use_case/performance_diag/#rosbag-topic_1","text":"/clock","title":"\u5165\u529b rosbag \u306b\u542b\u307e\u308c\u3066\u306f\u3044\u3051\u306a\u3044 topic"},{"location":"ja/use_case/performance_diag/#evaluation","text":"\u8a55\u4fa1\u306b\u5fc5\u8981\u306a\u60c5\u5831\u3092\u8ff0\u3079\u308b\u3002","title":"evaluation"},{"location":"ja/use_case/performance_diag/#_4","text":"Evaluation : UseCaseName : performance_diag UseCaseFormatVersion : 1.0.0 LaunchLocalization : false # false\u306e\u3068\u304d\u306fbag\u306e\u4e2d\u306b\u5165\u3063\u3066\u3044\u308b/tf\u3092\u51fa\u529b\u3059\u308b\u3002true\u306e\u3068\u304d\u306fbag\u306e\u4e2d\u306etf\u306f\u30ea\u30de\u30c3\u30d7\u3055\u308c\u7121\u52b9\u5316\u3055\u308c\u308b\u3002 InitialPose : null # \u521d\u671f\u4f4d\u7f6e\u3092\u6307\u5b9a\u3059\u308b\u3002LaunchLocalization\u304c\u6709\u52b9\u306e\u3068\u304d\u3060\u3051\u6a5f\u80fd\u3059\u308b Conditions : LiDAR : Visibility : PassFrameCount : 100 # ScenarioType\u304cTP\u306e\u3068\u304d\u306b\u3053\u306e\u56de\u6570\u4ee5\u4e0aERROR\u304c\u51fa\u308c\u3070Visibility\u306e\u8a66\u9a13\u306f\u6210\u529f\u3068\u3059\u308b\u3002FP\u306e\u5834\u5408\u306fERROR\u304c\u4e00\u5207\u51fa\u306a\u3044\u3053\u3068\u304c\u6761\u4ef6\u306a\u306e\u3067\u3053\u306e\u6761\u4ef6\u306f\u7121\u8996\u3055\u308c\u308b ScenarioType : FP # TP/FP/null Blockage : front_lower : # \u642d\u8f09\u3055\u308c\u3066\u3044\u308bLiDAR\u6bce\u306b\u8a2d\u5b9a\u3059\u308b ScenarioType : TP # TP/FP/null BlockageType : both # sky/ground/both \u3069\u3053\u3067blockage\u304c\u767a\u751f\u3057\u3066\u3044\u308b\u304b PassFrameCount : 100 # ScenarioType\u304cTP\u3001Blockage\u306e\u30bf\u30a4\u30d7\u304c\u4e00\u81f4\u3001\u304b\u3064ERROR\u304c\u3053\u306e\u56de\u6570\u4ee5\u4e0a\u51fa\u308c\u3070Blockage\u306e\u8a66\u9a13\u306f\u6210\u529f\u3068\u3059\u308b\u3002FP\u306e\u5834\u5408\u306fERROR\u304c\u4e00\u5207\u51fa\u306a\u3044\u3053\u3068\u304c\u6761\u4ef6\u306a\u306e\u3067\u3053\u306e\u6761\u4ef6\u306f\u7121\u8996\u3055\u308c\u308b front_upper : ScenarioType : TP BlockageType : both PassFrameCount : 100 left_lower : ScenarioType : FP BlockageType : sky PassFrameCount : 30 left_upper : ScenarioType : FP BlockageType : both PassFrameCount : 40 rear_lower : ScenarioType : FP BlockageType : ground PassFrameCount : 50 rear_upper : ScenarioType : FP BlockageType : sky PassFrameCount : 60 right_lower : ScenarioType : FP BlockageType : both PassFrameCount : 70 right_upper : ScenarioType : FP BlockageType : ground PassFrameCount : 80","title":"\u30b7\u30ca\u30ea\u30aa\u30d5\u30a9\u30fc\u30de\u30c3\u30c8"},{"location":"ja/use_case/performance_diag/#_5","text":"performance_diag \u3067\u306f\u3001visibility \u3068 blockage \u306e 2 \u3064\u3092\u8a55\u4fa1\u3057\u3066\u3044\u308b\u3002 Result \u306f visibility \u3068 blockage \u306e\u4e21\u65b9\u3092\u30d1\u30b9\u3057\u3066\u3044\u308c\u3070 true \u3067\u305d\u308c\u4ee5\u5916\u306f false \u5931\u6557\u3068\u306a\u308b\u3002 \u4ee5\u4e0b\u306b\u3001\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u793a\u3059\u3002 \u6ce8:\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u89e3\u8aac\u6e08\u307f\u306e\u5171\u901a\u90e8\u5206\u306b\u3064\u3044\u3066\u306f\u7701\u7565\u3059\u308b\u3002 { \"Frame\" : { \"Visibility\" : [ { \"Result\" : \"Success, Fail, or Skipped\" , \"Info\" : [ { \"Level\" : \"diag\u306e\u30ec\u30d9\u30eb\" , \"Visibility\" : \"visibility\u306e\u5024\" } ] } ], \"Blockage\" : [ { \"Result\" : \"Success, Fail, or Skipped\" , \"Info\" : [ { \"Name\" : \"LiDAR\u306e\u540d\u524d\" , \"Level\" : \"diag\u306e\u30ec\u30d9\u30eb\" , \"GroundBlockageRatio\" : \"\u5730\u4e0a\u5074\u306eblockage\u6bd4\u7387\" , \"GroundBlockageCount\" : \"\u53c2\u8003\u5024\" , \"SkyBlockageRatio\" : \"\u7a7a\u4e2d\u5074\u306eblockage\u6bd4\u7387\" , \"SkyBlockageCount\" : \"\u53c2\u8003\u5024\" } ] } ] } }","title":"\u8a55\u4fa1\u7d50\u679c\u30d5\u30a9\u30fc\u30de\u30c3\u30c8"}]}